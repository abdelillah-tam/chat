var WS=Object.defineProperty,qS=Object.defineProperties;var YS=Object.getOwnPropertyDescriptors;var Kv=Object.getOwnPropertySymbols;var KS=Object.prototype.hasOwnProperty,ZS=Object.prototype.propertyIsEnumerable;var Zv=(t,e,n)=>e in t?WS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v=(t,e)=>{for(var n in e||={})KS.call(e,n)&&Zv(t,n,e[n]);if(Kv)for(var n of Kv(e))ZS.call(e,n)&&Zv(t,n,e[n]);return t},N=(t,e)=>qS(t,YS(e));var be=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function Qv(t,e){return Object.is(t,e)}var Me=null,Za=!1,Qa=1,Dn=Symbol("SIGNAL");function H(t){let e=Me;return Me=t,e}function Jv(){return Me}var zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ld(t){if(Za)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(t);let e=Me.nextProducerIndex++;if(tc(Me),e<Me.producerNode.length&&Me.producerNode[e]!==t&&Go(Me)){let n=Me.producerNode[e];ec(n,Me.producerIndexOfThis[e])}Me.producerNode[e]!==t&&(Me.producerNode[e]=t,Me.producerIndexOfThis[e]=Go(Me)?ny(t,Me,e):0),Me.producerLastReadVersion[e]=t.version}function QS(){Qa++}function Xv(t){if(!(Go(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Qa)){if(!t.producerMustRecompute(t)&&!Vd(t)){t.dirty=!1,t.lastCleanEpoch=Qa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Qa}}function ey(t){if(t.liveConsumerNode===void 0)return;let e=Za;Za=!0;try{for(let n of t.liveConsumerNode)n.dirty||JS(n)}finally{Za=e}}function ty(){return Me?.consumerAllowSignalWrites!==!1}function JS(t){t.dirty=!0,ey(t),t.consumerMarkedDirty?.(t)}function Xa(t){return t&&(t.nextProducerIndex=0),H(t)}function jd(t,e){if(H(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Go(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ec(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vd(t){tc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Xv(n),r!==n.version))return!0}return!1}function Ud(t){if(tc(t),Go(t))for(let e=0;e<t.producerNode.length;e++)ec(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ny(t,e,n){if(ry(t),t.liveConsumerNode.length===0&&iy(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ny(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ec(t,e){if(ry(t),t.liveConsumerNode.length===1&&iy(t))for(let r=0;r<t.producerNode.length;r++)ec(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];tc(i),i.producerIndexOfThis[r]=e}}function Go(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function tc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ry(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iy(t){return t.producerNode!==void 0}function oy(t){let e=Object.create(XS);e.computation=t;let n=()=>{if(Xv(e),Ld(e),e.value===Ja)throw e.error;return e.value};return n[Dn]=e,n}var Fd=Symbol("UNSET"),Pd=Symbol("COMPUTING"),Ja=Symbol("ERRORED"),XS=N(v({},zo),{value:Fd,dirty:!0,error:null,equal:Qv,producerMustRecompute(t){return t.value===Fd||t.value===Pd},producerRecomputeValue(t){if(t.value===Pd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Pd;let n=Xa(t),r;try{r=t.computation()}catch(i){r=Ja,t.error=i}finally{jd(t,n)}if(e!==Fd&&e!==Ja&&r!==Ja&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function eT(){throw new Error}var sy=eT;function ay(){sy()}function cy(t){sy=t}var tT=null;function ly(t){let e=Object.create(dy);e.value=t;let n=()=>(Ld(e),e.value);return n[Dn]=e,n}function Bd(t,e){ty()||ay(),t.equal(t.value,e)||(t.value=e,nT(t))}function uy(t,e){ty()||ay(),Bd(t,e(t.value))}var dy=N(v({},zo),{equal:Qv,value:void 0});function nT(t){t.version++,QS(),ey(t),tT?.()}function k(t){return typeof t=="function"}function Si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var nc=Si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){e=o instanceof nc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fy(o)}catch(s){e=e??[],s instanceof nc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ar(n,e)}remove(e){let{_finalizers:n}=this;n&&Ar(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();var $d=ve.EMPTY;function rc(t){return t instanceof ve||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function fy(t){k(t)?t():t.unsubscribe()}var Ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ti={setTimeout(t,e,...n){let{delegate:r}=Ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ic(t){Ti.setTimeout(()=>{let{onUnhandledError:e}=Ot;if(e)e(t);else throw t})}function In(){}var hy=Hd("C",void 0,void 0);function py(t){return Hd("E",void 0,t)}function my(t){return Hd("N",t,void 0)}function Hd(t,e,n){return{kind:t,value:e,error:n}}var Nr=null;function xi(t){if(Ot.useDeprecatedSynchronousErrorHandling){let e=!Nr;if(e&&(Nr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nr;if(Nr=null,n)throw r}}else t()}function gy(t){Ot.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=t)}var Rr=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rc(e)&&e.add(this)):this.destination=oT}static create(e,n,r){return new Mi(e,n,r)}next(e){this.isStopped?zd(my(e),this):this._next(e)}error(e){this.isStopped?zd(py(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zd(hy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rT=Function.prototype.bind;function Gd(t,e){return rT.call(t,e)}var Wd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){oc(r)}else oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){oc(n)}}},Mi=class extends Rr{constructor(e,n,r){super();let i;if(k(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ot.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gd(e.next,o),error:e.error&&Gd(e.error,o),complete:e.complete&&Gd(e.complete,o)}):i=e}this.destination=new Wd(i)}};function oc(t){Ot.useDeprecatedSynchronousErrorHandling?gy(t):ic(t)}function iT(t){throw t}function zd(t,e){let{onStoppedNotification:n}=Ot;n&&Ti.setTimeout(()=>n(t,e))}var oT={closed:!0,next:In,error:iT,complete:In};var Ai=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $e(t){return t}function qd(...t){return Yd(t)}function Yd(t){return t.length===0?$e:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var P=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=aT(n)?n:new Mi(n,r,i);return xi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=vy(r),new r((i,o)=>{let s=new Mi({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ai](){return this}pipe(...n){return Yd(n)(this)}toPromise(n){return n=vy(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function vy(t){var e;return(e=t??Ot.Promise)!==null&&e!==void 0?e:Promise}function sT(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function aT(t){return t&&t instanceof Rr||sT(t)&&rc(t)}function Kd(t){return k(t?.lift)}function R(t){return e=>{if(Kd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function A(t,e,n,r,i){return new Wo(t,e,n,r,i)}var Wo=class extends Rr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ni(){return R((t,e)=>{let n=null;t._refCount++;let r=A(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Ri=class extends P{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ve;let n=this.getSubject();e.add(this.source.subscribe(A(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ve.EMPTY)}return e}refCount(){return Ni()(this)}};var yy=Si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=(()=>{class t extends P{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new sc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yy}next(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$d:(this.currentObservers=null,o.push(n),new ve(()=>{this.currentObservers=null,Ar(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new P;return n.source=this,n}}return t.create=(e,n)=>new sc(e,n),t})(),sc=class extends le{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$d}};var Ee=class extends le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Zd={now(){return(Zd.delegate||Date).now()},delegate:void 0};var ac=class extends ve{constructor(e,n){super()}schedule(e,n=0){return this}};var qo={setInterval(t,e,...n){let{delegate:r}=qo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Oi=class extends ac{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return qo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ki=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ki.now=Zd.now;var Fi=class extends ki{constructor(e,n=ki.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var _y=new Fi(Oi);var cc=class extends Oi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var lc=class extends Fi{};var Qd=new lc(cc);var He=new P(t=>t.complete());function by(t){return t&&k(t.schedule)}function Jd(t){return t[t.length-1]}function Pi(t){return k(Jd(t))?t.pop():void 0}function Zt(t){return by(Jd(t))?t.pop():void 0}function Ey(t,e){return typeof Jd(t)=="number"?t.pop():e}function Cy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function wy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Or(t){return this instanceof Or?(this.v=t,this):new Or(t)}function Dy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i={},a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(g){return new Promise(function(_,D){o.push([h,g,_,D])>1||c(h,g)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(g){f(o[0][3],g)}}function l(h){h.value instanceof Or?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Iy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wy=="function"?wy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function dc(t){return k(t?.then)}function fc(t){return k(t[Ai])}function hc(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function pc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mc=cT();function gc(t){return k(t?.[mc])}function vc(t){return Dy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Or(n.read());if(i)return yield Or(void 0);yield yield Or(r)}}finally{n.releaseLock()}})}function yc(t){return k(t?.getReader)}function re(t){if(t instanceof P)return t;if(t!=null){if(fc(t))return lT(t);if(uc(t))return uT(t);if(dc(t))return dT(t);if(hc(t))return Sy(t);if(gc(t))return fT(t);if(yc(t))return hT(t)}throw pc(t)}function lT(t){return new P(e=>{let n=t[Ai]();if(k(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uT(t){return new P(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function dT(t){return new P(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ic)})}function fT(t){return new P(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Sy(t){return new P(e=>{pT(t,e).catch(n=>e.error(n))})}function hT(t){return Sy(vc(t))}function pT(t,e){var n,r,i,o;return Cy(this,void 0,void 0,function*(){try{for(n=Iy(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function it(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function kr(t,e=0){return R((n,r)=>{n.subscribe(A(r,i=>it(r,t,()=>r.next(i),e),()=>it(r,t,()=>r.complete(),e),i=>it(r,t,()=>r.error(i),e)))})}function _c(t,e=0){return R((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ty(t,e){return re(t).pipe(_c(e),kr(e))}function xy(t,e){return re(t).pipe(_c(e),kr(e))}function My(t,e){return new P(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ay(t,e){return new P(n=>{let r;return it(n,e,()=>{r=t[mc](),it(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function bc(t,e){if(!t)throw new Error("Iterable cannot be null");return new P(n=>{it(n,e,()=>{let r=t[Symbol.asyncIterator]();it(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ny(t,e){return bc(vc(t),e)}function Ry(t,e){if(t!=null){if(fc(t))return Ty(t,e);if(uc(t))return My(t,e);if(dc(t))return xy(t,e);if(hc(t))return bc(t,e);if(gc(t))return Ay(t,e);if(yc(t))return Ny(t,e)}throw pc(t)}function ie(t,e){return e?Ry(t,e):re(t)}function M(...t){let e=Zt(t);return ie(t,e)}function Qn(t,e){let n=k(t)?t:()=>t,r=i=>i.error(n());return new P(e?i=>e.schedule(r,0,i):r)}var Jn=class t{constructor(e,n,r){this.kind=e,this.value=n,this.error=r,this.hasValue=e==="N"}observe(e){return Xd(this,e)}do(e,n,r){let{kind:i,value:o,error:s}=this;return i==="N"?e?.(o):i==="E"?n?.(s):r?.()}accept(e,n,r){var i;return k((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,n,r)}toObservable(){let{kind:e,value:n,error:r}=this,i=e==="N"?M(n):e==="E"?Qn(()=>r):e==="C"?He:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};Jn.completeNotification=new Jn("C");function Xd(t,e){var n,r,i;let{kind:o,value:s,error:a}=t;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(n=e.next)===null||n===void 0||n.call(e,s):o==="E"?(r=e.error)===null||r===void 0||r.call(e,a):(i=e.complete)===null||i===void 0||i.call(e)}function ef(t){return!!t&&(t instanceof P||k(t.lift)&&k(t.subscribe))}var Sn=Si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T(t,e){return R((n,r)=>{let i=0;n.subscribe(A(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:mT}=Array;function gT(t,e){return mT(e)?t(...e):t(e)}function Ec(t){return T(e=>gT(t,e))}var{isArray:vT}=Array,{getPrototypeOf:yT,prototype:_T,keys:bT}=Object;function wc(t){if(t.length===1){let e=t[0];if(vT(e))return{args:e,keys:null};if(ET(e)){let n=bT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ET(t){return t&&typeof t=="object"&&yT(t)===_T}function Cc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Li(...t){let e=Zt(t),n=Pi(t),{args:r,keys:i}=wc(t);if(r.length===0)return ie([],e);let o=new P(wT(r,e,i?s=>Cc(i,s):$e));return n?o.pipe(Ec(n)):o}function wT(t,e,n=$e){return r=>{Oy(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Oy(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(A(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Oy(t,e,n){t?it(n,t,e):e()}function ky(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=g=>l<r?p(g):c.push(g),p=g=>{o&&e.next(g),l++;let _=!1;re(n(g,u++)).subscribe(A(e,D=>{i?.(D),o?h(D):e.next(D)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let D=c.shift();s?it(e,s,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(A(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return k(e)?ye((r,i)=>T((o,s)=>e(r,o,i,s))(re(t(r,i))),n):(typeof e=="number"&&(n=e),R((r,i)=>ky(r,i,t,n)))}function Xn(t=1/0){return ye($e,t)}function Fy(){return Xn(1)}function er(...t){return Fy()(ie(t,Zt(t)))}function Yo(t){return new P(e=>{re(t()).subscribe(e)})}function tf(...t){let e=Pi(t),{args:n,keys:r}=wc(t),i=new P(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;re(n[u]).subscribe(A(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Cc(r,a):a),o.complete())}))}});return e?i.pipe(Ec(e)):i}function Dc(...t){let e=Zt(t),n=Ey(t,1/0),r=t;return r.length?r.length===1?re(r[0]):Xn(n)(ie(r,e)):He}function Ae(t,e){return R((n,r)=>{let i=0;n.subscribe(A(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Le(t){return R((e,n)=>{let r=null,i=!1,o;r=e.subscribe(A(n,void 0,void 0,s=>{o=re(t(s,Le(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Py(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(A(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Tn(t,e){return k(e)?ye(t,e,1):ye(t,1)}function nf(t,e=_y){return R((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(A(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function tr(t){return R((e,n)=>{let r=!1;e.subscribe(A(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ht(t){return t<=0?()=>He:R((e,n)=>{let r=0;e.subscribe(A(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function rf(){return R((t,e)=>{t.subscribe(A(e,In))})}function of(t){return T(()=>t)}function sf(){return R((t,e)=>{t.subscribe(A(e,n=>Xd(n,e)))})}function af(t,e=$e){return t=t??CT,R((n,r)=>{let i,o=!0;n.subscribe(A(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function CT(t,e){return t===e}function Ic(t=DT){return R((e,n)=>{let r=!1;e.subscribe(A(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function DT(){return new Sn}function Et(t,e){return e?n=>n.pipe(Et((r,i)=>re(t(r,i)).pipe(T((o,s)=>e(r,o,i,s))))):R((n,r)=>{let i=0,o=null,s=!1;n.subscribe(A(r,a=>{o||(o=A(r,void 0,()=>{o=null,s&&r.complete()}),re(t(a,i++)).subscribe(o))},()=>{s=!0,!o&&r.complete()}))})}function nr(t){return R((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Qt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):$e,ht(1),n?tr(e):Ic(()=>new Sn))}function Sc(t,e,n,r){return R((i,o)=>{let s;!e||typeof e=="function"?s=e:{duration:n,element:s,connector:r}=e;let a=new Map,c=p=>{a.forEach(p),p(o)},l=p=>c(g=>g.error(p)),u=0,d=!1,f=new Wo(o,p=>{try{let g=t(p),_=a.get(g);if(!_){a.set(g,_=r?r():new le);let D=h(g,_);if(o.next(D),n){let L=A(_,()=>{_.complete(),L?.unsubscribe()},void 0,void 0,()=>a.delete(g));f.add(re(n(D)).subscribe(L))}}_.next(s?s(p):p)}catch(g){l(g)}},()=>c(p=>p.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(f);function h(p,g){let _=new P(D=>{u++;let L=g.subscribe(D);return()=>{L.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return _.key=p,_}})}function ji(t){return t<=0?()=>He:R((e,n)=>{let r=[];e.subscribe(A(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function cf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ae((i,o)=>t(i,o,r)):$e,ji(1),n?tr(e):Ic(()=>new Sn))}function lf(){return R((t,e)=>{t.subscribe(A(e,n=>{e.next(Jn.createNext(n))},()=>{e.next(Jn.createComplete()),e.complete()},n=>{e.next(Jn.createError(n)),e.complete()}))})}function uf(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return T(n=>{let r=n;for(let i=0;i<e;i++){let o=r?.[t[i]];if(typeof o<"u")r=o;else return}return r})}function Ko(t,e){return R(Py(t,e,arguments.length>=2,!0))}function df(t){return Ae((e,n)=>t<=n)}function Zo(...t){let e=Zt(t);return R((n,r)=>{(e?er(t,n,e):er(t,n)).subscribe(r)})}function pt(t,e){return R((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(A(r,c=>{i?.unsubscribe();let l=0,u=o++;re(t(c,u)).subscribe(i=A(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Qo(t){return R((e,n)=>{re(t).subscribe(A(n,()=>n.complete(),In)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=k(t)||e||n?{next:t,error:e,complete:n}:t;return r?R((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(A(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):$e}function ff(...t){let e=Pi(t);return R((n,r)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)re(t[c]).subscribe(A(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every($e))&&(s=null))},In));n.subscribe(A(r,c=>{if(a){let l=[c,...o];r.next(e?e(...l):l)}}))})}var E_="https://g.co/ng/security#xss",x=class extends Error{constructor(e,n){super(ol(e,n)),this.code=e}};function ol(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function hs(t){return{toString:t}.toString()}var Tc="__parameters__";function IT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ST(t,e,n){return hs(()=>{let r=IT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Tc)?c[Tc]:Object.defineProperty(c,Tc,{value:[]})[Tc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var xn=globalThis;function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function TT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ly(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var xT=ae({__forward_ref__:ae});function Nn(t){return t.__forward_ref__=Nn,t.toString=function(){return st(this())},t}function tt(t){return w_(t)?t():t}function w_(t){return typeof t=="function"&&t.hasOwnProperty(xT)&&t.__forward_ref__===Nn}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ce(t){return{providers:t.providers||[],imports:t.imports||[]}}function sl(t){return jy(t,D_)||jy(t,I_)}function C_(t){return sl(t)!==null}function jy(t,e){return t.hasOwnProperty(e)?t[e]:null}function MT(t){let e=t&&(t[D_]||t[I_]);return e||null}function Vy(t){return t&&(t.hasOwnProperty(Uy)||t.hasOwnProperty(AT))?t[Uy]:null}var D_=ae({\u0275prov:ae}),Uy=ae({\u0275inj:ae}),I_=ae({ngInjectableDef:ae}),AT=ae({ngInjectorDef:ae}),y=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function S_(t){return t&&!!t.\u0275providers}var NT=ae({\u0275cmp:ae}),RT=ae({\u0275dir:ae}),OT=ae({\u0275pipe:ae}),kT=ae({\u0275mod:ae}),Lc=ae({\u0275fac:ae}),Jo=ae({__NG_ELEMENT_ID__:ae}),By=ae({__NG_ENV_ID__:ae});function Gi(t){return typeof t=="string"?t:t==null?"":String(t)}function FT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gi(t)}function PT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,t)}function Dh(t,e){throw new x(-201,!1)}var G=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(G||{}),Mf;function T_(){return Mf}function ot(t){let e=Mf;return Mf=t,e}function x_(t,e,n){let r=sl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&G.Optional)return null;if(e!==void 0)return e;Dh(t,"Injector")}var LT={},Xo=LT,Af="__NG_DI_FLAG__",jc="ngTempTokenPath",jT="ngTokenPath",VT=/\n/gm,UT="\u0275",$y="__source",$i;function BT(){return $i}function rr(t){let e=$i;return $i=t,e}function $T(t,e=G.Default){if($i===void 0)throw new x(-203,!1);return $i===null?x_(t,void 0,e):$i.get(t,e&G.Optional?null:void 0,e)}function b(t,e=G.Default){return(T_()||$T)(tt(t),e)}function m(t,e=G.Default){return b(t,al(e))}function al(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nf(t){let e=[];for(let n=0;n<t.length;n++){let r=tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=G.Default;for(let s=0;s<r.length;s++){let a=r[s],c=GT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(b(i,o))}else e.push(b(r))}return e}function HT(t,e){return t[Af]=e,t.prototype[Af]=e,t}function GT(t){return t[Af]}function zT(t,e,n,r){let i=t[jc];throw e[$y]&&i.unshift(e[$y]),t.message=WT(`
`+t.message,i,n,r),t[jT]=i,t[jc]=null,t}function WT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UT?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VT,`
  `)}`}var Ih=HT(ST("Inject",t=>({token:t})),-1);function jr(t,e){let n=t.hasOwnProperty(Lc);return n?t[Lc]:null}function qT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function YT(t){return t.flat(Number.POSITIVE_INFINITY)}function Sh(t,e){t.forEach(n=>Array.isArray(n)?Sh(n,e):e(n))}function M_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Vc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function KT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function ZT(t,e,n){let r=ps(t,e);return r>=0?t[r|1]=n:(r=~r,KT(t,r,e,n)),r}function hf(t,e){let n=ps(t,e);if(n>=0)return t[n|1]}function ps(t,e){return QT(t,e,1)}function QT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var zi={},wt=[],Pt=new y(""),A_=new y("",-1),N_=new y(""),Uc=class{get(e,n=Xo){if(n===Xo){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}},R_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(R_||{}),en=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(en||{}),sr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(sr||{});function JT(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Rf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];XT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function O_(t){return t===3||t===4||t===6}function XT(t){return t.charCodeAt(0)===64}function es(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Hy(t,n,i,null,e[++r]):Hy(t,n,i,null,null))}}return t}function Hy(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var k_="ng-template";function ex(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&JT(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Th(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Th(t){return t.type===4&&t.value!==k_}function tx(t,e,n){let r=t.type===4&&!n?k_:t.value;return e===r}function nx(t,e,n){let r=4,i=t.attrs,o=i!==null?ox(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!kt(r)&&!kt(c))return!1;if(s&&kt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!tx(t,c,n)||c===""&&e.length===1){if(kt(r))return!1;s=!0}}else if(r&8){if(i===null||!ex(t,i,c,n)){if(kt(r))return!1;s=!0}}else{let l=e[++a],u=rx(c,i,Th(t),n);if(u===-1){if(kt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(kt(r))return!1;s=!0}}}}return kt(r)||s}function kt(t){return(t&1)===0}function rx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return sx(e,t)}function ix(t,e,n=!1){for(let r=0;r<e.length;r++)if(nx(t,e[r],n))return!0;return!1}function ox(t){for(let e=0;e<t.length;e++){let n=t[e];if(O_(n))return e}return t.length}function sx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Gy(t,e){return t?":not("+e.trim()+")":e}function ax(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!kt(s)&&(e+=Gy(o,i),i=""),r=s,o=o||!kt(r);n++}return i!==""&&(e+=Gy(o,i)),e}function cx(t){return t.map(ax).join(",")}function lx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!kt(i))break;i=o}r++}return{attrs:e,classes:n}}function Re(t){return hs(()=>{let e=U_(t),n=N(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===R_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||en.Emulated,styles:t.styles||wt,_:null,schemas:t.schemas||null,tView:null,id:""});B_(n);let r=t.dependencies;return n.directiveDefs=Wy(r,!1),n.pipeDefs=Wy(r,!0),n.id=fx(n),n})}function ux(t){return Vr(t)||P_(t)}function dx(t){return t!==null}function De(t){return hs(()=>({type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zy(t,e){if(t==null)return zi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=sr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==sr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function me(t){return hs(()=>{let e=U_(t);return B_(e),e})}function F_(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vr(t){return t[NT]||null}function P_(t){return t[RT]||null}function L_(t){return t[OT]||null}function j_(t){let e=Vr(t)||P_(t)||L_(t);return e!==null?e.standalone:!1}function V_(t,e){let n=t[kT]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function U_(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zy(t.inputs,e),outputs:zy(t.outputs),debugInfo:null}}function B_(t){t.features?.forEach(e=>e(t))}function Wy(t,e){if(!t)return null;let n=e?L_:ux;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(dx)}function fx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function jt(t){return{\u0275providers:t}}function hx(...t){return{\u0275providers:$_(!0,t),\u0275fromNgModule:!0}}function $_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Sh(e,s=>{let a=s;Of(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&H_(i,o),n}function H_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];xh(i,o=>{e(o,r)})}}function Of(t,e,n,r){if(t=tt(t),!t)return!1;let i=null,o=Vy(t),s=!o&&Vr(t);if(!o&&!s){let c=t.ngModule;if(o=Vy(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Of(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Sh(o.imports,u=>{Of(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&H_(l,e)}if(!a){let l=jr(i)||(()=>new i);e({provide:i,useFactory:l,deps:wt},i),e({provide:N_,useValue:i,multi:!0},i),e({provide:Pt,useValue:()=>b(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;xh(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function xh(t,e){for(let n of t)S_(n)&&(n=n.\u0275providers),Array.isArray(n)?xh(n,e):e(n)}var px=ae({provide:String,useValue:ae});function G_(t){return t!==null&&typeof t=="object"&&px in t}function mx(t){return!!(t&&t.useExisting)}function gx(t){return!!(t&&t.useFactory)}function Wi(t){return typeof t=="function"}function vx(t){return!!t.useClass}var cl=new y(""),Nc={},yx={},pf;function Mh(){return pf===void 0&&(pf=new Uc),pf}var at=class{},ts=class extends at{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(e,s=>this.processProvider(s)),this.records.set(A_,Vi(void 0,this)),i.has("environment")&&this.records.set(at,Vi(void 0,this));let o=this.records.get(cl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(N_,wt,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=rr(this),r=ot(void 0),i;try{return e()}finally{rr(n),ot(r)}}get(e,n=Xo,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(By))return e[By](this);r=al(r);let i,o=rr(this),s=ot(void 0);try{if(!(r&G.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Cx(e)&&sl(e);l&&this.injectableDefInScope(l)?c=Vi(kf(e),Nc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&G.Self?Mh():this.parent;return n=r&G.Optional&&n===Xo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[jc]=a[jc]||[]).unshift(st(e)),o)throw a;return zT(a,e,"R3InjectorError",this.source)}else throw a}finally{ot(s),rr(o)}}resolveInjectorInitializers(){let e=H(null),n=rr(this),r=ot(void 0),i;try{let o=this.get(Pt,wt,G.Self);for(let s of o)s()}finally{rr(n),ot(r),H(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){e=tt(e);let n=Wi(e)?e:tt(e&&e.provide),r=bx(e);if(!Wi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Vi(void 0,Nc,!0),i.factory=()=>Nf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=H(null);try{return n.value===Nc&&(n.value=yx,n.value=n.factory()),typeof n.value=="object"&&n.value&&wx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{H(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function kf(t){let e=sl(t),n=e!==null?e.factory:jr(t);if(n!==null)return n;if(t instanceof y)throw new x(204,!1);if(t instanceof Function)return _x(t);throw new x(204,!1)}function _x(t){if(t.length>0)throw new x(204,!1);let n=MT(t);return n!==null?()=>n.factory(t):()=>new t}function bx(t){if(G_(t))return Vi(void 0,t.useValue);{let e=z_(t);return Vi(e,Nc)}}function z_(t,e,n){let r;if(Wi(t)){let i=tt(t);return jr(i)||kf(i)}else if(G_(t))r=()=>tt(t.useValue);else if(gx(t))r=()=>t.useFactory(...Nf(t.deps||[]));else if(mx(t))r=()=>b(tt(t.useExisting));else{let i=tt(t&&(t.useClass||t.provide));if(Ex(t))r=()=>new i(...Nf(t.deps));else return jr(i)||kf(i)}return r}function Vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ex(t){return!!t.deps}function wx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Cx(t){return typeof t=="function"||typeof t=="object"&&t instanceof y}function Ff(t,e){for(let n of t)Array.isArray(n)?Ff(n,e):n&&S_(n)?Ff(n.\u0275providers,e):e(n)}function Vt(t,e){t instanceof ts&&t.assertNotDestroyed();let n,r=rr(t),i=ot(void 0);try{return e()}finally{rr(r),ot(i)}}function W_(){return T_()!==void 0||BT()!=null}function q_(t){if(!W_())throw new x(-203,!1)}function Dx(t){return typeof t=="function"}var Rn=0,F=1,O=2,Ze=3,Ft=4,Ut=5,ns=6,Bc=7,Ye=8,qi=9,tn=10,Ne=11,rs=12,qy=13,Xi=14,Lt=15,Ur=16,Ui=17,Mn=18,ll=19,Y_=20,ir=21,mf=22,Ct=23,mt=25,K_=1;var Br=7,$c=8,Yi=9,Ke=10,Hc=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hc||{});function or(t){return Array.isArray(t)&&typeof t[K_]=="object"}function On(t){return Array.isArray(t)&&t[K_]===!0}function Z_(t){return(t.flags&4)!==0}function ul(t){return t.componentOffset>-1}function Ah(t){return(t.flags&1)===1}function ar(t){return!!t.template}function Pf(t){return(t[O]&512)!==0}var Lf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Q_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Bt(){return J_}function J_(t){return t.type.prototype.ngOnChanges&&(t.setInput=Sx),Ix}Bt.ngInherit=!0;function Ix(){let t=eb(this),e=t?.current;if(e){let n=t.previous;if(n===zi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Sx(t,e,n,r,i){let o=this.declaredInputs[r],s=eb(t)||Tx(t,{previous:zi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Lf(l&&l.currentValue,n,c===zi),Q_(t,e,i,n)}var X_="__ngSimpleChanges__";function eb(t){return t[X_]||null}function Tx(t,e){return t[X_]=e}var Yy=null;var Jt=function(t,e,n){Yy?.(t,e,n)},tb="svg",xx="math";function nn(t){for(;Array.isArray(t);)t=t[Rn];return t}function nb(t,e){return nn(e[t])}function It(t,e){return nn(e[t.index])}function Nh(t,e){return t.data[e]}function Mx(t,e){return t[e]}function lr(t,e){let n=e[t];return or(n)?n:n[Rn]}function Ax(t){return(t[O]&4)===4}function Rh(t){return(t[O]&128)===128}function Nx(t){return On(t[Ze])}function Ki(t,e){return e==null?null:t[e]}function rb(t){t[Ui]=0}function ib(t){t[O]&1024||(t[O]|=1024,Rh(t)&&dl(t))}function Rx(t,e){for(;t>0;)e=e[Xi],t--;return e}function is(t){return!!(t[O]&9216||t[Ct]?.dirty)}function jf(t){t[tn].changeDetectionScheduler?.notify(7),t[O]&64&&(t[O]|=1024),is(t)&&dl(t)}function dl(t){t[tn].changeDetectionScheduler?.notify(0);let e=$r(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Rh(e)));)e=$r(e)}function ob(t,e){if((t[O]&256)===256)throw new x(911,!1);t[ir]===null&&(t[ir]=[]),t[ir].push(e)}function Ox(t,e){if(t[ir]===null)return;let n=t[ir].indexOf(e);n!==-1&&t[ir].splice(n,1)}function $r(t){let e=t[Ze];return On(e)?e[Ze]:e}var V={lFrame:gb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sb=!1;function kx(){return V.lFrame.elementDepthCount}function Fx(){V.lFrame.elementDepthCount++}function Px(){V.lFrame.elementDepthCount--}function ab(){return V.bindingsEnabled}function Lx(){return V.skipHydrationRootTNode!==null}function jx(t){return V.skipHydrationRootTNode===t}function Vx(){V.skipHydrationRootTNode=null}function Y(){return V.lFrame.lView}function Ge(){return V.lFrame.tView}function eo(t){return V.lFrame.contextLView=t,t[Ye]}function to(t){return V.lFrame.contextLView=null,t}function Qe(){let t=cb();for(;t!==null&&t.type===64;)t=t.parent;return t}function cb(){return V.lFrame.currentTNode}function Ux(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ms(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function lb(){return V.lFrame.isParent}function Bx(){V.lFrame.isParent=!1}function ub(){return sb}function Ky(t){sb=t}function db(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function $x(){return V.lFrame.bindingIndex}function Hx(t){return V.lFrame.bindingIndex=t}function no(){return V.lFrame.bindingIndex++}function fb(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Gx(){return V.lFrame.inI18n}function zx(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,Vf(e)}function Wx(){return V.lFrame.currentDirectiveIndex}function Vf(t){V.lFrame.currentDirectiveIndex=t}function qx(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function hb(){return V.lFrame.currentQueryIndex}function Oh(t){V.lFrame.currentQueryIndex=t}function Yx(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[Ut]:null}function pb(t,e,n){if(n&G.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&G.Host);)if(i=Yx(o),i===null||(o=o[Xi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=V.lFrame=mb();return r.currentTNode=e,r.lView=t,!0}function kh(t){let e=mb(),n=t[F];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mb(){let t=V.lFrame,e=t===null?null:t.child;return e===null?gb(t):e}function gb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function vb(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yb=vb;function Fh(){let t=vb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kx(t){return(V.lFrame.contextLView=Rx(t,V.lFrame.contextLView))[Ye]}function ur(){return V.lFrame.selectedIndex}function Hr(t){V.lFrame.selectedIndex=t}function Ph(){let t=V.lFrame;return Nh(t.tView,t.selectedIndex)}function kn(){V.lFrame.currentNamespace=tb}function Kr(){Zx()}function Zx(){V.lFrame.currentNamespace=null}function Qx(){return V.lFrame.currentNamespace}var _b=!0;function Lh(){return _b}function jh(t){_b=t}function Jx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=J_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Vh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Rc(t,e,n){bb(t,e,3,n)}function Oc(t,e,n,r){(t[O]&3)===n&&bb(t,e,n,r)}function gf(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function bb(t,e,n,r){let i=r!==void 0?t[Ui]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ui]+=65536),(a<o||o==-1)&&(Xx(t,n,e,c),t[Ui]=(t[Ui]&4294901760)+c+2),c++}function Zy(t,e){Jt(4,t,e);let n=H(null);try{e.call(t)}finally{H(n),Jt(5,t,e)}}function Xx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Ui]>>16&&(t[O]&3)===e&&(t[O]+=16384,Zy(a,o)):Zy(a,o)}var Hi=-1,Gr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eM(t){return t instanceof Gr}function tM(t){return(t.flags&8)!==0}function nM(t){return(t.flags&16)!==0}var vf={},Uf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=al(r);let i=this.injector.get(e,vf,r);return i!==vf||n===vf?i:this.parentInjector.get(e,n,r)}};function Eb(t){return t!==Hi}function Gc(t){return t&32767}function rM(t){return t>>16}function zc(t,e){let n=rM(t),r=e;for(;n>0;)r=r[Xi],n--;return r}var Bf=!0;function Wc(t){let e=Bf;return Bf=t,e}var iM=256,wb=iM-1,Cb=5,oM=0,Xt={};function sM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),r==null&&(r=n[Jo]=oM++);let i=r&wb,o=1<<i;e.data[t+(i>>Cb)]|=o}function qc(t,e){let n=Db(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,yf(r.data,t),yf(e,null),yf(r.blueprint,null));let i=Uh(t,e),o=t.injectorIndex;if(Eb(i)){let s=Gc(i),a=zc(i,e),c=a[F].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function yf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Db(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Mb(i),r===null)return Hi;if(n++,i=i[Xi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Hi}function $f(t,e,n){sM(t,e,n)}function aM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(O_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Ib(t,e,n){if(n&G.Optional||t!==void 0)return t;Dh(e,"NodeInjector")}function Sb(t,e,n,r){if(n&G.Optional&&r===void 0&&(r=null),!(n&(G.Self|G.Host))){let i=t[qi],o=ot(void 0);try{return i?i.get(e,r,n&G.Optional):x_(e,r,n&G.Optional)}finally{ot(o)}}return Ib(r,e,n)}function Tb(t,e,n,r=G.Default,i){if(t!==null){if(e[O]&2048&&!(r&G.Self)){let s=dM(t,e,n,r,Xt);if(s!==Xt)return s}let o=xb(t,e,n,r,Xt);if(o!==Xt)return o}return Sb(e,n,r,i)}function xb(t,e,n,r,i){let o=lM(n);if(typeof o=="function"){if(!pb(e,t,r))return r&G.Host?Ib(i,n,r):Sb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&G.Optional))Dh(n);else return s}finally{yb()}}else if(typeof o=="number"){let s=null,a=Db(t,e),c=Hi,l=r&G.Host?e[Lt][Ut]:null;for((a===-1||r&G.SkipSelf)&&(c=a===-1?Uh(t,e):e[a+8],c===Hi||!Jy(r,!1)?a=-1:(s=e[F],a=Gc(c),e=zc(c,e)));a!==-1;){let u=e[F];if(Qy(o,a,u.data)){let d=cM(a,e,n,s,r,l);if(d!==Xt)return d}c=e[a+8],c!==Hi&&Jy(r,e[F].data[a+8]===l)&&Qy(o,a,e)?(s=u,a=Gc(c),e=zc(c,e)):a=-1}}return i}function cM(t,e,n,r,i,o){let s=e[F],a=s.data[t+8],c=r==null?ul(a)&&Bf:r!=s&&(a.type&3)!==0,l=i&G.Host&&o===a,u=kc(a,s,n,c,l);return u!==null?zr(e,s,u,a):Xt}function kc(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&ar(h)&&h.type===n)return c}return null}function zr(t,e,n,r){let i=t[n],o=e.data;if(eM(i)){let s=i;s.resolving&&PT(FT(o[n]));let a=Wc(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ot(s.injectImpl):null,u=pb(t,r,G.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Jx(n,o[n],e)}finally{l!==null&&ot(l),Wc(a),s.resolving=!1,yb()}}return i}function lM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jo)?t[Jo]:void 0;return typeof e=="number"?e>=0?e&wb:uM:e}function Qy(t,e,n){let r=1<<t;return!!(n[e+(t>>Cb)]&r)}function Jy(t,e){return!(t&G.Self)&&!(t&G.Host&&e)}var Lr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Tb(this._tNode,this._lView,e,al(r),n)}};function uM(){return new Lr(Qe(),Y())}function Fn(t){return hs(()=>{let e=t.prototype.constructor,n=e[Lc]||Hf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Lc]||Hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hf(t){return w_(t)?()=>{let e=Hf(tt(t));return e&&e()}:jr(t)}function dM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=xb(o,s,n,r|G.Self,Xt);if(a!==Xt)return a;let c=o.parent;if(!c){let l=s[Y_];if(l){let u=l.get(n,Xt,r);if(u!==Xt)return u}c=Mb(s),s=s[Xi]}o=c}return i}function Mb(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[Ut]:null}function Bh(t){return aM(Qe(),t)}function Xy(t,e=null,n=null,r){let i=Ab(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ab(t,e=null,n=null,r,i=new Set){let o=[n||wt,hx(t)];return r=r||(typeof t=="object"?void 0:st(t)),new ts(o,e||Mh(),r||null,i)}var Pr=class Pr{static create(e,n){if(Array.isArray(e))return Xy({name:""},n,e,"");{let r=e.name??"";return Xy({name:r},e.parent,e.providers,r)}}};Pr.THROW_IF_NOT_FOUND=Xo,Pr.NULL=new Uc,Pr.\u0275prov=C({token:Pr,providedIn:"any",factory:()=>b(A_)}),Pr.__NG_ELEMENT_ID__=-1;var rn=Pr;var fM=new y("");fM.__NG_ELEMENT_ID__=t=>{let e=Qe();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(t&G.Optional)return null;throw new x(204,!1)};var hM="ngOriginalError";function _f(t){return t[hM]}var Dt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_f(e);for(;n&&_f(n);)n=_f(n);return n||null}},Nb=new y("",{providedIn:"root",factory:()=>m(Dt).handleError.bind(void 0)}),ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pM,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Gf=class extends ro{constructor(e){super(),this._lView=e}onDestroy(e){return ob(this._lView,e),()=>Ox(this._lView,e)}};function pM(){return new Gf(Y())}var zf=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=m(Dt,{optional:!0}),this.destroyRef=m(ro),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new x(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new x(953,!1);if(this.listeners===null)return;let n=H(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{H(n)}}};function Rb(t){return new zf}function mM(){return io(Qe(),Y())}function io(t,e){return new Ie(It(t,e))}var Ie=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=mM;let t=e;return t})();function gM(t){return t instanceof Ie?t.nativeElement:t}var dr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ee(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Wf=class extends le{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,W_()&&(this.destroyRef=m(ro,{optional:!0})??void 0,this.pendingTasks=m(dr,{optional:!0})??void 0)}emit(e){let n=H(null);try{super.next(e)}finally{H(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ve&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},he=Wf;function vM(){return this._results[Symbol.iterator]()}var Yc=class t{get changes(){return this._changes??=new he}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vM)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=YT(e);(this._changesDetected=!qT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Ob(t){return(t.flags&128)===128}var kb=new Map,yM=0;function _M(){return yM++}function bM(t){kb.set(t[ll],t)}function EM(t){kb.delete(t[ll])}var e_="__ngContext__";function Wr(t,e){or(e)?(t[e_]=e[ll],bM(e)):t[e_]=e}function Fb(t){return Lb(t[rs])}function Pb(t){return Lb(t[Ft])}function Lb(t){for(;t!==null&&!On(t);)t=t[Ft];return t}var qf;function jb(t){qf=t}function wM(){if(qf!==void 0)return qf;if(typeof document<"u")return document;throw new x(210,!1)}var fl=new y("",{providedIn:"root",factory:()=>CM}),CM="ng",$h=new y(""),sn=new y("",{providedIn:"platform",factory:()=>"unknown"});var gs=new y("",{providedIn:"root",factory:()=>wM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var DM="h",IM="b";var SM=()=>null;function Hh(t,e,n=!1){return SM(t,e,n)}var Vb=!1,TM=new y("",{providedIn:"root",factory:()=>Vb});var xc;function xM(){if(xc===void 0&&(xc=null,xn.trustedTypes))try{xc=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xc}function t_(t){return xM()?.createScriptURL(t)||t}var Kc=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${E_})`}};function vs(t){return t instanceof Kc?t.changingThisBreaksApplicationSecurity:t}function Gh(t,e){let n=MM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${E_})`)}return n===e}function MM(t){return t instanceof Kc&&t.getTypeName()||null}var AM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ub(t){return t=String(t),t.match(AM)?t:"unsafe:"+t}var hl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hl||{});function NM(t){let e=$b();return e?e.sanitize(hl.URL,t)||"":Gh(t,"URL")?vs(t):Ub(Gi(t))}function RM(t){let e=$b();if(e)return t_(e.sanitize(hl.RESOURCE_URL,t)||"");if(Gh(t,"ResourceURL"))return t_(vs(t));throw new x(904,!1)}function OM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?RM:NM}function Bb(t,e,n){return OM(e,n)(t)}function $b(){let t=Y();return t&&t[tn].sanitizer}function Hb(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),kM;function zh(t,e){return kM(t,e)}function Bi(t,e,n,r,i){if(r!=null){let o,s=!1;On(r)?o=r:or(r)&&(s=!0,r=r[Rn]);let a=nn(r);t===0&&n!==null?i==null?qb(e,n,a):Zc(e,n,a,i||null,!0):t===1&&n!==null?Zc(e,n,a,i||null,!0):t===2?ZM(e,a,s):t===3&&e.destroyNode(a),o!=null&&JM(e,t,o,n,i)}}function FM(t,e){return t.createText(e)}function PM(t,e,n){t.setValue(e,n)}function Gb(t,e,n){return t.createElement(e,n)}function LM(t,e){zb(t,e),e[Rn]=null,e[Ut]=null}function jM(t,e,n,r,i,o){r[Rn]=i,r[Ut]=e,ml(t,r,n,1,i,o)}function zb(t,e){e[tn].changeDetectionScheduler?.notify(8),ml(t,e,e[Ne],2,null,null)}function VM(t){let e=t[rs];if(!e)return bf(t[F],t);for(;e;){let n=null;if(or(e))n=e[rs];else{let r=e[Ke];r&&(n=r)}if(!n){for(;e&&!e[Ft]&&e!==t;)or(e)&&bf(e[F],e),e=e[Ze];e===null&&(e=t),or(e)&&bf(e[F],e),n=e&&e[Ft]}e=n}}function UM(t,e,n,r){let i=Ke+r,o=n.length;r>0&&(n[i-1][Ft]=e),r<o-Ke?(e[Ft]=n[i],M_(n,Ke+r,e)):(n.push(e),e[Ft]=null),e[Ze]=n;let s=e[Ur];s!==null&&n!==s&&Wb(s,e);let a=e[Mn];a!==null&&a.insertView(t),jf(e),e[O]|=128}function Wb(t,e){let n=t[Yi],r=e[Ze];if(or(r))t[O]|=Hc.HasTransplantedViews;else{let i=r[Ze][Lt];e[Lt]!==i&&(t[O]|=Hc.HasTransplantedViews)}n===null?t[Yi]=[e]:n.push(e)}function Wh(t,e){let n=t[Yi],r=n.indexOf(e);n.splice(r,1)}function os(t,e){if(t.length<=Ke)return;let n=Ke+e,r=t[n];if(r){let i=r[Ur];i!==null&&i!==t&&Wh(i,r),e>0&&(t[n-1][Ft]=r[Ft]);let o=Vc(t,Ke+e);LM(r[F],r);let s=o[Mn];s!==null&&s.detachView(o[F]),r[Ze]=null,r[Ft]=null,r[O]&=-129}return r}function pl(t,e){if(!(e[O]&256)){let n=e[Ne];n.destroyNode&&ml(t,e,n,3,null,null),VM(e)}}function bf(t,e){if(e[O]&256)return;let n=H(null);try{e[O]&=-129,e[O]|=256,e[Ct]&&Ud(e[Ct]),$M(t,e),BM(t,e),e[F].type===1&&e[Ne].destroy();let r=e[Ur];if(r!==null&&On(e[Ze])){r!==e[Ze]&&Wh(r,e);let i=e[Mn];i!==null&&i.detachView(t)}EM(e)}finally{H(n)}}function BM(t,e){let n=t.cleanup,r=e[Bc];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Bc]=null);let i=e[ir];if(i!==null){e[ir]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $M(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Gr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Jt(4,a,c);try{c.call(a)}finally{Jt(5,a,c)}}else{Jt(4,i,o);try{o.call(i)}finally{Jt(5,i,o)}}}}}function HM(t,e,n){return GM(t,e.parent,n)}function GM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===en.None||o===en.Emulated)return null}return It(r,n)}}function Zc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qb(t,e,n){t.appendChild(e,n)}function n_(t,e,n,r,i){r!==null?Zc(t,e,n,r,i):qb(t,e,n)}function zM(t,e,n,r){t.removeChild(e,n,r)}function qh(t,e){return t.parentNode(e)}function WM(t,e){return t.nextSibling(e)}function qM(t,e,n){return KM(t,e,n)}function YM(t,e,n){return t.type&40?It(t,n):null}var KM=YM,r_;function Yh(t,e,n,r){let i=HM(t,r,e),o=e[Ne],s=r.parent||e[Ut],a=qM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)n_(o,i,n[c],a,!1);else n_(o,i,n,a,!1);r_!==void 0&&r_(o,r,e,n,i)}function Fc(t,e){if(e!==null){let n=e.type;if(n&3)return It(e,t);if(n&4)return Yf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fc(t,r);{let i=t[e.index];return On(i)?Yf(-1,i):nn(i)}}else{if(n&32)return zh(e,t)()||nn(t[e.index]);{let r=Yb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(t[Lt]);return Fc(i,r)}else return Fc(t,e.next)}}}return null}function Yb(t,e){if(e!==null){let r=t[Lt][Ut],i=e.projection;return r.projection[i]}return null}function Yf(t,e){let n=Ke+t+1;if(n<e.length){let r=e[n],i=r[F].firstChild;if(i!==null)return Fc(r,i)}return e[Br]}function ZM(t,e,n){let r=qh(t,e);r&&zM(t,r,e,n)}function Kh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Wr(nn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Kh(t,e,n.child,r,i,o,!1),Bi(e,t,i,a,o);else if(c&32){let l=zh(n,r),u;for(;u=l();)Bi(e,t,i,u,o);Bi(e,t,i,a,o)}else c&16?QM(t,e,r,n,i,o):Bi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ml(t,e,n,r,i,o){Kh(n,r,t.firstChild,e,i,o,!1)}function QM(t,e,n,r,i,o){let s=n[Lt],c=s[Ut].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Bi(e,t,i,u,o)}else{let l=c,u=s[Ze];Ob(r)&&(l.flags|=128),Kh(t,e,l,u,i,o,!0)}}function JM(t,e,n,r,i){let o=n[Br],s=nn(n);o!==s&&Bi(e,t,r,o,i);for(let a=Ke;a<n.length;a++){let c=n[a];ml(c[F],c,t,e,r,o)}}function XM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function eA(t,e,n){t.setAttribute(e,"style",n)}function Kb(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Zb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Rf(t,e,r),i!==null&&Kb(t,e,i),o!==null&&eA(t,e,o)}var an={};function Z(t=1){Qb(Ge(),Y(),ur()+t,!1)}function Qb(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Rc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Oc(e,o,0,n)}Hr(n)}function S(t,e=G.Default){let n=Y();if(n===null)return b(t,e);let r=Qe();return Tb(r,n,tt(t),e)}function Jb(t,e,n,r,i,o){let s=H(null);try{let a=null;i&sr.SignalBased&&(a=e[r][Dn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&sr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Q_(e,a,r,o)}finally{H(s)}}function tA(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Hr(~i);else{let o=i,s=n[++r],a=n[++r];zx(s,o);let c=e[o];a(2,c)}}}finally{Hr(-1)}}function gl(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Rn]=i,d[O]=r|4|128|8|64,(l!==null||t&&t[O]&2048)&&(d[O]|=2048),rb(d),d[Ze]=d[Xi]=t,d[Ye]=n,d[tn]=s||t&&t[tn],d[Ne]=a||t&&t[Ne],d[qi]=c||t&&t[qi]||null,d[Ut]=o,d[ll]=_M(),d[ns]=u,d[Y_]=l,d[Lt]=e.type==2?t[Lt]:d,d}function vl(t,e,n,r,i){let o=t.data[e];if(o===null)o=nA(t,e,n,r,i),Gx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=Ux();o.injectorIndex=s===null?-1:s.injectorIndex}return ms(o,!0),o}function nA(t,e,n,r,i){let o=cb(),s=lb(),a=s?o:o&&o.parent,c=t.data[e]=cA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Xb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function eE(t,e,n,r,i){let o=ur(),s=r&2;try{Hr(-1),s&&e.length>mt&&Qb(t,e,mt,!1),Jt(s?2:0,i),n(r,i)}finally{Hr(o),Jt(s?3:1,i)}}function tE(t,e,n){if(Z_(e)){let r=H(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{H(r)}}}function nE(t,e,n){ab()&&(pA(t,e,n,It(n,e)),(n.flags&64)===64&&cE(t,e,n))}function rE(t,e,n=It){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function iE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zh(t,e,n,r,i,o,s,a,c,l,u){let d=mt+r,f=d+i,h=rA(d,f),p=typeof l=="function"?l():l;return h[F]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function rA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:an);return n}function iA(t,e,n,r){let o=r.get(TM,Vb)||n===en.ShadowDom,s=t.selectRootElement(e,o);return oA(s),s}function oA(t){sA(t)}var sA=()=>null;function aA(t,e,n,r){let i=dE(e);i.push(n),t.firstCreatePass&&fE(t).push(r,i.length-1)}function cA(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function i_(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=sr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?o_(r,n,l,a,c):o_(r,n,l,a)}return r}function o_(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function lA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=i_(0,d.inputs,u,c,h),l=i_(1,d.outputs,u,l,p);let g=c!==null&&s!==null&&!Th(e)?IA(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function uA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oE(t,e,n,r,i,o,s,a){let c=It(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Qh(t,n,u,r,i),ul(e)&&dA(n,e.index)):e.type&3?(r=uA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function dA(t,e){let n=lr(e,t);n[O]&16||(n[O]|=64)}function sE(t,e,n,r){if(ab()){let i=r===null?null:{"":-1},o=gA(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aE(t,e,n,s,i,a),i&&vA(n,r,i)}n.mergedAttrs=es(n.mergedAttrs,n.attrs)}function aE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)$f(qc(n,e),t,r[l].type);_A(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Xb(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=es(n.mergedAttrs,u.hostAttrs),bA(t,n,e,c,u),yA(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}lA(t,n,o)}function fA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hA(s)!=a&&s.push(a),s.push(n,r,o)}}function hA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pA(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ul(n)&&EA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||qc(n,e),Wr(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=zr(e,t,a,n);if(Wr(l,e),s!==null&&DA(e,a-i,l,c,n,s),ar(c)){let u=lr(n.index,e);u[Ye]=zr(e,t,a,n)}}}function cE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Wx();try{Hr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Vf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&mA(c,l)}}finally{Hr(-1),Vf(s)}}function mA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function gA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(ix(e,s.selectors,!1))if(r||(r=[]),ar(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Kf(t,e,c)}else r.unshift(s),Kf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Kf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}}function yA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ar(e)&&(n[""]=t)}}function _A(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=jr(i.type,!0)),s=new Gr(o,ar(i),S);t.blueprint[r]=s,n[r]=s,fA(t,e,r,Xb(t,n,i.hostVars,an),i)}function EA(t,e,n){let r=It(e,t),i=iE(n),o=t[tn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=yl(t,gl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function wA(t,e,n,r,i,o){let s=It(t,e);CA(e[Ne],s,o,t.value,n,r,i)}function CA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Gi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function DA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Jb(r,n,c,l,u,d)}}function IA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function lE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function uE(t,e){let n=t.contentQueries;if(n!==null){let r=H(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Oh(o),a.contentQueries(2,e[s],s)}}}finally{H(r)}}}function yl(t,e){return t[rs]?t[qy][Ft]=e:t[rs]=e,t[qy]=e,e}function Zf(t,e,n){Oh(0);let r=H(null);try{e(t,n)}finally{H(r)}}function dE(t){return t[Bc]??=[]}function fE(t){return t.cleanup??=[]}function hE(t,e){let n=t[qi],r=n?n.get(Dt,null):null;r&&r.handleError(e)}function Qh(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Jb(u,l,r,a,c,i)}}function pE(t,e,n){let r=nb(e,t);PM(t[Ne],r,n)}function SA(t,e){let n=lr(e,t),r=n[F];TA(r,n);let i=n[Rn];i!==null&&n[ns]===null&&(n[ns]=Hh(i,n[qi])),Jh(r,n,n[Ye])}function TA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Jh(t,e,n){kh(e);try{let r=t.viewQuery;r!==null&&Zf(1,r,n);let i=t.template;i!==null&&eE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&uE(t,e),t.staticViewQueries&&Zf(2,t.viewQuery,n);let o=t.components;o!==null&&xA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,Fh()}}function xA(t,e){for(let n=0;n<e.length;n++)SA(t,e[n])}function _l(t,e,n,r){let i=H(null);try{let o=e.tView,a=t[O]&4096?4096:16,c=gl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ur]=l;let u=t[Mn];return u!==null&&(c[Mn]=u.createEmbeddedView(o)),Jh(o,c,n),c}finally{H(i)}}function mE(t,e){let n=Ke+e;if(n<t.length)return t[n]}function ss(t,e){return!e||e.firstChild===null||Ob(t)}function bl(t,e,n,r=!0){let i=e[F];if(UM(i,e,t,n),r){let s=Yf(n,t),a=e[Ne],c=qh(a,t[Br]);c!==null&&jM(i,t[Ut],a,e,c,s)}let o=e[ns];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function gE(t,e){let n=os(t,e);return n!==void 0&&pl(n[F],n),n}function Qc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(nn(o)),On(o)&&MA(o,r);let s=n.type;if(s&8)Qc(t,e,n.child,r);else if(s&32){let a=zh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Yb(e,n);if(Array.isArray(a))r.push(...a);else{let c=$r(e[Lt]);Qc(c[F],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MA(t,e){for(let n=Ke;n<t.length;n++){let r=t[n],i=r[F].firstChild;i!==null&&Qc(r[F],r,i,e)}t[Br]!==t[Rn]&&e.push(t[Br])}var vE=[];function AA(t){return t[Ct]??NA(t)}function NA(t){let e=vE.pop()??Object.create(OA);return e.lView=t,e}function RA(t){t.lView[Ct]!==t&&(t.lView=null,vE.push(t))}var OA=N(v({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{dl(t.lView)},consumerOnSignalRead(){this.lView[Ct]=this}});function kA(t){let e=t[Ct]??Object.create(FA);return e.lView=t,e}var FA=N(v({},zo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=$r(t.lView);for(;e&&!yE(e[F]);)e=$r(e);e&&ib(e)},consumerOnSignalRead(){this.lView[Ct]=this}});function yE(t){return t.type!==2}var PA=100;function _E(t,e=!0,n=0){let r=t[tn],i=r.rendererFactory,o=!1;o||i.begin?.();try{LA(t,n)}catch(s){throw e&&hE(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function LA(t,e){let n=ub();try{Ky(!0),Qf(t,e);let r=0;for(;is(t);){if(r===PA)throw new x(103,!1);r++,Qf(t,1)}}finally{Ky(n)}}function jA(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1,s=!1;!o&&e[tn].inlineEffectRunner?.flush(),kh(e);let a=!0,c=null,l=null;o||(yE(t)?(l=AA(e),c=Xa(l)):Jv()===null?(a=!1,l=kA(e),c=Xa(l)):e[Ct]&&(Ud(e[Ct]),e[Ct]=null));try{rb(e),Hx(t.bindingStartIndex),n!==null&&eE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Rc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Oc(e,h,0,null),gf(e,0)}if(s||VA(e),bE(e,0),t.contentQueries!==null&&uE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Rc(e,h)}else{let h=t.contentHooks;h!==null&&Oc(e,h,1),gf(e,1)}tA(t,e);let d=t.components;d!==null&&wE(e,d,0);let f=t.viewQuery;if(f!==null&&Zf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Rc(e,h)}else{let h=t.viewHooks;h!==null&&Oc(e,h,2),gf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[mf]){for(let h of e[mf])h();e[mf]=null}o||(e[O]&=-73)}catch(u){throw o||dl(e),u}finally{l!==null&&(jd(l,c),a&&RA(l)),Fh()}}function bE(t,e){for(let n=Fb(t);n!==null;n=Pb(n))for(let r=Ke;r<n.length;r++){let i=n[r];EE(i,e)}}function VA(t){for(let e=Fb(t);e!==null;e=Pb(e)){if(!(e[O]&Hc.HasTransplantedViews))continue;let n=e[Yi];for(let r=0;r<n.length;r++){let i=n[r];ib(i)}}}function UA(t,e,n){let r=lr(e,t);EE(r,n)}function EE(t,e){Rh(t)&&Qf(t,e)}function Qf(t,e){let r=t[F],i=t[O],o=t[Ct],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vd(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)jA(r,t,r.template,t[Ye]);else if(i&8192){bE(t,1);let a=r.components;a!==null&&wE(t,a,1)}}function wE(t,e,n){for(let r=0;r<e.length;r++)UA(t,e[r],n)}function Xh(t,e){let n=ub()?64:1088;for(t[tn].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=$r(t);if(Pf(t)&&!r)return t;t=r}return null}var qr=class{get rootNodes(){let e=this._lView,n=e[F];return Qc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ze];if(On(e)){let n=e[$c],r=n?n.indexOf(this):-1;r>-1&&(os(e,r),Vc(n,r))}this._attachedToViewContainer=!1}pl(this._lView[F],this._lView)}onDestroy(e){ob(this._lView,e)}markForCheck(){Xh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[O]&=-129}reattach(){jf(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,_E(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Pf(this._lView),n=this._lView[Ur];n!==null&&!e&&Wh(n,this._lView),zb(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let n=Pf(this._lView),r=this._lView[Ur];r!==null&&!n&&Wb(r,this._lView),jf(this._lView)}},as=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA;let t=e;return t})(),BA=as,$A=class extends BA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_l(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new qr(i)}};function HA(){return ep(Qe(),Y())}function ep(t,e){return t.type&4?new $A(e,t,io(t,e)):null}var m5=new RegExp(`^(\\d+)*(${IM}|${DM})*(.*)`);var GA=()=>null;function cs(t,e){return GA(t,e)}var ls=class{},tp=new y("",{providedIn:"root",factory:()=>!1});var CE=new y(""),Jf=class{},Jc=class{};function zA(t){let e=Error(`No component factory found for ${st(t)}.`);return e[WA]=t,e}var WA="ngComponent";var Xf=class{resolveComponentFactory(e){throw zA(e)}},lp=class lp{};lp.NULL=new Xf;var Zi=lp,Qi=class{},$t=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>qA();let t=e;return t})();function qA(){let t=Y(),e=Qe(),n=lr(e.index,t);return(or(n)?n:t)[Ne]}var YA=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();var s_=new Set;function fr(t){s_.has(t)||(s_.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function DE(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof xn.requestAnimationFrame=="function"&&xn.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function a_(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function c_(...t){}var oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,QA(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,KA,c_,c_);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},KA={};function np(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZA(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{DE(()=>{t.callbackScheduled=!1,eh(t),t.isCheckStableRunning=!0,np(t),t.isCheckStableRunning=!1})}),eh(t))}function QA(t){let e=()=>{ZA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(JA(a))return n.invokeTask(i,o,s,a);try{return l_(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),u_(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return l_(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!XA(a)&&e(),u_(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,eh(t),np(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function eh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function l_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function u_(t){t._nesting--,np(t)}var th=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function JA(t){return IE(t,"__ignore_ng_zone__")}function XA(t){return IE(t,"__scheduler_tick__")}function IE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var SE=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function nh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ly(i,a);else if(o==2){let c=a,l=e[++s];r=Ly(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Xc=class extends Zi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Vr(e);return new us(n,this.ngModule)}};function d_(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:sr.None;e?n.push({propName:s,templateName:r,isSignal:(a&sr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function eN(t){let e=t.toLowerCase();return e==="svg"?tb:e==="math"?xx:null}var us=class extends Jc{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=d_(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return d_(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=cx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=H(null);try{i=i||this.ngModule;let s=i instanceof at?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Uf(e,s):e,c=a.get(Qi,null);if(c===null)throw new x(407,!1);let l=a.get(YA,null),u=a.get(SE,null),d=a.get(ls,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=r?iA(h,r,this.componentDef.encapsulation,a):Gb(h,p,eN(p)),_=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let D=null;g!==null&&(D=Hh(g,a,!0));let L=Zh(0,null,null,1,0,null,null,null,null,null,null),K=gl(null,L,null,_,null,null,f,h,a,null,D);kh(K);let ne,_t;try{let xe=this.componentDef,bt,Ii=null;xe.findHostDirectiveDefs?(bt=[],Ii=new Map,xe.findHostDirectiveDefs(xe,bt,Ii),bt.push(xe)):bt=[xe];let GS=tN(K,g),zS=nN(GS,g,xe,bt,K,f,h);_t=Nh(L,mt),g&&oN(h,xe,g,r),n!==void 0&&sN(_t,this.ngContentSelectors,n),ne=iN(zS,xe,bt,Ii,K,[aN]),Jh(L,K,null)}finally{Fh()}return new rh(this.componentType,ne,io(_t,K),K,_t)}finally{H(o)}}},rh=class extends Jf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new qr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Qh(o[F],o,i,e,n),this.previousInputValues.set(e,n);let s=lr(this._tNode.index,o);Xh(s,1)}}get injector(){return new Lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function tN(t,e){let n=t[F],r=mt;return t[r]=e,vl(n,r,2,"#host",null)}function nN(t,e,n,r,i,o,s){let a=i[F];rN(r,t,e,s);let c=null;e!==null&&(c=Hh(e,i[qi]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=gl(i,iE(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Kf(a,t,r.length-1),yl(i,d),i[t.index]=d}function rN(t,e,n,r){for(let i of t)e.mergedAttrs=es(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(nh(e,e.mergedAttrs,!0),n!==null&&Zb(r,n,e))}function iN(t,e,n,r,i,o){let s=Qe(),a=i[F],c=It(s,i);aE(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=zr(i,a,d,s);Wr(f,i)}cE(a,i,s),c&&Wr(c,i);let l=zr(i,a,s.directiveStart+s.componentOffset,s);if(t[Ye]=i[Ye]=l,o!==null)for(let u of o)u(l,e);return tE(a,s,i),l}function oN(t,e,n,r){if(r)Rf(t,n,["ng-version","18.1.1"]);else{let{attrs:i,classes:o}=lx(e.selectors[0]);i&&Rf(t,n,i),o&&o.length>0&&Kb(t,n,o.join(" "))}}function sN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function aN(){let t=Qe();Vh(Y()[F],t)}var oo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=cN;let t=e;return t})();function cN(){let t=Qe();return xE(t,Y())}var lN=oo,TE=class extends lN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return io(this._hostTNode,this._hostLView)}get injector(){return new Lr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uh(this._hostTNode,this._hostLView);if(Eb(e)){let n=zc(e,this._hostLView),r=Gc(e),i=n[F].data[r+8];return new Lr(i,n)}else return new Lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=f_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ke}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=cs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ss(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Dx(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new us(Vr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let g=(s?l:this.parentInjector).get(at,null);g&&(o=g)}let u=Vr(c.componentType??{}),d=cs(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,ss(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Nx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ze],l=new TE(c,c[Ut],c[Ze]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bl(s,i,o,r),e.attachToViewContainerRef(),M_(Ef(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=f_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=os(this._lContainer,n);r&&(Vc(Ef(this._lContainer),n),pl(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=os(this._lContainer,n);return r&&Vc(Ef(this._lContainer),n)!=null?new qr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function f_(t){return t[$c]}function Ef(t){return t[$c]||(t[$c]=[])}function xE(t,e){let n,r=e[t.index];return On(r)?n=r:(n=lE(r,e,null,t),e[t.index]=n,yl(e,n)),dN(n,e,t,r),new TE(n,t,e)}function uN(t,e){let n=t[Ne],r=n.createComment(""),i=It(e,t),o=qh(n,i);return Zc(n,o,r,WM(n,i),!1),r}var dN=pN,fN=()=>!1;function hN(t,e,n){return fN(t,e,n)}function pN(t,e,n,r){if(t[Br])return;let i;n.type&8?i=nn(r):i=uN(e,n),t[Br]=i}var ih=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},oh=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)rp(e,n).matches!==null&&this.queries[n].setDirty()}},sh=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=wN(e):this.predicate=e}},ah=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ch=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,mN(n,o)),this.matchTNodeWithReadOption(e,n,kc(n,e,o,!1,!1))}else r===as?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,kc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ie||i===oo||i===as&&n.type&4)this.addMatch(n.index,-2);else{let o=kc(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function gN(t,e){return t.type&11?io(t,e):t.type&4?ep(t,e):null}function vN(t,e,n,r){return n===-1?gN(e,t):n===-2?yN(t,e,r):zr(t,t[F],n,e)}function yN(t,e,n){if(n===Ie)return io(e,t);if(n===as)return ep(e,t);if(n===oo)return xE(e,t)}function ME(t,e,n,r){let i=e[Mn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=o[l];a.push(vN(e,u,s[c+1],n.metadata.read))}}i.matches=a}return i.matches}function lh(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=ME(t,e,i,n);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],u=e[-c];for(let d=Ke;d<u.length;d++){let f=u[d];f[Ur]===f[Ze]&&lh(f[F],f,l,r)}if(u[Yi]!==null){let d=u[Yi];for(let f=0;f<d.length;f++){let h=d[f];lh(h[F],h,l,r)}}}}}return r}function _N(t,e){return t[Mn].queries[e].queryList}function bN(t,e,n){let r=new Yc((n&4)===4);return aA(t,e,r,r.destroy),(e[Mn]??=new oh).queries.push(new ih(r))-1}function EN(t,e,n,r){let i=Ge();if(i.firstCreatePass){let o=Qe();CN(i,new sh(e,n,r),o.index),DN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return bN(i,Y(),n)}function wN(t){return t.split(",").map(e=>e.trim())}function CN(t,e,n){t.queries===null&&(t.queries=new ah),t.queries.track(new ch(e,n))}function DN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function rp(t,e){return t.queries.getByIndex(e)}function IN(t,e){let n=t[F],r=rp(n,e);return r.crossesNgTemplate?lh(n,t,e,[]):ME(n,t,r,e)}function AE(t){return typeof t=="function"&&t[Dn]!==void 0}function hr(t,e){fr("NgSignals");let n=ly(t),r=n[Dn];return e?.equal&&(r.equal=e.equal),n.set=i=>Bd(r,i),n.update=i=>uy(r,i),n.asReadonly=SN.bind(n),n}function SN(){let t=this[Dn];if(t.readonlyFn===void 0){let e=()=>this();e[Dn]=t,t.readonlyFn=e}return t.readonlyFn}function NE(t){return AE(t)&&typeof t.set=="function"}function TN(t){return Object.getPrototypeOf(t.prototype).constructor}function Ht(t){let e=TN(t.type),n=!0,r=[t];for(;e;){let i;if(ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Mc(t.inputs),s.inputTransforms=Mc(t.inputTransforms),s.declaredInputs=Mc(t.declaredInputs),s.outputs=Mc(t.outputs);let a=i.hostBindings;a&&RN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&AN(t,c),l&&NN(t,l),xN(t,i),TT(t.outputs,i.outputs),ar(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Ht&&(n=!1)}}e=Object.getPrototypeOf(e)}MN(r)}function xN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function MN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=es(i.hostAttrs,n=es(n,i.hostAttrs))}}function Mc(t){return t===zi?{}:t===wt?[]:t}function AN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function NN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function RN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ys(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var cr=class{},ds=class{};var uh=class extends cr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xc(this);let i=V_(e);this._bootstrapComponents=Hb(i.bootstrap),this._r3Injector=Ab(e,n,[{provide:cr,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},dh=class extends ds{constructor(e){super(),this.moduleType=e}create(e){return new uh(this.moduleType,e,[])}};var el=class extends cr{constructor(e){super(),this.componentFactoryResolver=new Xc(this),this.instance=null;let n=new ts([...e.providers,{provide:cr,useValue:this},{provide:Zi,useValue:this.componentFactoryResolver}],e.parent||Mh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ip(t,e,n=null){return new el({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function RE(t,e,n){return t[e]=n}function on(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function OE(t,e,n,r){let i=on(t,e,n);return on(t,e+1,r)||i}function ON(t){return(t.flags&32)===32}function kN(t,e,n,r,i,o,s,a,c){let l=e.consts,u=vl(e,t,4,s||null,a||null);sE(e,n,u,Ki(l,c)),Vh(e,u);let d=u.tView=Zh(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function fh(t,e,n,r,i,o,s,a,c,l){let u=n+mt,d=e.firstCreatePass?kN(u,e,t,r,i,o,s,a,c):e.data[u];ms(d,!1);let f=FN(e,t,d,n);Lh()&&Yh(e,t,f,d),Wr(f,t);let h=lE(f,t,f,d);return t[u]=h,yl(t,h),hN(h,d,t),Ah(d)&&nE(e,t,d),c!=null&&rE(t,d,l),d}function ct(t,e,n,r,i,o,s,a){let c=Y(),l=Ge(),u=Ki(l.consts,o);return fh(c,l,t,e,n,r,i,u,s,a),ct}var FN=PN;function PN(t,e,n,r){return jh(!0),e[Ne].createComment("")}function pr(t,e,n,r){let i=Y(),o=no();if(on(i,o,e)){let s=Ge(),a=Ph();wA(a,i,t,e,n,r)}return pr}function LN(t,e,n,r){return on(t,no(),n)?e+Gi(n)+r:an}function jN(t,e,n,r,i,o){let s=$x(),a=OE(t,s,n,i);return fb(2),a?e+Gi(n)+r+Gi(i)+o:an}function Ac(t,e){return t<<17|e<<2}function Yr(t){return t>>17&32767}function VN(t){return(t&2)==2}function UN(t,e){return t&131071|e<<17}function hh(t){return t|2}function Ji(t){return(t&131068)>>2}function wf(t,e){return t&-131069|e<<2}function BN(t){return(t&1)===1}function ph(t){return t|1}function $N(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yr(s),c=Ji(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ps(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Yr(t[a+1]);t[r+1]=Ac(f,a),f!==0&&(t[f+1]=wf(t[f+1],r)),t[a+1]=UN(t[a+1],r)}else t[r+1]=Ac(a,0),a!==0&&(t[a+1]=wf(t[a+1],r)),a=r;else t[r+1]=Ac(c,0),a===0?a=r:t[c+1]=wf(t[c+1],r),c=r;l&&(t[r+1]=hh(t[r+1])),h_(t,u,r,!0),h_(t,u,r,!1),HN(e,u,t,r,o),s=Ac(a,c),o?e.classBindings=s:e.styleBindings=s}function HN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&ps(o,e)>=0&&(n[r+1]=ph(n[r+1]))}function h_(t,e,n,r){let i=t[n+1],o=e===null,s=r?Yr(i):Ji(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];GN(c,e)&&(a=!0,t[s+1]=r?ph(l):hh(l)),s=r?Yr(l):Ji(l)}a&&(t[n+1]=r?hh(i):ph(i))}function GN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ps(t,e)>=0:!1}function Ve(t,e,n){let r=Y(),i=no();if(on(r,i,e)){let o=Ge(),s=Ph();oE(o,s,r,t,e,r[Ne],n,!1)}return Ve}function p_(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Qh(t,n,o[s],s,r)}function Zr(t,e){return zN(t,e,null,!0),Zr}function zN(t,e,n,r){let i=Y(),o=Ge(),s=fb(2);if(o.firstUpdatePass&&qN(o,t,s,r),e!==an&&on(i,s,e)){let a=o.data[ur()];JN(o,a,i,i[Ne],t,i[s+1]=XN(e,n),r,s)}}function WN(t,e){return e>=t.expandoStartIndex}function qN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ur()],s=WN(t,n);eR(o,r)&&e===null&&!s&&(e=!1),e=YN(i,o,e,r),$N(i,o,e,n,s,r)}}function YN(t,e,n,r){let i=qx(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Cf(null,t,e,n,r),n=fs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Cf(i,t,e,n,r),o===null){let c=KN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Cf(null,t,e,c[1],r),c=fs(c,e.attrs,r),ZN(t,e,r,c))}else o=QN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function KN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ji(r)!==0)return t[Yr(r)]}function ZN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yr(i)]=r}function QN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=fs(r,s,n)}return fs(r,e.attrs,n)}function Cf(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=fs(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function fs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function JN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=BN(l)?m_(c,e,n,i,Ji(l),s):void 0;if(!tl(u)){tl(o)||VN(l)&&(o=m_(c,null,n,i,a,s));let d=nb(ur(),n);XM(r,s,d,i,o)}}function m_(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===an&&(f=d?wt:void 0);let h=d?hf(f,r):u===r?f:void 0;if(l&&!tl(h)&&(h=hf(c,r)),tl(h)&&(a=h,s))return a;let p=t[i+1];i=s?Yr(p):Ji(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=hf(c,r))}return a}function tl(t){return t!==void 0}function XN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(vs(t)))),t}function eR(t,e){return(t.flags&(e?8:16))!==0}var mh=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Df(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function tR(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],d=Df(o,l,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let f=t.at(s),h=e[c],p=Df(s,f,c,h,n);if(p!==0){p<0&&t.updateValue(s,h),s--,c--;continue}let g=n(o,l),_=n(s,f),D=n(o,u);if(Object.is(D,_)){let L=n(c,h);Object.is(L,g)?(t.swap(o,s),t.updateValue(s,h),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new nl,i??=v_(t,o,s,n),gh(t,r,o,D))t.updateValue(o,u),o++,s++;else if(i.has(D))r.set(g,t.detach(o)),s--;else{let L=t.create(o,e[o]);t.attach(o,L),o++,s++}}for(;o<=c;)g_(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),d=l.value,f=Df(o,u,o,d,n);if(f!==0)f<0&&t.updateValue(o,d),o++,l=c.next();else{r??=new nl,i??=v_(t,o,s,n);let h=n(o,d);if(gh(t,r,o,h))t.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(h))t.attach(o,t.create(o,d)),o++,s++,l=c.next();else{let p=n(o,u);r.set(p,t.detach(o)),s--}}}for(;!l.done;)g_(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function gh(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function g_(t,e,n,r,i){if(gh(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function v_(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var nl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Je(t,e){fr("NgControlFlow");let n=Y(),r=no(),i=n[r]!==an?n[r]:-1,o=i!==-1?rl(n,mt+i):void 0,s=0;if(on(n,r,t)){let a=H(null);try{if(o!==void 0&&gE(o,s),t!==-1){let c=mt+t,l=rl(n,c),u=bh(n[F],c),d=cs(l,u.tView.ssrId),f=_l(n,u,e,{dehydratedView:d});bl(l,f,s,ss(u,d))}}finally{H(a)}}else if(o!==void 0){let a=mE(o,s);a!==void 0&&(a[Ye]=e)}}var vh=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ke}};var yh=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function El(t,e,n,r,i,o,s,a,c,l,u,d,f){fr("NgControlFlow");let h=Y(),p=Ge(),g=c!==void 0,_=Y(),D=a?s.bind(_[Lt][Ye]):s,L=new yh(g,D);_[mt+t]=L,fh(h,p,t+1,e,n,r,i,Ki(p.consts,o)),g&&fh(h,p,t+2,c,l,u,d,Ki(p.consts,f))}var _h=class extends mh{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ke}at(e){return this.getLView(e)[Ye].$implicit}attach(e,n){let r=n[ns];this.needsIndexUpdate||=e!==this.length,bl(this.lContainer,n,e,ss(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,nR(this.lContainer,e)}create(e,n){let r=cs(this.lContainer,this.templateTNode.tView.ssrId),i=_l(this.hostLView,this.templateTNode,new vh(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){pl(e[F],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ye].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ye].$index=e}getLView(e){return rR(this.lContainer,e)}};function wl(t){let e=H(null),n=ur();try{let r=Y(),i=r[F],o=r[n],s=n+1,a=rl(r,s);if(o.liveCollection===void 0){let l=bh(i,s);o.liveCollection=new _h(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(tR(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=no(),u=c.length===0;if(on(r,l,u)){let d=n+2,f=rl(r,d);if(u){let h=bh(i,d),p=cs(f,h.tView.ssrId),g=_l(r,h,void 0,{dehydratedView:p});bl(f,g,0,ss(h,p))}else gE(f,0)}}}finally{H(e)}}function rl(t,e){return t[e]}function nR(t,e){return os(t,e)}function rR(t,e){return mE(t,e)}function bh(t,e){return Nh(t,e)}function iR(t,e,n,r,i,o){let s=e.consts,a=Ki(s,i),c=vl(e,t,2,r,a);return sE(e,n,c,Ki(s,o)),c.attrs!==null&&nh(c,c.attrs,!1),c.mergedAttrs!==null&&nh(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function w(t,e,n,r){let i=Y(),o=Ge(),s=mt+t,a=i[Ne],c=o.firstCreatePass?iR(s,o,i,e,n,r):o.data[s],l=oR(o,i,c,a,e,t);i[s]=l;let u=Ah(c);return ms(c,!0),Zb(a,l,c),!ON(c)&&Lh()&&Yh(o,i,l,c),kx()===0&&Wr(l,i),Fx(),u&&(nE(o,i,c),tE(o,c,i)),r!==null&&rE(i,c),w}function I(){let t=Qe();lb()?Bx():(t=t.parent,ms(t,!1));let e=t;jx(e)&&Vx(),Px();let n=Ge();return n.firstCreatePass&&(Vh(n,t),Z_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tM(e)&&p_(n,e,Y(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nM(e)&&p_(n,e,Y(),e.stylesWithoutHost,!1),I}function $(t,e,n,r){return w(t,e,n,r),I(),$}var oR=(t,e,n,r,i,o)=>(jh(!0),Gb(r,i,Qx()));function _s(){return Y()}var Fr=void 0;function sR(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var aR=["en",[["a","p"],["AM","PM"],Fr],[["AM","PM"],Fr,Fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fr,"{1} 'at' {0}",Fr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sR],If={};function St(t){let e=cR(t),n=y_(e);if(n)return n;let r=e.split("-")[0];if(n=y_(r),n)return n;if(r==="en")return aR;throw new x(701,!1)}function y_(t){return t in If||(If[t]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[t]),If[t]}var we=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(we||{});function cR(t){return t.toLowerCase().replace(/_/g,"-")}var il="en-US";var lR=il;function uR(t){typeof t=="string"&&(lR=t.toLowerCase().replace(/_/g,"-"))}var dR=(t,e,n)=>{};function ee(t,e,n,r){let i=Y(),o=Ge(),s=Qe();return kE(o,i,i[Ne],s,t,e,r),ee}function fR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Bc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function kE(t,e,n,r,i,o,s){let a=Ah(r),l=t.firstCreatePass&&fE(t),u=e[Ye],d=dE(e),f=!0;if(r.type&3||s){let g=It(r,e),_=s?s(g):g,D=d.length,L=s?ne=>s(nn(ne[r.index])):r.index,K=null;if(!s&&a&&(K=fR(t,e,i,r.index)),K!==null){let ne=K.__ngLastListenerFn__||K;ne.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,f=!1}else{o=b_(r,e,u,o),dR(g,i,o);let ne=n.listen(_,i,o);d.push(o,ne),l&&l.push(i,L,D,D+1)}}else o=b_(r,e,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let _=0;_<g;_+=2){let D=p[_],L=p[_+1],_t=e[D][L].subscribe(o),xe=d.length;d.push(o,_t),l&&l.push(i,r.index,xe,-(xe+1))}}}function __(t,e,n,r){let i=H(null);try{return Jt(6,e,n),n(r)!==!1}catch(o){return hE(t,o),!1}finally{Jt(7,e,n),H(i)}}function b_(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?lr(t.index,e):e;Xh(s,5);let a=__(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=__(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function lt(t=1){return Kx(t)}function FE(t,e,n,r){EN(t,e,n,r)}function op(t){let e=Y(),n=Ge(),r=hb();Oh(r+1);let i=rp(n,r);if(t.dirty&&Ax(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=IN(e,r);t.reset(o,gM),t.notifyOnChanges()}return!0}return!1}function sp(){return _N(Y(),hb())}function hR(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function U(t,e=""){let n=Y(),r=Ge(),i=t+mt,o=r.firstCreatePass?vl(r,i,1,e,null):r.data[i],s=pR(r,n,o,e,t);n[i]=s,Lh()&&Yh(r,n,s,o),ms(o,!1)}var pR=(t,e,n,r,i)=>(jh(!0),FM(e[Ne],r));function bs(t,e,n){let r=Y(),i=LN(r,t,e,n);return i!==an&&pE(r,ur(),i),bs}function Qr(t,e,n,r,i){let o=Y(),s=jN(o,t,e,n,r,i);return s!==an&&pE(o,ur(),s),Qr}function Es(t,e,n){NE(e)&&(e=e());let r=Y(),i=no();if(on(r,i,e)){let o=Ge(),s=Ph();oE(o,s,r,t,e,r[Ne],n,!1)}return Es}function Cl(t,e){let n=NE(t);return n&&t.set(e),n}function ws(t,e){let n=Y(),r=Ge(),i=Qe();return kE(r,n,n[Ne],i,t,e),ws}function mR(t,e,n){let r=Ge();if(r.firstCreatePass){let i=ar(t);Eh(n,r.data,r.blueprint,i,!0),Eh(e,r.data,r.blueprint,i,!1)}}function Eh(t,e,n,r,i){if(t=tt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Eh(t[o],e,n,r,i);else{let o=Ge(),s=Y(),a=Qe(),c=Wi(t)?t:tt(t.provide),l=z_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Wi(t)||!t.multi){let h=new Gr(l,i,S),p=Tf(c,e,i?u:u+f,d);p===-1?($f(qc(a,s),o,c),Sf(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Tf(c,e,u+f,d),p=Tf(c,e,u,u+f),g=h>=0&&n[h],_=p>=0&&n[p];if(i&&!_||!i&&!g){$f(qc(a,s),o,c);let D=yR(i?vR:gR,n.length,i,r,l);!i&&_&&(n[p].providerFactory=D),Sf(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=PE(n[i?p:h],l,!i&&r);Sf(o,t,h>-1?h:p,D)}!i&&r&&_&&n[p].componentProviders++}}}function Sf(t,e,n,r){let i=Wi(e),o=vx(e);if(i||o){let c=(o?tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function PE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function gR(t,e,n,r){return wh(this.multi,[])}function vR(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zr(n,n[F],this.providerFactory.index,r);o=a.slice(0,s),wh(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],wh(i,o);return o}function wh(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function yR(t,e,n,r,i){let o=new Gr(t,n,S);return o.multi=[],o.index=e,o.componentProviders=0,PE(o,i,r&&!n),o}function Pn(t,e=[]){return n=>{n.providersResolver=(r,i)=>mR(r,i?i(t):t,e)}}var _R=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$_(!1,r.type),o=i.length>0?ip([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(b(at))});let t=e;return t})();function Oe(t){fr("NgStandalone"),t.getStandaloneInjector=e=>e.get(_R).getOrCreateStandaloneInjector(t)}function LE(t,e,n,r){return bR(Y(),db(),t,e,n,r)}function jE(t,e){let n=t[e];return n===an?void 0:n}function bR(t,e,n,r,i,o){let s=e+n;return on(t,s,i)?RE(t,s+1,o?r.call(o,i):r(i)):jE(t,s+1)}function ER(t,e,n,r,i,o,s){let a=e+n;return OE(t,a,i,o)?RE(t,a+2,s?r.call(s,i,o):r(i,o)):jE(t,a+2)}function VE(t,e){let n=Ge(),r,i=t+mt;n.firstCreatePass?(r=wR(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=jr(r.type,!0)),s,a=ot(S);try{let c=Wc(!1),l=o();return Wc(c),hR(n,Y(),i,l),l}finally{ot(a)}}function wR(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function UE(t,e,n,r){let i=t+mt,o=Y(),s=Mx(o,i);return CR(o,i)?ER(o,db(),e,s.transform,n,r,s):s.transform(n,r)}function CR(t,e){return t[F].data[e].pure}var Dl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var BE=new y("");function Jr(t){return!!t&&typeof t.then=="function"}function $E(t){return!!t&&typeof t.subscribe=="function"}var HE=new y(""),GE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=m(HE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Jr(s))r.push(s);else if($E(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Il=new y("");function DR(){cy(()=>{throw new x(600,!1)})}function IR(t){return t.isBoundToModule}var SR=10;function TR(t,e,n){try{let r=n();return Jr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(Nb),this.afterRenderEffectManager=m(SE),this.zonelessEnabled=m(tp),this.externalTestViews=new Set,this.beforeRender=new le,this.afterTick=new le,this.componentTypes=[],this.components=[],this.isStable=m(dr).hasPendingTasks.pipe(T(r=>!r)),this._injector=m(at)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Jc;if(!this._injector.get(GE).done){let h=!o&&j_(r),p=!1;throw new x(405,p)}let a;o?a=r:a=this._injector.get(Zi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=IR(a)?void 0:this._injector.get(cr),l=i||a.selector,u=a.create(rn.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(BE,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),xf(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new x(101,!1);let i=H(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,H(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Qi,null,{optional:!0}));let o=0,s=this.afterRenderEffectManager;for(;o<SR;){let a=o===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)xR(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(o++,s.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>is(c))&&(s.execute(),!this.allViews.some(({_lView:c})=>is(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;xf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Il,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>xf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new x(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xR(t,e,n,r){if(!n&&!is(t))return;_E(t,e,n&&!r?0:1)}var Ch=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ap=(()=>{let e=class e{compileModuleSync(r){return new dh(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=V_(r),s=Hb(o.declarations).reduce((a,c)=>{let l=Vr(c);return l&&a.push(new us(l)),a},[]);return new Ch(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MR=(()=>{let e=class e{constructor(){this.zone=m(oe),this.changeDetectionScheduler=m(ls),this.applicationRef=m(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AR=new y("",{factory:()=>!1});function zE({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new oe(qE()),[{provide:oe,useFactory:t},{provide:Pt,multi:!0,useFactory:()=>{let n=m(MR,{optional:!0});return()=>n.initialize()}},{provide:Pt,multi:!0,useFactory:()=>{let n=m(RR);return()=>{n.initialize()}}},{provide:Nb,useFactory:NR},e===!0?{provide:CE,useValue:!0}:[]]}function NR(){let t=m(oe),e=m(Dt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function WE(t){let e=t?.ignoreChangesOutsideZone,n=zE({ngZoneFactory:()=>{let r=qE(t);return r.shouldCoalesceEventChangeDetection&&fr("NgZone_CoalesceEvent"),new oe(r)},ignoreChangesOutsideZone:e});return jt([{provide:AR,useValue:!0},{provide:tp,useValue:!1},n])}function qE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var RR=(()=>{let e=class e{constructor(){this.subscription=new ve,this.initialized=!1,this.zone=m(oe),this.pendingTasks=m(dr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OR=(()=>{let e=class e{constructor(){this.appRef=m(Xr),this.taskService=m(dr),this.ngZone=m(oe),this.zonelessEnabled=m(tp),this.disableScheduling=m(CE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ve,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof th||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?a_:DE;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&oe.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(i),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,a_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kR(){return typeof $localize<"u"&&$localize.locale||il}var Cs=new y("",{providedIn:"root",factory:()=>m(Cs,G.Optional|G.SkipSelf)||kR()});var YE=new y("");var Pc=null;function FR(t=[],e){return rn.create({name:e,providers:[{provide:cl,useValue:"platform"},{provide:YE,useValue:new Set([()=>Pc=null])},...t]})}function PR(t=[]){if(Pc)return Pc;let e=FR(t);return Pc=e,DR(),LR(e),e}function LR(t){t.get($h,null)?.forEach(n=>n())}function cp(){return!1}var Ln=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jR;let t=e;return t})();function jR(t){return VR(Qe(),Y(),(t&16)===16)}function VR(t,e,n){if(ul(t)&&!n){let r=lr(t.index,e);return new qr(r,r)}else if(t.type&175){let r=e[Lt];return new qr(r,e)}return null}function KE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=PR(r),o=[zE({}),{provide:ls,useExisting:OR},...n||[]],a=new el({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(oe);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Dt,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(YE);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),TR(l,c,()=>{let h=a.get(GE);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(Cs,il);uR(p||il);let g=a.get(Xr);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}var ZE=new y("");function jn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Vn(t,e){fr("NgSignals");let n=oy(t);return e?.equal&&(n[Dn].equal=e.equal),n}function cn(t){let e=H(null);try{return t()}finally{H(e)}}var tw=null;function Hn(){return tw}function nw(t){tw??=t}var kl=class{};var ke=new y(""),pp=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(BR),providedIn:"platform"});let t=e;return t})();var BR=(()=>{let e=class e extends pp{constructor(){super(),this._doc=m(ke),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hn().getBaseHref(this._doc)}onPopState(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Hn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function mp(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function QE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Bn(t){return t&&t[0]!=="?"?"?"+t:t}var Gn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(iw),providedIn:"root"});let t=e;return t})(),rw=new y(""),iw=(()=>{let e=class e extends Gn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return mp(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Bn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Bn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Bn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(pp),b(rw,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gp=(()=>{let e=class e extends Gn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=mp(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Bn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Bn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(b(pp),b(rw,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ds=(()=>{let e=class e{constructor(r){this._subject=new he,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=GR(QE(JE(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Bn(i))}normalize(r){return e.stripTrailingSlash(HR(this._basePath,JE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Bn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Bn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Bn,e.joinWithSlash=mp,e.stripTrailingSlash=QE,e.\u0275fac=function(i){return new(i||e)(b(Gn))},e.\u0275prov=C({token:e,factory:()=>$R(),providedIn:"root"});let t=e;return t})();function $R(){return new Ds(b(Gn))}function HR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function JE(t){return t.replace(/\/index.html$/,"")}function GR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var nt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(nt||{}),ce=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(ce||{}),gt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(gt||{}),mr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function zR(t){return St(t)[we.LocaleId]}function WR(t,e,n){let r=St(t),i=[r[we.DayPeriodsFormat],r[we.DayPeriodsStandalone]],o=Tt(i,e);return Tt(o,n)}function qR(t,e,n){let r=St(t),i=[r[we.DaysFormat],r[we.DaysStandalone]],o=Tt(i,e);return Tt(o,n)}function YR(t,e,n){let r=St(t),i=[r[we.MonthsFormat],r[we.MonthsStandalone]],o=Tt(i,e);return Tt(o,n)}function KR(t,e){let r=St(t)[we.Eras];return Tt(r,e)}function Sl(t,e){let n=St(t);return Tt(n[we.DateFormat],e)}function Tl(t,e){let n=St(t);return Tt(n[we.TimeFormat],e)}function xl(t,e){let r=St(t)[we.DateTimeFormat];return Tt(r,e)}function Ll(t,e){let n=St(t),r=n[we.NumberSymbols][e];if(typeof r>"u"){if(e===mr.CurrencyDecimal)return n[we.NumberSymbols][mr.Decimal];if(e===mr.CurrencyGroup)return n[we.NumberSymbols][mr.Group]}return r}function ow(t){if(!t[we.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[we.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ZR(t){let e=St(t);return ow(e),(e[we.ExtraData][2]||[]).map(r=>typeof r=="string"?up(r):[up(r[0]),up(r[1])])}function QR(t,e,n){let r=St(t);ow(r);let i=[r[we.ExtraData][0],r[we.ExtraData][1]],o=Tt(i,e)||[];return Tt(o,n)||[]}function Tt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function up(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var JR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ml={},XR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$n=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}($n||{}),X=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(X||{}),J=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(J||{});function eO(t,e,n,r){let i=lO(t);e=Un(n,e)||e;let s=[],a;for(;e;)if(a=XR.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let c=i.getTimezoneOffset();r&&(c=aw(r,c),i=cO(i,r,!0));let l="";return s.forEach(u=>{let d=sO(u);l+=d?d(i,n,c):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Fl(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Un(t,e){let n=zR(t);if(Ml[n]??={},Ml[n][e])return Ml[n][e];let r="";switch(e){case"shortDate":r=Sl(t,gt.Short);break;case"mediumDate":r=Sl(t,gt.Medium);break;case"longDate":r=Sl(t,gt.Long);break;case"fullDate":r=Sl(t,gt.Full);break;case"shortTime":r=Tl(t,gt.Short);break;case"mediumTime":r=Tl(t,gt.Medium);break;case"longTime":r=Tl(t,gt.Long);break;case"fullTime":r=Tl(t,gt.Full);break;case"short":let i=Un(t,"shortTime"),o=Un(t,"shortDate");r=Al(xl(t,gt.Short),[i,o]);break;case"medium":let s=Un(t,"mediumTime"),a=Un(t,"mediumDate");r=Al(xl(t,gt.Medium),[s,a]);break;case"long":let c=Un(t,"longTime"),l=Un(t,"longDate");r=Al(xl(t,gt.Long),[c,l]);break;case"full":let u=Un(t,"fullTime"),d=Un(t,"fullDate");r=Al(xl(t,gt.Full),[u,d]);break}return r&&(Ml[n][e]=r),r}function Al(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Gt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function tO(t,e){return Gt(t,3).substring(0,e)}function Se(t,e,n=0,r=!1,i=!1){return function(o,s){let a=nO(t,o);if((n>0||a>-n)&&(a+=n),t===X.Hours)a===0&&n===-12&&(a=12);else if(t===X.FractionalSeconds)return tO(a,e);let c=Ll(s,mr.MinusSign);return Gt(a,e,c,r,i)}}function nO(t,e){switch(t){case X.FullYear:return e.getFullYear();case X.Month:return e.getMonth();case X.Date:return e.getDate();case X.Hours:return e.getHours();case X.Minutes:return e.getMinutes();case X.Seconds:return e.getSeconds();case X.FractionalSeconds:return e.getMilliseconds();case X.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ue(t,e,n=nt.Format,r=!1){return function(i,o){return rO(i,o,t,e,n,r)}}function rO(t,e,n,r,i,o){switch(n){case J.Months:return YR(e,i,r)[t.getMonth()];case J.Days:return qR(e,i,r)[t.getDay()];case J.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=ZR(e),u=QR(e,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){let[h,p]=f,g=s>=h.hours&&a>=h.minutes,_=s<p.hours||s===p.hours&&a<p.minutes;if(h.hours<p.hours){if(g&&_)return!0}else if(g||_)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return WR(e,i,r)[s<12?0:1];case J.Eras:return KR(e,r)[t.getFullYear()<=0?0:1];default:let c=n;throw new Error(`unexpected translation type ${c}`)}}function Nl(t){return function(e,n,r){let i=-1*r,o=Ll(n,mr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case $n.Short:return(i>=0?"+":"")+Gt(s,2,o)+Gt(Math.abs(i%60),2,o);case $n.ShortGMT:return"GMT"+(i>=0?"+":"")+Gt(s,1,o);case $n.Long:return"GMT"+(i>=0?"+":"")+Gt(s,2,o)+":"+Gt(Math.abs(i%60),2,o);case $n.Extended:return r===0?"Z":(i>=0?"+":"")+Gt(s,2,o)+":"+Gt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var iO=0,Ol=4;function oO(t){let e=Fl(t,iO,1).getDay();return Fl(t,0,1+(e<=Ol?Ol:Ol+7)-e)}function sw(t){let e=t.getDay(),n=e===0?-3:Ol-e;return Fl(t.getFullYear(),t.getMonth(),t.getDate()+n)}function dp(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=sw(n),s=oO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Gt(i,t,Ll(r,mr.MinusSign))}}function Rl(t,e=!1){return function(n,r){let o=sw(n).getFullYear();return Gt(o,t,Ll(r,mr.MinusSign),e)}}var fp={};function sO(t){if(fp[t])return fp[t];let e;switch(t){case"G":case"GG":case"GGG":e=ue(J.Eras,ce.Abbreviated);break;case"GGGG":e=ue(J.Eras,ce.Wide);break;case"GGGGG":e=ue(J.Eras,ce.Narrow);break;case"y":e=Se(X.FullYear,1,0,!1,!0);break;case"yy":e=Se(X.FullYear,2,0,!0,!0);break;case"yyy":e=Se(X.FullYear,3,0,!1,!0);break;case"yyyy":e=Se(X.FullYear,4,0,!1,!0);break;case"Y":e=Rl(1);break;case"YY":e=Rl(2,!0);break;case"YYY":e=Rl(3);break;case"YYYY":e=Rl(4);break;case"M":case"L":e=Se(X.Month,1,1);break;case"MM":case"LL":e=Se(X.Month,2,1);break;case"MMM":e=ue(J.Months,ce.Abbreviated);break;case"MMMM":e=ue(J.Months,ce.Wide);break;case"MMMMM":e=ue(J.Months,ce.Narrow);break;case"LLL":e=ue(J.Months,ce.Abbreviated,nt.Standalone);break;case"LLLL":e=ue(J.Months,ce.Wide,nt.Standalone);break;case"LLLLL":e=ue(J.Months,ce.Narrow,nt.Standalone);break;case"w":e=dp(1);break;case"ww":e=dp(2);break;case"W":e=dp(1,!0);break;case"d":e=Se(X.Date,1);break;case"dd":e=Se(X.Date,2);break;case"c":case"cc":e=Se(X.Day,1);break;case"ccc":e=ue(J.Days,ce.Abbreviated,nt.Standalone);break;case"cccc":e=ue(J.Days,ce.Wide,nt.Standalone);break;case"ccccc":e=ue(J.Days,ce.Narrow,nt.Standalone);break;case"cccccc":e=ue(J.Days,ce.Short,nt.Standalone);break;case"E":case"EE":case"EEE":e=ue(J.Days,ce.Abbreviated);break;case"EEEE":e=ue(J.Days,ce.Wide);break;case"EEEEE":e=ue(J.Days,ce.Narrow);break;case"EEEEEE":e=ue(J.Days,ce.Short);break;case"a":case"aa":case"aaa":e=ue(J.DayPeriods,ce.Abbreviated);break;case"aaaa":e=ue(J.DayPeriods,ce.Wide);break;case"aaaaa":e=ue(J.DayPeriods,ce.Narrow);break;case"b":case"bb":case"bbb":e=ue(J.DayPeriods,ce.Abbreviated,nt.Standalone,!0);break;case"bbbb":e=ue(J.DayPeriods,ce.Wide,nt.Standalone,!0);break;case"bbbbb":e=ue(J.DayPeriods,ce.Narrow,nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ue(J.DayPeriods,ce.Abbreviated,nt.Format,!0);break;case"BBBB":e=ue(J.DayPeriods,ce.Wide,nt.Format,!0);break;case"BBBBB":e=ue(J.DayPeriods,ce.Narrow,nt.Format,!0);break;case"h":e=Se(X.Hours,1,-12);break;case"hh":e=Se(X.Hours,2,-12);break;case"H":e=Se(X.Hours,1);break;case"HH":e=Se(X.Hours,2);break;case"m":e=Se(X.Minutes,1);break;case"mm":e=Se(X.Minutes,2);break;case"s":e=Se(X.Seconds,1);break;case"ss":e=Se(X.Seconds,2);break;case"S":e=Se(X.FractionalSeconds,1);break;case"SS":e=Se(X.FractionalSeconds,2);break;case"SSS":e=Se(X.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nl($n.Short);break;case"ZZZZZ":e=Nl($n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nl($n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nl($n.Long);break;default:return null}return fp[t]=e,e}function aw(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function aO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function cO(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=aw(e,i);return aO(t,r*(o-i))}function lO(t){if(XE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Fl(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(JR))return uO(r)}let e=new Date(t);if(!XE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function uO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,c,l),e}function XE(t){return t instanceof Date&&!isNaN(t.valueOf())}function jl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var hp=/\s+/,ew=[],Vl=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=ew,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(hp):ew}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(hp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(hp).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(S(Ie),S($t))},e.\u0275dir=me({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();function dO(t,e){return new x(2100,!1)}var fO="mediumDate",hO=new y(""),pO=new y(""),cw=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??fO,c=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return eO(r,a,s||this.locale,c)}catch(a){throw dO(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(S(Cs,16),S(hO,24),S(pO,24))},e.\u0275pipe=F_({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var zt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({});let t=e;return t})(),vp="browser",mO="server";function lw(t){return t===vp}function Ul(t){return t===mO}var so=class{};var Ss=class{},Hl=class{},ze=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var _p=class{encodeKey(e){return uw(e)}encodeValue(e){return uw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var vO=/%(\d[a-f0-9])/gi,yO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uw(t){return encodeURIComponent(t).replace(vO,(e,n)=>yO[n]??e)}function $l(t){return`${t}`}var vr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _p,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push($l(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($l(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var bp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _O(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function dw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fw(t){return typeof Blob<"u"&&t instanceof Blob}function hw(t){return typeof FormData<"u"&&t instanceof FormData}function bO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Is=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(_O(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ze,this.context??=new bp,!this.params)this.params=new vr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||dw(this.body)||fw(this.body)||hw(this.body)||bO(this.body)?this.body:this.body instanceof vr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||hw(this.body)?null:fw(this.body)?this.body.type||null:dw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},yr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(yr||{}),Ts=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new ze,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Gl=class t extends Ts{constructor(e={}){super(e),this.type=yr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},xs=class t extends Ts{constructor(e={}){super(e),this.type=yr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gr=class extends Ts{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},vw=200,EO=204;function yp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Cp=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,o={}){let s;if(r instanceof Is)s=r;else{let l;o.headers instanceof ze?l=o.headers:l=new ze(o.headers);let u;o.params&&(o.params instanceof vr?u=o.params:u=new vr({fromObject:o.params})),s=new Is(r,i,o.body!==void 0?o.body:null,{headers:l,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=M(s).pipe(Tn(l=>this.handler.handle(l)));if(r instanceof Is||o.observe==="events")return a;let c=a.pipe(Ae(l=>l instanceof xs));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(T(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(T(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(T(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new vr().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,o={}){return this.request("PATCH",r,yp(o,i))}post(r,i,o={}){return this.request("POST",r,yp(o,i))}put(r,i,o={}){return this.request("PUT",r,yp(o,i))}};e.\u0275fac=function(i){return new(i||e)(b(Ss))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),wO=/^\)\]\}',?\n/,CO="X-Request-URL";function pw(t){if(t.url)return t.url;let e=CO.toLocaleLowerCase();return t.headers.get(e)}var DO=(()=>{let e=class e{constructor(){this.fetchImpl=m(Ep,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=m(oe)}handle(r){return new P(i=>{let o=new AbortController;return this.doRequest(r,o.signal,i).then(wp,s=>i.error(new gr({error:s}))),()=>o.abort()})}doRequest(r,i,o){return be(this,null,function*(){let s=this.createRequestInit(r),a;try{let p=this.ngZone.runOutsideAngular(()=>this.fetchImpl(r.urlWithParams,v({signal:i},s)));IO(p),o.next({type:yr.Sent}),a=yield p}catch(p){o.error(new gr({error:p,status:p.status??0,statusText:p.statusText,url:r.urlWithParams,headers:p.headers}));return}let c=new ze(a.headers),l=a.statusText,u=pw(a)??r.urlWithParams,d=a.status,f=null;if(r.reportProgress&&o.next(new Gl({headers:c,status:d,statusText:l,url:u})),a.body){let p=a.headers.get("content-length"),g=[],_=a.body.getReader(),D=0,L,K,ne=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>be(this,null,function*(){for(;;){let{done:xe,value:bt}=yield _.read();if(xe)break;if(g.push(bt),D+=bt.length,r.reportProgress){K=r.responseType==="text"?(K??"")+(L??=new TextDecoder).decode(bt,{stream:!0}):void 0;let Ii=()=>o.next({type:yr.DownloadProgress,total:p?+p:void 0,loaded:D,partialText:K});ne?ne.run(Ii):Ii()}}}));let _t=this.concatChunks(g,D);try{let xe=a.headers.get("Content-Type")??"";f=this.parseBody(r,_t,xe)}catch(xe){o.error(new gr({error:xe,headers:new ze(a.headers),status:a.status,statusText:a.statusText,url:pw(a)??r.urlWithParams}));return}}d===0&&(d=f?vw:0),d>=200&&d<300?(o.next(new xs({body:f,headers:c,status:d,statusText:l,url:u})),o.complete()):o.error(new gr({error:f,headers:c,status:d,statusText:l,url:u}))})}parseBody(r,i,o){switch(r.responseType){case"json":let s=new TextDecoder().decode(i).replace(wO,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:o});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},o=r.withCredentials?"include":void 0;if(r.headers.forEach((s,a)=>i[s]=a.join(",")),r.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!r.headers.has("Content-Type")){let s=r.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:o}}concatChunks(r,i){let o=new Uint8Array(i),s=0;for(let a of r)o.set(a,s),s+=a.length;return o}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ep=class{};function wp(){}function IO(t){t.then(wp,wp)}function SO(t,e){return e(t)}function TO(t,e,n){return(r,i)=>Vt(n,()=>e(r,o=>t(o,i)))}var yw=new y(""),xO=new y(""),MO=new y("",{providedIn:"root",factory:()=>!0});var mw=(()=>{let e=class e extends Ss{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=m(dr),this.contributeToStability=m(MO)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(yw),...this.injector.get(xO,[])]));this.chain=i.reduceRight((o,s)=>TO(o,s,this.injector),SO)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,o=>this.backend.handle(o)).pipe(nr(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(b(Hl),b(at))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();var AO=/^\)\]\}',?\n/;function NO(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var gw=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new x(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ie(i.\u0275loadImpl()):M(null)).pipe(pt(()=>new P(s=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((_,D)=>a.setRequestHeader(_,D.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let _=r.detectContentTypeHeader();_!==null&&a.setRequestHeader("Content-Type",_)}if(r.responseType){let _=r.responseType.toLowerCase();a.responseType=_!=="json"?_:"text"}let c=r.serializeBody(),l=null,u=()=>{if(l!==null)return l;let _=a.statusText||"OK",D=new ze(a.getAllResponseHeaders()),L=NO(a)||r.url;return l=new Gl({headers:D,status:a.status,statusText:_,url:L}),l},d=()=>{let{headers:_,status:D,statusText:L,url:K}=u(),ne=null;D!==EO&&(ne=typeof a.response>"u"?a.responseText:a.response),D===0&&(D=ne?vw:0);let _t=D>=200&&D<300;if(r.responseType==="json"&&typeof ne=="string"){let xe=ne;ne=ne.replace(AO,"");try{ne=ne!==""?JSON.parse(ne):null}catch(bt){ne=xe,_t&&(_t=!1,ne={error:bt,text:ne})}}_t?(s.next(new xs({body:ne,headers:_,status:D,statusText:L,url:K||void 0})),s.complete()):s.error(new gr({error:ne,headers:_,status:D,statusText:L,url:K||void 0}))},f=_=>{let{url:D}=u(),L=new gr({error:_,status:a.status||0,statusText:a.statusText||"Unknown Error",url:D||void 0});s.error(L)},h=!1,p=_=>{h||(s.next(u()),h=!0);let D={type:yr.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),r.responseType==="text"&&a.responseText&&(D.partialText=a.responseText),s.next(D)},g=_=>{let D={type:yr.UploadProgress,loaded:_.loaded};_.lengthComputable&&(D.total=_.total),s.next(D)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),r.reportProgress&&(a.addEventListener("progress",p),c!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(c),s.next({type:yr.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),r.reportProgress&&(a.removeEventListener("progress",p),c!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(b(so))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),_w=new y(""),RO="XSRF-TOKEN",OO=new y("",{providedIn:"root",factory:()=>RO}),kO="X-XSRF-TOKEN",FO=new y("",{providedIn:"root",factory:()=>kO}),zl=class{},PO=(()=>{let e=class e{constructor(r,i,o){this.doc=r,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=jl(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(b(ke),b(sn),b(OO))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function LO(t,e){let n=t.url.toLowerCase();if(!m(_w)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=m(zl).getToken(),i=m(FO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function bw(...t){let e=[Cp,gw,mw,{provide:Ss,useExisting:mw},{provide:Hl,useFactory:()=>m(DO,{optional:!0})??m(gw)},{provide:yw,useValue:LO,multi:!0},{provide:_w,useValue:!0},{provide:zl,useClass:PO}];for(let n of t)e.push(...n.\u0275providers);return jt(e)}var Sp=class extends kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Tp=class t extends Sp{static makeCurrent(){nw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=UO();return n==null?null:BO(n)}resetBaseElement(){Ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jl(document.cookie,e)}},Ms=null;function UO(){return Ms=Ms||document.querySelector("base"),Ms?Ms.getAttribute("href"):null}function BO(t){return new URL(t,document.baseURI).pathname}var $O=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Wl=new y(""),Dw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(b(Wl),b(oe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),As=class{constructor(e){this._doc=e}},Dp="ng-app-id",Iw=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ul(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Dp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Dp),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Dp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(b(ke),b(fl),b(gs,8),b(sn))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ip={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mp=/%COMP%/g,Sw="%COMP%",HO=`_nghost-${Sw}`,GO=`_ngcontent-${Sw}`,zO=!0,WO=new y("",{providedIn:"root",factory:()=>zO});function qO(t){return GO.replace(Mp,t)}function YO(t){return HO.replace(Mp,t)}function Tw(t,e){return e.map(n=>n.replace(Mp,t))}var Ew=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ul(c),this.defaultRenderer=new Ns(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===en.ShadowDom&&(i=N(v({},i),{encapsulation:en.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ql?o.applyToHost(r):o instanceof Rs&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case en.Emulated:s=new ql(l,u,i,this.appId,d,a,c,f);break;case en.ShadowDom:return new xp(l,u,r,i,a,c,this.nonce,f);default:s=new Rs(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(b(Dw),b(Iw),b(fl),b(WO),b(ke),b(sn),b(oe),b(gs))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ns=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Ip[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ww(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ww(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ip[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ip[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Hn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function ww(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xp=class extends Ns{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Tw(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rs=class extends Ns{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Tw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ql=class extends Rs{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=qO(l),this.hostAttr=YO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},KO=(()=>{let e=class e extends As{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(b(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),ZO=(()=>{let e=class e extends As{constructor(r){super(r),this.delegate=m(ZE,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(b(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Cw=["alt","control","meta","shift"],QO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},XO=(()=>{let e=class e extends As{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Cw.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=QO[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Cw.forEach(a=>{if(a!==o){let c=JO[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(b(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function xw(t,e){return KE(v({rootComponent:t},ek(e)))}function ek(t){return{appProviders:[...ok,...t?.providers??[]],platformProviders:ik}}function tk(){Tp.makeCurrent()}function nk(){return new Dt}function rk(){return jb(document),document}var ik=[{provide:sn,useValue:vp},{provide:$h,useValue:tk,multi:!0},{provide:ke,useFactory:rk,deps:[]}];var ok=[{provide:cl,useValue:"root"},{provide:Dt,useFactory:nk,deps:[]},{provide:Wl,useClass:KO,multi:!0,deps:[ke,oe,sn]},{provide:Wl,useClass:XO,multi:!0,deps:[ke]},{provide:Wl,useClass:ZO,multi:!0},Ew,Iw,Dw,{provide:Qi,useExisting:Ew},{provide:so,useClass:$O,deps:[]},[]];var Mw=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(b(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B="primary",Ys=Symbol("RouteTitle"),kp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ho(t){return new kp(t)}function ck(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ln(t[n],e[n]))return!1;return!0}function ln(t,e){let n=t?Fp(t):void 0,r=e?Fp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Lw(t[i],e[i]))return!1;return!0}function Fp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Lw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jw(t){return t.length>0?t[t.length-1]:null}function _r(t){return ef(t)?t:Jr(t)?ie(Promise.resolve(t)):M(t)}var uk={exact:Uw,subset:Bw},Vw={exact:dk,subset:fk,ignored:()=>!0};function Aw(t,e,n){return uk[n.paths](t.root,e.root,n.matrixParams)&&Vw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function dk(t,e){return ln(t,e)}function Uw(t,e,n){if(!ti(t.segments,e.segments)||!Zl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Uw(t.children[r],e.children[r],n))return!1;return!0}function fk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Lw(t[n],e[n]))}function Bw(t,e,n){return $w(t,e,e.segments,n)}function $w(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ti(i,n)||e.hasChildren()||!Zl(i,n,r))}else if(t.segments.length===n.length){if(!ti(t.segments,n)||!Zl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Bw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ti(t.segments,i)||!Zl(t.segments,i,r)||!t.children[B]?!1:$w(t.children[B],e,o,r)}}function Zl(t,e,n){return e.every((r,i)=>Vw[n](t[i].parameters,r.parameters))}var Wn=class{constructor(e=new te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ho(this.queryParams),this._queryParamMap}toString(){return mk.serialize(this)}},te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ql(this)}},ei=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ho(this.parameters),this._parameterMap}toString(){return Gw(this)}};function hk(t,e){return ti(t,e)&&t.every((n,r)=>ln(n.parameters,e[r].parameters))}function ti(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function pk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===B&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==B&&(n=n.concat(e(i,r)))}),n}var am=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new Vs,providedIn:"root"});let t=e;return t})(),Vs=class{parse(e){let n=new Lp(e);return new Wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Os(e.root,!0)}`,r=yk(e.queryParams),i=typeof e.fragment=="string"?`#${gk(e.fragment)}`:"";return`${n}${r}${i}`}},mk=new Vs;function Ql(t){return t.segments.map(e=>Gw(e)).join("/")}function Os(t,e){if(!t.hasChildren())return Ql(t);if(e){let n=t.children[B]?Os(t.children[B],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==B&&r.push(`${i}:${Os(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pk(t,(r,i)=>i===B?[Os(t.children[B],!1)]:[`${i}:${Os(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[B]!=null?`${Ql(t)}/${n[0]}`:`${Ql(t)}/(${n.join("//")})`}}function Hw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(t){return Hw(t).replace(/%3B/gi,";")}function gk(t){return encodeURI(t)}function Pp(t){return Hw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jl(t){return decodeURIComponent(t)}function Nw(t){return Jl(t.replace(/\+/g,"%20"))}function Gw(t){return`${Pp(t.path)}${vk(t.parameters)}`}function vk(t){return Object.entries(t).map(([e,n])=>`;${Pp(e)}=${Pp(n)}`).join("")}function yk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yl(n)}=${Yl(i)}`).join("&"):`${Yl(n)}=${Yl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var _k=/^[^\/()?;#]+/;function Ap(t){let e=t.match(_k);return e?e[0]:""}var bk=/^[^\/()?;=#]+/;function Ek(t){let e=t.match(bk);return e?e[0]:""}var wk=/^[^=?&#]+/;function Ck(t){let e=t.match(wk);return e?e[0]:""}var Dk=/^[^&#]+/;function Ik(t){let e=t.match(Dk);return e?e[0]:""}var Lp=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[B]=new te(e,n)),r}parseSegment(){let e=Ap(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new ei(Jl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Ek(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ap(this.remaining);i&&(r=i,this.capture(r))}e[Jl(n)]=Jl(r)}parseQueryParam(e){let n=Ck(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ik(this.remaining);s&&(r=s,this.capture(r))}let i=Nw(n),o=Nw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ap(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=B);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[B]:new te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function zw(t){return t.segments.length>0?new te([],{[B]:t}):t}function Ww(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Ww(i);if(r===B&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new te(t.segments,e);return Sk(n)}function Sk(t){if(t.numberOfChildren===1&&t.children[B]){let e=t.children[B];return new te(t.segments.concat(e.segments),e.children)}return t}function ni(t){return t instanceof Wn}function Tk(t,e,n=null,r=null){let i=qw(t);return Yw(i,e,n,r)}function qw(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zw(r);return e??i}function Yw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Np(i,i,i,n,r);let o=xk(e);if(o.toRoot())return Np(i,i,new te([],{}),n,r);let s=Mk(o,i,t),a=s.processChildren?Ps(s.segmentGroup,s.index,o.commands):Zw(s.segmentGroup,s.index,o.commands);return Np(i,s.segmentGroup,a,n,r)}function Xl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Us(t){return typeof t=="object"&&t!=null&&t.outlets}function Np(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=Kw(t,e,n);let a=zw(Ww(s));return new Wn(a,o,i)}function Kw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Kw(o,e,n)}),new te(t.segments,r)}var eu=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xl(r[0]))throw new x(4003,!1);let i=r.find(Us);if(i&&i!==jw(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new eu(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new eu(n,e,r)}var lo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Mk(t,e,n){if(t.isAbsolute)return new lo(e,!0,0);if(!n)return new lo(e,!1,NaN);if(n.parent===null)return new lo(n,!0,0);let r=Xl(t.commands[0])?0:1,i=n.segments.length-1+r;return Ak(n,i,t.numberOfDoubleDots)}function Ak(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new lo(r,!1,i-o)}function Nk(t){return Us(t[0])?t[0].outlets:{[B]:t}}function Zw(t,e,n){if(t??=new te([],{}),t.segments.length===0&&t.hasChildren())return Ps(t,e,n);let r=Rk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new te(t.segments.slice(0,r.pathIndex),{});return o.children[B]=new te(t.segments.slice(r.pathIndex),t.children),Ps(o,0,i)}else return r.match&&i.length===0?new te(t.segments,{}):r.match&&!t.hasChildren()?jp(t,e,n):r.match?Ps(t,0,i):jp(t,e,n)}function Ps(t,e,n){if(n.length===0)return new te(t.segments,{});{let r=Nk(n),i={};if(Object.keys(r).some(o=>o!==B)&&t.children[B]&&t.numberOfChildren===1&&t.children[B].segments.length===0){let o=Ps(t.children[B],e,n);return new te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Zw(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new te(t.segments,i)}}function Rk(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Us(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ow(c,l,s))return o;r+=2}else{if(!Ow(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jp(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Us(o)){let c=Ok(o.outlets);return new te(r,c)}if(i===0&&Xl(n[0])){let c=t.segments[e];r.push(new ei(c.path,Rw(n[0]))),i++;continue}let s=Us(o)?o.outlets[B]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Xl(a)?(r.push(new ei(s,Rw(a))),i+=2):(r.push(new ei(s,{})),i++)}return new te(r,{})}function Ok(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jp(new te([],{}),0,r))}),e}function Rw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ow(t,e,n){return t==n.path&&ln(e,n.parameters)}var Ls="imperative",We=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(We||{}),xt=class{constructor(e,n){this.id=e,this.url=n}},Bs=class extends xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=We.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qn=class extends xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=We.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(yt||{}),Vp=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Vp||{}),zn=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ri=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=We.NavigationSkipped}},$s=class extends xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=We.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tu=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Up=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bp=class extends xt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=We.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$p=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hp=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=We.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gp=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},zp=class{constructor(e){this.route=e,this.type=We.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wp=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qp=class{constructor(e){this.snapshot=e,this.type=We.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yp=class{constructor(e){this.snapshot=e,this.type=We.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kp=class{constructor(e){this.snapshot=e,this.type=We.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Hs=class{},po=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function kk(t,e){return t.providers&&!t._injector&&(t._injector=ip(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Wt(t){return t.outlet||B}function Fk(t,e){let n=t.filter(r=>Wt(r)===e);return n.push(...t.filter(r=>Wt(r)!==e)),n}function Ks(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Zp=class{get injector(){return Ks(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new cu(this.rootInjector),this.attachRef=null}},cu=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Zp(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(b(at))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nu=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Qp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Qp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Jp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jp(e,this._root).map(n=>n.value)}};function Qp(t,e){if(t===e.value)return e;for(let n of e.children){let r=Qp(t,n);if(r)return r}return null}function Jp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Jp(t,n);if(r.length)return r.unshift(e),r}return[]}var vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function co(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ru=class extends nu{constructor(e,n){super(e),this.snapshot=n,cm(this,e)}toString(){return this.snapshot.toString()}};function Qw(t){let e=Pk(t),n=new Ee([new ei("",{})]),r=new Ee({}),i=new Ee({}),o=new Ee({}),s=new Ee(""),a=new ii(n,r,o,s,i,B,t,e.root);return a.snapshot=e.root,new ru(new vt(a,[]),e)}function Pk(t){let e={},n={},r={},i="",o=new uo([],e,r,i,n,B,t,null,{});return new ou("",new vt(o,[]))}var ii=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(l=>l[Ys]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(e=>ho(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(e=>ho(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function iu(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&Xw(i)&&(r.resolve[Ys]=i.title),r}var uo=class{get title(){return this.data?.[Ys]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ho(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ho(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ou=class extends nu{constructor(e,n){super(n),this.url=e,cm(this,n)}toString(){return Jw(this._root)}};function cm(t,e){e.value._routerState=t,e.children.forEach(n=>cm(t,n))}function Jw(t){let e=t.children.length>0?` { ${t.children.map(Jw).join(", ")} } `:"";return`${t.value}${e}`}function Rp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ln(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ln(e.params,n.params)||t.paramsSubject.next(n.params),lk(e.url,n.url)||t.urlSubject.next(n.url),ln(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Xp(t,e){let n=ln(t.params,e.params)&&hk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Xp(t.parent,e.parent))}function Xw(t){return typeof t.title=="string"||t.title===null}var lm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=B,this.activateEvents=new he,this.deactivateEvents=new he,this.attachEvents=new he,this.detachEvents=new he,this.parentContexts=m(cu),this.location=m(oo),this.changeDetector=m(Ln),this.inputBinder=m(um,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new em(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=me({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bt]});let t=e;return t})(),em=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ii?this.route:e===cu?this.childContexts:this.parent.get(e,n)}},um=new y("");function Lk(t,e,n){let r=Gs(t,e._root,n?n._root:void 0);return new ru(r,e)}function Gs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=jk(t,e,n);return new vt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gs(t,a)),s}}let r=Vk(e.value),i=e.children.map(o=>Gs(t,o));return new vt(r,i)}}function jk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Gs(t,r,i);return Gs(t,r)})}function Vk(t){return new ii(new Ee(t.url),new Ee(t.params),new Ee(t.queryParams),new Ee(t.fragment),new Ee(t.data),t.outlet,t.component,t)}var zs=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eC="ngNavigationCancelingError";function su(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tC(!1,yt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eC]=!0,n.cancellationCode=e,n}function Uk(t){return nC(t)&&ni(t.url)}function nC(t){return!!t&&t[eC]}var Bk=(t,e,n,r)=>T(i=>(new tm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),tm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Rp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=co(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=co(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=co(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=co(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Kp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new qp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Rp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rp(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},au=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fo=class{constructor(e,n){this.component=e,this.route=n}};function $k(t,e,n){let r=t._root,i=e?e._root:null;return ks(r,i,n,[r.value])}function Hk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function vo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!C_(t)?t:e.get(t):r}function ks(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=co(e);return t.children.forEach(s=>{Gk(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>js(a,n.getContext(s),i)),i}function Gk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=zk(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new au(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ks(t,e,a?a.children:null,r,i):ks(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fo(a.outlet.component,s))}else s&&js(e,a,i),i.canActivateChecks.push(new au(r)),o.component?ks(t,null,a?a.children:null,r,i):ks(t,null,n,r,i);return i}function zk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ti(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ti(t.url,e.url)||!ln(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xp(t,e)||!ln(t.queryParams,e.queryParams);case"paramsChange":default:return!Xp(t,e)}}function js(t,e,n){let r=co(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?js(s,e.children.getContext(o),n):js(s,null,n):js(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fo(e.outlet.component,i)):n.canDeactivateChecks.push(new fo(null,i)):n.canDeactivateChecks.push(new fo(null,i))}function Zs(t){return typeof t=="function"}function Wk(t){return typeof t=="boolean"}function qk(t){return t&&Zs(t.canLoad)}function Yk(t){return t&&Zs(t.canActivate)}function Kk(t){return t&&Zs(t.canActivateChild)}function Zk(t){return t&&Zs(t.canDeactivate)}function Qk(t){return t&&Zs(t.canMatch)}function rC(t){return t instanceof Sn||t?.name==="EmptyError"}var Kl=Symbol("INITIAL_VALUE");function mo(){return pt(t=>Li(t.map(e=>e.pipe(ht(1),Zo(Kl)))).pipe(T(e=>{for(let n of e)if(n!==!0){if(n===Kl)return Kl;if(n===!1||Jk(n))return n}return!0}),Ae(e=>e!==Kl),ht(1)))}function Jk(t){return ni(t)||t instanceof zs}function Xk(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(N(v({},n),{guardsResult:!0})):e1(s,r,i,t).pipe(ye(a=>a&&Wk(a)?t1(r,o,t,e):M(a)),T(a=>N(v({},n),{guardsResult:a})))})}function e1(t,e,n,r){return ie(t).pipe(ye(i=>s1(i.component,i.route,n,e,r)),Qt(i=>i!==!0,!0))}function t1(t,e,n,r){return ie(e).pipe(Tn(i=>er(r1(i.route.parent,r),n1(i.route,r),o1(t,i.path,n),i1(t,i.route,n))),Qt(i=>i!==!0,!0))}function n1(t,e){return t!==null&&e&&e(new Yp(t)),M(!0)}function r1(t,e){return t!==null&&e&&e(new Wp(t)),M(!0)}function i1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>Yo(()=>{let s=Ks(e)??n,a=vo(o,s),c=Yk(a)?a.canActivate(e,t):Vt(s,()=>a(e,t));return _r(c).pipe(Qt())}));return M(i).pipe(mo())}function o1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Hk(s)).filter(s=>s!==null).map(s=>Yo(()=>{let a=s.guards.map(c=>{let l=Ks(s.node)??n,u=vo(c,l),d=Kk(u)?u.canActivateChild(r,t):Vt(l,()=>u(r,t));return _r(d).pipe(Qt())});return M(a).pipe(mo())}));return M(o).pipe(mo())}function s1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let c=Ks(e)??i,l=vo(a,c),u=Zk(l)?l.canDeactivate(t,e,n,r):Vt(c,()=>l(t,e,n,r));return _r(u).pipe(Qt())});return M(s).pipe(mo())}function a1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=vo(s,t),c=qk(a)?a.canLoad(e,n):Vt(t,()=>a(e,n));return _r(c)});return M(o).pipe(mo(),iC(r))}function iC(t){return qd(je(e=>{if(typeof e!="boolean")throw su(t,e)}),T(e=>e===!0))}function c1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=vo(s,t),c=Qk(a)?a.canMatch(e,n):Vt(t,()=>a(e,n));return _r(c)});return M(o).pipe(mo(),iC(r))}var Ws=class{constructor(e){this.segmentGroup=e||null}},qs=class extends Error{constructor(e){super(),this.urlTree=e}};function ao(t){return Qn(new Ws(t))}function l1(t){return Qn(new x(4e3,!1))}function u1(t){return Qn(tC(!1,yt.GuardRejected))}var nm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[B])return l1(`${e.redirectTo}`);i=i.children[B]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,_=Vt(o,()=>a({params:h,data:p,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:g}));if(_ instanceof Wn)throw new qs(_);n=_}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new qs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},rm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d1(t,e,n,r,i){let o=dm(t,e,n);return o.matched?(r=kk(e,r),c1(r,e,n,i).pipe(T(s=>s===!0?o:v({},rm)))):M(o)}function dm(t,e,n){if(e.path==="**")return f1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},rm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ck)(n,t,e);if(!i)return v({},rm);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function f1(t){return{matched:!0,parameters:t.length>0?jw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kw(t,e,n,r){return n.length>0&&m1(t,n,r)?{segmentGroup:new te(e,p1(r,new te(n,t.children))),slicedSegments:[]}:n.length===0&&g1(t,n,r)?{segmentGroup:new te(t.segments,h1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new te(t.segments,t.children),slicedSegments:n}}function h1(t,e,n,r){let i={};for(let o of n)if(lu(t,e,o)&&!r[Wt(o)]){let s=new te([],{});i[Wt(o)]=s}return v(v({},r),i)}function p1(t,e){let n={};n[B]=e;for(let r of t)if(r.path===""&&Wt(r)!==B){let i=new te([],{});n[Wt(r)]=i}return n}function m1(t,e,n){return n.some(r=>lu(t,e,r)&&Wt(r)!==B)}function g1(t,e,n){return n.some(r=>lu(t,e,r))}function lu(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function v1(t,e,n,r){return Wt(t)!==r&&(r===B||!lu(e,n,t))?!1:dm(e,t,n).matched}function y1(t,e,n){return e.length===0&&!t.children[n]}var im=class{};function _1(t,e,n,r,i,o,s="emptyOnly"){return new om(t,e,n,r,i,s,o).recognize()}var b1=31,om=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new nm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=kw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(T(({children:n,rootSnapshot:r})=>{let i=new vt(r,n),o=new ou("",i),s=Tk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new uo([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),B,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,B,n).pipe(T(r=>({children:r,rootSnapshot:n})),Le(r=>{if(r instanceof qs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ws?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(T(s=>s instanceof vt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Tn(s=>{let a=r.children[s],c=Fk(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Ko((s,a)=>(s.push(...a),s)),tr(null),cf(),ye(s=>{if(s===null)return ao(r);let a=oC(s);return E1(a),M(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(Tn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Le(l=>{if(l instanceof Ws)return M(null);throw l}))),Qt(c=>!!c),Le(c=>{if(rC(c))return y1(r,i,o)?M(new im):ao(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return v1(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ao(i):ao(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=dm(n,i,o);if(!c)return ao(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>b1&&(this.allowRedirects=!1));let h=new uo(o,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Fw(i),Wt(i),i.component??i._loadedComponent??null,i,Pw(i)),p=iu(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,g).pipe(ye(_=>this.processSegment(e,r,n,_.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=d1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(pt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(pt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,p=new uo(f,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Fw(r),Wt(r),r.component??r._loadedComponent??null,r,Pw(r)),g=iu(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:_,slicedSegments:D}=kw(n,f,h,l);if(D.length===0&&_.hasChildren())return this.processChildren(u,l,_,p).pipe(T(K=>new vt(p,K)));if(l.length===0&&D.length===0)return M(new vt(p,[]));let L=Wt(r)===o;return this.processSegment(u,l,_,D,L?B:o,!0,p).pipe(T(K=>new vt(p,K instanceof vt?[K]:[])))}))):ao(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):a1(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):u1(n))):M({routes:[],injector:e})}};function E1(t){t.sort((e,n)=>e.value.outlet===B?-1:n.value.outlet===B?1:e.value.outlet.localeCompare(n.value.outlet))}function w1(t){let e=t.value.routeConfig;return e&&e.path===""}function oC(t){let e=[],n=new Set;for(let r of t){if(!w1(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=oC(r.children);e.push(new vt(r.value,i))}return e.filter(r=>!n.has(r))}function Fw(t){return t.data||{}}function Pw(t){return t.resolve||{}}function C1(t,e,n,r,i,o){return ye(s=>_1(t,e,n,r,s.extractedUrl,i,o).pipe(T(({state:a,tree:c})=>N(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function D1(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of sC(c))s.add(l);let a=0;return ie(s).pipe(Tn(c=>o.has(c)?I1(c,r,t,e):(c.data=iu(c,c.parent,t).resolve,M(void 0))),je(()=>a++),ji(1),ye(c=>a===s.size?M(n):He))})}function sC(t){let e=t.children.map(n=>sC(n)).flat();return[t,...e]}function I1(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Xw(i)&&(o[Ys]=i.title),S1(o,t,e,r).pipe(T(s=>(t._resolvedData=s,t.data=iu(t,t.parent,n).resolve,null)))}function S1(t,e,n,r){let i=Fp(t);if(i.length===0)return M({});let o={};return ie(i).pipe(ye(s=>T1(t[s],e,n,r).pipe(Qt(),je(a=>{if(a instanceof zs)throw su(new Vs,a);o[s]=a}))),ji(1),of(o),Le(s=>rC(s)?He:Qn(s)))}function T1(t,e,n,r){let i=Ks(e)??r,o=vo(t,i),s=o.resolve?o.resolve(e,n):Vt(i,()=>o(e,n));return _r(s)}function Op(t){return pt(e=>{let n=t(e);return n?ie(n).pipe(T(()=>e)):M(e)})}var aC=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===B);return i}getResolvedTitleForRoute(r){return r.data[Ys]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(x1),providedIn:"root"});let t=e;return t})(),x1=(()=>{let e=class e extends aC{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(b(Mw))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fm=new y("",{providedIn:"root",factory:()=>({})}),M1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Re({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[lm],encapsulation:2});let t=e;return t})();function hm(t){let e=t.children&&t.children.map(hm),n=e?N(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==B&&(n.component=M1),n}var pm=new y(""),A1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(ap)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_r(r.loadComponent()).pipe(T(cC),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),nr(()=>{this.componentLoaders.delete(r)})),o=new Ri(i,()=>new le).pipe(Ni());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=N1(i,this.compiler,r,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(i)})),a=new Ri(s,()=>new le).pipe(Ni());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N1(t,e,n,r){return _r(t.loadChildren()).pipe(T(cC),ye(i=>i instanceof ds||Array.isArray(i)?M(i):ie(e.compileModuleAsync(i))),T(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(pm,[],{optional:!0,self:!0}).flat()),{routes:s.map(hm),injector:o}}))}function R1(t){return t&&typeof t=="object"&&"default"in t}function cC(t){return R1(t)?t.default:t}var mm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(O1),providedIn:"root"});let t=e;return t})(),O1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k1=new y("");var F1=new y(""),P1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new le,this.transitionAbortSubject=new le,this.configLoader=m(A1),this.environmentInjector=m(at),this.urlSerializer=m(am),this.rootContexts=m(cu),this.location=m(Ds),this.inputBindingEnabled=m(um,{optional:!0})!==null,this.titleStrategy=m(aC),this.options=m(fm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(mm),this.createViewTransition=m(k1,{optional:!0}),this.navigationErrorHandler=m(F1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Gp(o)),i=o=>this.events.next(new zp(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(N(v(v({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ee({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ls,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ae(s=>s.id!==0),T(s=>N(v({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),pt(s=>{let a=!1,c=!1;return M(s).pipe(pt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",yt.SupersededByNewNavigation),He;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?N(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new ri(l.id,this.urlSerializer.serialize(l.rawUrl),f,Vp.IgnoredSameUrlNavigation)),l.resolve(!1),He}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe(pt(f=>{let h=this.transitions?.getValue();return this.events.next(new Bs(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?He:Promise.resolve(f)}),C1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),je(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=N(v({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new tu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:g,extras:_}=l,D=new Bs(f,this.urlSerializer.serialize(h),p,g);this.events.next(D);let L=Qw(this.rootComponentType).snapshot;return this.currentTransition=s=N(v({},l),{targetSnapshot:L,urlAfterRedirects:h,extras:N(v({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new ri(l.id,this.urlSerializer.serialize(l.extractedUrl),f,Vp.IgnoredByUrlHandlingStrategy)),l.resolve(!1),He}}),je(l=>{let u=new Up(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),T(l=>(this.currentTransition=s=N(v({},l),{guards:$k(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Xk(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw su(this.urlSerializer,l.guardsResult);let u=new Bp(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ae(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",yt.GuardRejected),!1)),Op(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(je(u=>{let d=new $p(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),pt(u=>{let d=!1;return M(u).pipe(D1(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",yt.NoDataFromResolver)}}))}),je(u=>{let d=new Hp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Op(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(je(h=>{d.component=h}),T(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Li(u(l.targetSnapshot.root)).pipe(tr(null),ht(1))}),Op(()=>this.afterPreactivation()),pt(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ie(d).pipe(T(()=>s)):M(s)}),T(l=>{let u=Lk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=N(v({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),je(()=>{this.events.next(new Hs)}),Bk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ht(1),je({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Qo(this.transitionAbortSubject.pipe(je(l=>{throw l}))),nr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",yt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Le(l=>{if(c=!0,nC(l))this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),Uk(l)?this.events.next(new po(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new $s(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Vt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof zs){let{message:f,cancellationCode:h}=su(this.urlSerializer,d);this.events.next(new zn(s.id,this.urlSerializer.serialize(s.extractedUrl),f,h)),this.events.next(new po(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let f=r.errorHandler(l);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return He}))}))}cancelNavigationTransition(r,i,o){let s=new zn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L1(t){return t!==Ls}var j1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(V1),providedIn:"root"});let t=e;return t})(),sm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},V1=(()=>{let e=class e extends sm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>m(U1),providedIn:"root"});let t=e;return t})(),U1=(()=>{let e=class e extends lC{constructor(){super(...arguments),this.location=m(Ds),this.urlSerializer=m(am),this.options=m(fm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(mm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Bs)this.stateMemento=this.createStateMemento();else if(r instanceof ri)this.rawUrlTree=i.initialUrl;else if(r instanceof tu){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Hs?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof zn&&(r.code===yt.GuardRejected||r.code===yt.NoDataFromResolver)?this.restoreHistory(i):r instanceof $s?this.restoreHistory(i,!0):r instanceof qn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Wn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=v(v({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=v(v({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Fs||{});function B1(t,e){t.events.pipe(Ae(n=>n instanceof qn||n instanceof zn||n instanceof $s||n instanceof ri),T(n=>n instanceof qn||n instanceof ri?Fs.COMPLETE:(n instanceof zn?n.code===yt.Redirect||n.code===yt.SupersededByNewNavigation:!1)?Fs.REDIRECTING:Fs.FAILED),Ae(n=>n!==Fs.REDIRECTING),ht(1)).subscribe(()=>{e()})}function $1(t){throw t}var H1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},un=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(Dl),this.stateManager=m(lC),this.options=m(fm,{optional:!0})||{},this.pendingTasks=m(dr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(P1),this.urlSerializer=m(am),this.location=m(Ds),this.urlHandlingStrategy=m(mm),this._events=new le,this.errorHandler=this.options.errorHandler||$1,this.navigated=!1,this.routeReuseStrategy=m(j1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(pm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(um,{optional:!0}),this.eventsSubscription=new ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof zn&&i.code!==yt.Redirect&&i.code!==yt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qn)this.navigated=!0;else if(i instanceof po){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||L1(o.source)},a);this.scheduleNavigation(c,Ls,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}W1(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=v({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(hm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=v(v({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=qw(h)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),f=this.currentUrlTree.root}return Yw(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ni(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ls,null,i)}navigate(r,i={skipLocationChange:!1}){return z1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=v({},H1):i===!1?o=v({},G1):o=i,ni(r))return Aw(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Aw(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return B1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new x(4008,!1)}function W1(t){return!(t instanceof Hs)&&!(t instanceof po)}var go=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ni(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Bb(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(S(un),S(ii),Bh("tabindex"),S($t),S(Ie),S(Gn))},e.\u0275dir=me({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&ee("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&pr("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",jn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",jn],replaceUrl:[2,"replaceUrl","replaceUrl",jn],routerLink:"routerLink"},standalone:!0,features:[ys,Bt]});let t=e;return t})(),uu=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new he,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof qn&&this.update()})}ngAfterContentInit(){M(this.links.changes,M(null)).pipe(Xn()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ie(r).pipe(Xn()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=q1(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(S(un),S(Ie),S($t),S(Ln),S(go,8))},e.\u0275dir=me({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&FE(s,go,5),i&2){let a;op(a=sp())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Bt]});let t=e;return t})();function q1(t){return!!t.paths}var Y1=new y("");function uC(t,...e){return jt([{provide:pm,multi:!0,useValue:t},[],{provide:ii,useFactory:K1,deps:[un]},{provide:Il,multi:!0,useFactory:Z1},e.map(n=>n.\u0275providers)])}function K1(t){return t.routerState.root}function Z1(){let t=m(rn);return e=>{let n=t.get(Xr);if(e!==n.components[0])return;let r=t.get(un),i=t.get(Q1);t.get(J1)===1&&r.initialNavigation(),t.get(X1,null,G.Optional)?.setUpPreloading(),t.get(Y1,null,G.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Q1=new y("",{factory:()=>new le}),J1=new y("",{providedIn:"root",factory:()=>1});var X1=new y("");var _C=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(S($t),S(Ie))},e.\u0275dir=me({type:e});let t=e;return t})(),Em=(()=>{let e=class e extends _C{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275dir=me({type:e,features:[Ht]});let t=e;return t})(),ta=new y("");var eF={provide:ta,useExisting:Nn(()=>Mt),multi:!0};function tF(){let t=Hn()?Hn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var nF=new y(""),Mt=(()=>{let e=class e extends _C{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!tF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(S($t),S(Ie),S(nF,8))},e.\u0275dir=me({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ee("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Pn([eF]),Ht]});let t=e;return t})();function br(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bC(t){return t!=null&&typeof t.length=="number"}var wm=new y(""),Cm=new y(""),rF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qe=class{static min(e){return iF(e)}static max(e){return oF(e)}static required(e){return sF(e)}static requiredTrue(e){return aF(e)}static email(e){return cF(e)}static minLength(e){return lF(e)}static maxLength(e){return uF(e)}static pattern(e){return dF(e)}static nullValidator(e){return EC(e)}static compose(e){return TC(e)}static composeAsync(e){return MC(e)}};function iF(t){return e=>{if(br(e.value)||br(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function oF(t){return e=>{if(br(e.value)||br(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function sF(t){return br(t.value)?{required:!0}:null}function aF(t){return t.value===!0?null:{required:!0}}function cF(t){return br(t.value)||rF.test(t.value)?null:{email:!0}}function lF(t){return e=>br(e.value)||!bC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function uF(t){return e=>bC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function dF(t){if(!t)return EC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(br(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function EC(t){return null}function wC(t){return t!=null}function CC(t){return Jr(t)?ie(t):t}function DC(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function IC(t,e){return e.map(n=>n(t))}function fF(t){return!t.validate}function SC(t){return t.map(e=>fF(e)?e:n=>e.validate(n))}function TC(t){if(!t)return null;let e=t.filter(wC);return e.length==0?null:function(n){return DC(IC(n,e))}}function xC(t){return t!=null?TC(SC(t)):null}function MC(t){if(!t)return null;let e=t.filter(wC);return e.length==0?null:function(n){let r=IC(n,e).map(CC);return tf(r).pipe(T(DC))}}function AC(t){return t!=null?MC(SC(t)):null}function dC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function NC(t){return t._rawValidators}function RC(t){return t._rawAsyncValidators}function vm(t){return t?Array.isArray(t)?t:[t]:[]}function fu(t,e){return Array.isArray(t)?t.includes(e):t===e}function fC(t,e){let n=vm(e);return vm(t).forEach(i=>{fu(n,i)||n.push(i)}),n}function hC(t,e){return vm(e).filter(n=>!fu(t,n))}var hu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},oi=class extends hu{get formDirective(){return null}get path(){return null}},si=class extends hu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pu=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a6=N(v({},hF),{"[class.ng-submitted]":"isSubmitted"}),dn=(()=>{let e=class e extends pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(si,2))},e.\u0275dir=me({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Zr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ht]});let t=e;return t})(),bo=(()=>{let e=class e extends pu{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(S(oi,10))},e.\u0275dir=me({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Zr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ht]});let t=e;return t})();var Qs="VALID",du="INVALID",yo="PENDING",Js="DISABLED",Er=class{},mu=class extends Er{constructor(e,n){super(),this.value=e,this.source=n}},Xs=class extends Er{constructor(e,n){super(),this.pristine=e,this.source=n}},ea=class extends Er{constructor(e,n){super(),this.touched=e,this.source=n}},_o=class extends Er{constructor(e,n){super(),this.status=e,this.source=n}},ym=class extends Er{constructor(e){super(),this.source=e}},_m=class extends Er{constructor(e){super(),this.source=e}};function OC(t){return(_u(t)?t.validators:t)||null}function pF(t){return Array.isArray(t)?xC(t):t||null}function kC(t,e){return(_u(e)?e.asyncValidators:t)||null}function mF(t){return Array.isArray(t)?AC(t):t||null}function _u(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gF(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function vF(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new x(1002,"")})}var gu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Vn(()=>this.statusReactive()),this.statusReactive=hr(void 0),this._pristine=Vn(()=>this.pristineReactive()),this.pristineReactive=hr(!0),this._touched=Vn(()=>this.touchedReactive()),this.touchedReactive=hr(!1),this._events=new le,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return cn(this.statusReactive)}set status(e){cn(()=>this.statusReactive.set(e))}get valid(){return this.status===Qs}get invalid(){return this.status===du}get pending(){return this.status==yo}get disabled(){return this.status===Js}get enabled(){return this.status!==Js}get pristine(){return cn(this.pristineReactive)}set pristine(e){cn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return cn(this.touchedReactive)}set touched(e){cn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(fC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hC(e,this._rawAsyncValidators))}hasValidator(e){return fu(this._rawValidators,e)}hasAsyncValidator(e){return fu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(N(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ea(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new ea(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(N(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xs(!0,r))}markAsPending(e={}){this.status=yo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _o(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(N(v({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Js,this.errors=null,this._forEachChild(i=>{i.disable(N(v({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,r)),this._events.next(new _o(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(N(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Qs,this._forEachChild(r=>{r.enable(N(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(N(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qs||this.status===yo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mu(this.value,n)),this._events.next(new _o(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(N(v({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Js:Qs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=CC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new _o(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?Js:this.errors?du:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(du)?du:Qs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Xs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new ea(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_u(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=pF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=mF(this._rawAsyncValidators)}},wr=class extends gu{constructor(e,n,r){super(OC(n),kC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){vF(this,!0,e),Object.keys(e).forEach(r=>{gF(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bu=new y("CallSetDisabledState",{providedIn:"root",factory:()=>Eu}),Eu="always";function FC(t,e){return[...e.path,t]}function bm(t,e,n=Eu){Dm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),_F(t,e),EF(t,e),bF(t,e),yF(t,e)}function pC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),yu(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function vu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function yF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Dm(t,e){let n=NC(t);e.validator!==null?t.setValidators(dC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=RC(t);e.asyncValidator!==null?t.setAsyncValidators(dC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();vu(e._rawValidators,i),vu(e._rawAsyncValidators,i)}function yu(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=NC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=RC(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return vu(e._rawValidators,r),vu(e._rawAsyncValidators,r),n}function _F(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&PC(t,e)})}function bF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&PC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function PC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function EF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wF(t,e){t==null,Dm(t,e)}function CF(t,e){return yu(t,e)}function LC(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function DF(t){return Object.getPrototypeOf(t.constructor)===Em}function IF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jC(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Mt?n=o:DF(o)?r=o:i=o}),i||r||n||null}function SF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function mC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function gC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Xe=class extends gu{constructor(e=null,n,r){super(OC(n),kC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_u(n)&&(n.nonNullable||n.initialValueIsDefault)&&(gC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var TF=t=>t instanceof Xe;var xF={provide:si,useExisting:Nn(()=>na)},vC=Promise.resolve(),na=(()=>{let e=class e extends si{constructor(r,i,o,s,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new Xe,this._registered=!1,this.name="",this.update=new he,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=jC(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),LC(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){vC.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&jn(i);vC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?FC(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(S(oi,9),S(wm,10),S(Cm,10),S(ta,10),S(Ln,8),S(bu,8))},e.\u0275dir=me({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pn([xF]),Ht,Bt]});let t=e;return t})(),Eo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=me({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var VC=new y("");var MF={provide:oi,useExisting:Nn(()=>ai)},ai=(()=>{let e=class e extends oi{get submitted(){return cn(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=Vn(()=>this._submittedReactive()),this._submittedReactive=hr(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new he,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return bm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){pC(r.control||null,r,!1),SF(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),IF(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new ym(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new _m(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(pC(i||null,r),TF(o)&&(bm(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);wF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&CF(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Dm(this.form,this),this._oldForm&&yu(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(S(wm,10),S(Cm,10),S(bu,8))},e.\u0275dir=me({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&ee("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Pn([MF]),Ht,Bt]});let t=e;return t})();var AF={provide:si,useExisting:Nn(()=>ci)},ci=(()=>{let e=class e extends si{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new he,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=jC(this,s)}ngOnChanges(r){this._added||this._setUpControl(),LC(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return FC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(S(oi,13),S(wm,10),S(Cm,10),S(ta,10),S(VC,8))},e.\u0275dir=me({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Pn([AF]),Ht,Bt]});let t=e;return t})(),NF={provide:ta,useExisting:Nn(()=>wu),multi:!0};function UC(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function RF(t){return t.split(":")[0]}var wu=(()=>{let e=class e extends Em{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=UC(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=RF(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275dir=me({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&ee("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pn([NF]),Ht]});let t=e;return t})(),BC=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(UC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(S(Ie),S($t),S(wu,9))},e.\u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),OF={provide:ta,useExisting:Nn(()=>$C),multi:!0};function yC(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kF(t){return t.split(":")[0]}var $C=(()=>{let e=class e extends Em{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=kF(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275dir=me({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&ee("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pn([OF]),Ht]});let t=e;return t})(),HC=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(yC(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(yC(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(S(Ie),S($t),S($C,9))},e.\u0275dir=me({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var GC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({});let t=e;return t})();var Cu=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:bu,useValue:r.callSetDisabledState??Eu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({imports:[GC]});let t=e;return t})(),wo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:VC,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:bu,useValue:r.callSetDisabledState??Eu}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({imports:[GC]});let t=e;return t})();function Du(t){return t!=null&&`${t}`!="false"}function Im(t){return Array.isArray(t)?t:[t]}function Sm(t){return t instanceof Ie?t.nativeElement:t}var Tm;try{Tm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Tm=!1}var oa=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?lw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Tm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(b(sn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ia;function FF(){if(ia==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ia=!0}))}finally{ia=ia||!1}return ia}function xm(t){return FF()?t:!!t.capture}function zC(t){return t.composedPath?t.composedPath()[0]:t.target}function WC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var YC=new Set,li,PF=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jF}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&LF(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(b(oa),b(gs,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LF(t,e){if(!YC.has(t))try{li||(li=document.createElement("style"),e&&li.setAttribute("nonce",e),li.setAttribute("type","text/css"),document.head.appendChild(li)),li.sheet&&(li.sheet.insertRule(`@media ${t} {body{ }}`,0),YC.add(t))}catch(n){console.error(n)}}function jF(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ZC=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new le}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return KC(Im(r)).some(o=>this._registerQuery(o).mql.matches)}observe(r){let o=KC(Im(r)).map(a=>this._registerQuery(a).observable),s=Li(o);return s=er(s.pipe(ht(1)),s.pipe(df(1),nf(0))),s.pipe(T(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),s={observable:new P(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Zo(i),T(({matches:a})=>({query:r,matches:a})),Qo(this._destroySubject)),mql:i};return this._queries.set(r,s),s}};e.\u0275fac=function(i){return new(i||e)(b(PF),b(oe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KC(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function XC(t){return t.buttons===0||t.detail===0}function eD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var ui=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(ui||{}),QC="cdk-high-contrast-black-on-white",JC="cdk-high-contrast-white-on-black",Mm="cdk-high-contrast-active",tD=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=m(ZC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return ui.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,o=i&&i.getComputedStyle?i.getComputedStyle(r):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(r.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return ui.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return ui.BLACK_ON_WHITE}return ui.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(Mm,QC,JC),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===ui.BLACK_ON_WHITE?r.add(Mm,QC):i===ui.WHITE_ON_BLACK&&r.add(Mm,JC)}}};e.\u0275fac=function(i){return new(i||e)(b(oa),b(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Am=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({});let t=e;return t})();function BF(){return!0}var $F=new y("mat-sanity-checks",{providedIn:"root",factory:BF}),Om=(()=>{let e=class e{constructor(r,i,o){this._sanityChecks=i,this._document=o,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return WC()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(b(tD),b($F,8),b(ke))},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({imports:[Am,Am]});let t=e;return t})();var At=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(At||{}),Nm=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=At.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},nD=xm({passive:!0,capture:!0}),Rm=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=zC(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,nD)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,nD)))}},rD={enterDuration:225,exitDuration:150},HF=800,iD=xm({passive:!0,capture:!0}),oD=["mousedown","touchstart"],sD=["mouseup","mouseleave","touchend","touchcancel"],sa=class sa{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Sm(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=v(v({},rD),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||GF(e,n,i),a=e-i.left,c=n-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,p=f==="none"||h==="0s"||h==="0s, 0s"||i.width===0&&i.height===0,g=new Nm(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=At.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let D=()=>{_&&(_.fallbackTimer=null),clearTimeout(K),this._finishRippleTransition(g)},L=()=>this._destroyRipple(g),K=setTimeout(L,l+100);u.addEventListener("transitionend",D),u.addEventListener("transitioncancel",L),_={onTransitionEnd:D,onTransitionCancel:L,fallbackTimer:K}}),this._activeRipples.set(g,_),(p||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===At.FADING_OUT||e.state===At.HIDDEN)return;let n=e.element,r=v(v({},rD),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=At.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Sm(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,oD.forEach(r=>{sa._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sD.forEach(n=>{this._triggerElement.addEventListener(n,this,iD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===At.FADING_IN?this._startFadeOutTransition(e):e.state===At.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=At.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=At.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=XC(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+HF;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!eD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===At.VISIBLE||e.config.terminateOnPointerUp&&e.state===At.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(oD.forEach(n=>sa._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(sD.forEach(n=>e.removeEventListener(n,this,iD)),this._pointerUpEventsRegistered=!1))}};sa._eventManager=new Rm;var aD=sa;function GF(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var cD=(()=>{let e=class e{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(r){this._vertical=Du(r)}get inset(){return this._inset}set inset(r){this._inset=Du(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Re({type:e,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,o){i&2&&(pr("aria-orientation",o.vertical?"vertical":"horizontal"),Zr("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Oe],decls:0,vars:0,template:function(i,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let t=e;return t})(),lD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=De({type:e}),e.\u0275inj=Ce({imports:[Om,Om]});let t=e;return t})();var WF=new TextEncoder,Iu=new TextDecoder,dW=2**32;var qF=t=>{let e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},uD=t=>{let e=t;e instanceof Uint8Array&&(e=Iu.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return qF(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var km=class extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}};var fn=class extends km{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}};function ZF(t){return typeof t=="object"&&t!==null}function Fm(t){if(!ZF(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}var dD=uD;function Pm(t){if(typeof t!="string")throw new fn("JWTs must use Compact JWS serialization, JWT must be a string");let{1:e,length:n}=t.split(".");if(n===5)throw new fn("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new fn("Invalid JWT");if(!e)throw new fn("JWTs must contain a payload");let r;try{r=dD(e)}catch{throw new fn("Failed to base64url decode the payload")}let i;try{i=JSON.parse(Iu.decode(r))}catch{throw new fn("Failed to parse the decoded payload as JSON")}if(!Fm(i))throw new fn("Invalid JWT Claims Set");return i}var Co=class{firstName;lastName;email;sex;objectId;provider;constructor(e,n,r,i,o,s){this.firstName=e,this.lastName=n,this.email=r,this.sex=i,this.objectId=o,this.provider=s}getFirstName(){return this.firstName}getLastName(){return this.lastName}getEmail(){return this.email}getSex(){return this.sex}};var aa=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(aa||{});function Su(t,e){return{type:aa.Trigger,name:t,definitions:e,options:{}}}function ca(t,e=null){return{type:aa.Animate,styles:e,timings:t}}function la(t){return{type:aa.Style,styles:t,offset:null}}function ua(t,e,n=null){return{type:aa.Transition,expr:t,animation:e,options:n}}function Lm(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&q_(Lm);let r=n?e?.injector?.get(ro)??m(ro):null,i=XF(e?.equal),o;e?.requireSync?o=hr({kind:0},{equal:i}):o=hr({kind:1,value:e?.initialValue},{equal:i});let s=t.subscribe({next:a=>o.set({kind:1,value:a}),error:a=>{if(e?.rejectErrors)throw a;o.set({kind:2,error:a})}});return r?.onDestroy(s.unsubscribe.bind(s)),Vn(()=>{let a=o();switch(a.kind){case 1:return a.value;case 2:throw a.error;case 0:throw new x(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}},{equal:e?.equal})}function XF(t=Object.is){return(e,n)=>e.kind===1&&n.kind===1&&t(e.value,n.value)}var Bm={};function ge(t,e){if(Bm[t]=(Bm[t]||0)+1,typeof e=="function")return jm(t,(...r)=>N(v({},e(...r)),{type:t}));switch(e?e._as:"empty"){case"empty":return jm(t,()=>({type:t}));case"props":return jm(t,r=>N(v({},r),{type:t}));default:throw new Error("Unexpected config.")}}function Ue(){return{_as:"props",_p:void 0}}function jm(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var TD="@ngrx/store/init",Do=(()=>{let e=class e extends Ee{constructor(){super({type:TD})}next(r){if(typeof r=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof r>"u")throw new TypeError("Actions must be objects");if(typeof r.type>"u")throw new TypeError("Actions must have a type property");super.next(r)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),eP=[Do],xD=new y("@ngrx/store Internal Root Guard"),fD=new y("@ngrx/store Internal Initial State"),zm=new y("@ngrx/store Initial State"),MD=new y("@ngrx/store Reducer Factory"),hD=new y("@ngrx/store Internal Reducer Factory Provider"),AD=new y("@ngrx/store Initial Reducers"),Vm=new y("@ngrx/store Internal Initial Reducers"),pD=new y("@ngrx/store Store Features"),mD=new y("@ngrx/store Internal Store Reducers"),Um=new y("@ngrx/store Internal Feature Reducers"),gD=new y("@ngrx/store Internal Feature Configs"),ND=new y("@ngrx/store Internal Store Features"),vD=new y("@ngrx/store Internal Feature Reducers Token"),RD=new y("@ngrx/store Feature Reducers"),yD=new y("@ngrx/store User Provided Meta Reducers"),Tu=new y("@ngrx/store Meta Reducers"),_D=new y("@ngrx/store Internal Resolved Meta Reducers"),bD=new y("@ngrx/store User Runtime Checks Config"),ED=new y("@ngrx/store Internal User Runtime Checks Config"),da=new y("@ngrx/store Internal Runtime Checks"),Wm=new y("@ngrx/store Check if Action types are unique"),fa=new y("@ngrx/store Root Store Provider"),xu=new y("@ngrx/store Feature State Provider");function qm(t,e={}){let n=Object.keys(t),r={};for(let o=0;o<n.length;o++){let s=n[o];typeof t[s]=="function"&&(r[s]=t[s])}let i=Object.keys(r);return function(s,a){s=s===void 0?e:s;let c=!1,l={};for(let u=0;u<i.length;u++){let d=i[u],f=r[d],h=s[d],p=f(h,a);l[d]=p,c=c||p!==h}return c?l:s}}function tP(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,r)=>Object.assign(n,{[r]:t[r]}),{})}function OD(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((i,o)=>o(i),n(e))}}function kD(t,e){return Array.isArray(e)&&e.length>0&&(t=OD.apply(null,[...e,t])),(n,r)=>{let i=t(n);return(o,s)=>(o=o===void 0?r:o,i(o,s))}}function nP(t){let e=Array.isArray(t)&&t.length>0?OD(...t):n=>n;return(n,r)=>(n=e(n),(i,o)=>(i=i===void 0?r:i,n(i,o)))}var ha=class extends P{},Mu=class extends Do{},rP="@ngrx/store/update-reducers",Au=(()=>{let e=class e extends Ee{get currentReducers(){return this.reducers}constructor(r,i,o,s){super(s(o,i)),this.dispatcher=r,this.initialState=i,this.reducers=o,this.reducerFactory=s}addFeature(r){this.addFeatures([r])}addFeatures(r){let i=r.reduce((o,{reducers:s,reducerFactory:a,metaReducers:c,initialState:l,key:u})=>{let d=typeof s=="function"?nP(c)(s,l):kD(a,c)(s,l);return o[u]=d,o},{});this.addReducers(i)}removeFeature(r){this.removeFeatures([r])}removeFeatures(r){this.removeReducers(r.map(i=>i.key))}addReducer(r,i){this.addReducers({[r]:i})}addReducers(r){this.reducers=v(v({},this.reducers),r),this.updateReducers(Object.keys(r))}removeReducer(r){this.removeReducers([r])}removeReducers(r){r.forEach(i=>{this.reducers=tP(this.reducers,i)}),this.updateReducers(r)}updateReducers(r){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:rP,features:r})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(i){return new(i||e)(b(Mu),b(zm),b(AD),b(MD))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),iP=[Au,{provide:ha,useExisting:Au},{provide:Mu,useExisting:Do}],pa=(()=>{let e=class e extends le{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fn(e)))(o||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),oP=[pa],Nu=class extends P{},wD=(()=>{let e=class e extends Ee{constructor(r,i,o,s){super(s);let c=r.pipe(kr(Qd)).pipe(ff(i)),l={state:s},u=c.pipe(Ko(sP,l));this.stateSubscription=u.subscribe(({state:d,action:f})=>{this.next(d),o.next(f)}),this.state=Lm(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=TD,e.\u0275fac=function(i){return new(i||e)(b(Do),b(ha),b(pa),b(zm))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function sP(t={state:void 0},[e,n]){let{state:r}=t;return{state:n(r,e),action:e}}var aP=[wD,{provide:Nu,useExisting:wD}],Fe=(()=>{let e=class e extends P{constructor(r,i,o){super(),this.actionsObserver=i,this.reducerManager=o,this.source=r,this.state=r.state}select(r,...i){return lP.call(null,r,...i)(this)}selectSignal(r,i){return Vn(()=>r(this.state()),i)}lift(r){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=r,i}dispatch(r){this.actionsObserver.next(r)}next(r){this.actionsObserver.next(r)}error(r){this.actionsObserver.error(r)}complete(){this.actionsObserver.complete()}addReducer(r,i){this.reducerManager.addReducer(r,i)}removeReducer(r){this.reducerManager.removeReducer(r)}};e.\u0275fac=function(i){return new(i||e)(b(Nu),b(Do),b(Au))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),cP=[Fe];function lP(t,e,...n){return function(i){let o;if(typeof t=="string"){let s=[e,...n].filter(Boolean);o=i.pipe(uf(t,...s))}else if(typeof t=="function")o=i.pipe(T(s=>t(s,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return o.pipe(af())}}var Ym="https://ngrx.io/guide/store/configuration/runtime-checks";function CD(t){return t===void 0}function DD(t){return t===null}function FD(t){return Array.isArray(t)}function uP(t){return typeof t=="string"}function dP(t){return typeof t=="boolean"}function fP(t){return typeof t=="number"}function PD(t){return typeof t=="object"&&t!==null}function hP(t){return PD(t)&&!FD(t)}function pP(t){if(!hP(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function $m(t){return typeof t=="function"}function mP(t){return $m(t)&&t.hasOwnProperty("\u0275cmp")}function gP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var vP=!1;function yP(){return vP}function ID(t,e){return t===e}function _P(t,e,n){for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!0;return!1}function LD(t,e=ID,n=ID){let r=null,i=null,o;function s(){r=null,i=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function l(){if(o!==void 0)return o.result;if(!r)return i=t.apply(null,arguments),r=arguments,i;if(!_P(arguments,r,e))return i;let u=t.apply(null,arguments);return r=arguments,n(i,u)?i:(i=u,u)}return{memoized:l,reset:s,setResult:a,clearResult:c}}function hn(...t){return EP(LD)(...t)}function bP(t,e,n,r){if(n===void 0){let o=e.map(s=>s(t));return r.memoized.apply(null,o)}let i=e.map(o=>o(t,n));return r.memoized.apply(null,[...i,n])}function EP(t,e={stateFn:bP}){return function(...n){let r=n;if(Array.isArray(r[0])){let[u,...d]=r;r=[...u,...d]}else r.length===1&&wP(r[0])&&(r=CP(r[0]));let i=r.slice(0,r.length-1),o=r[r.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=t(function(...u){return o.apply(null,u)}),c=LD(function(u,d){return e.stateFn.apply(null,[u,i,d,a])});function l(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Io(t){return hn(e=>{let n=e[t];return!yP()&&cp()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function wP(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function CP(t){let e=Object.values(t),n=Object.keys(t),r=(...i)=>n.reduce((o,s,a)=>N(v({},o),{[s]:i[a]}),{});return[...e,r]}function DP(t){return t instanceof y?m(t):t}function IP(t,e){return e.map((n,r)=>{if(t[r]instanceof y){let i=m(t[r]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:qm,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function SP(t){return t.map(e=>e instanceof y?m(e):e)}function jD(t){return typeof t=="function"?t():t}function TP(t,e){return t.concat(e)}function xP(){if(m(Fe,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function MP(t,e){return function(n,r){let i=e.action(r)?Hm(r):r,o=t(n,i);return e.state()?Hm(o):o}}function Hm(t){Object.freeze(t);let e=$m(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&gP(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let r=t[n];(PD(r)||$m(r))&&!Object.isFrozen(r)&&Hm(r)}}),t}function AP(t,e){return function(n,r){if(e.action(r)){let o=Gm(r);SD(o,"action")}let i=t(n,r);if(e.state()){let o=Gm(i);SD(o,"state")}return i}}function Gm(t,e=[]){return(CD(t)||DD(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((r,i)=>{if(r)return r;let o=t[i];return mP(o)?r:CD(o)||DD(o)||fP(o)||dP(o)||uP(o)||FD(o)?!1:pP(o)?Gm(o,[...e,i]):{path:[...e,i],value:o}},!1)}function SD(t,e){if(t===!1)return;let n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${Ym}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function NP(t,e){return function(n,r){if(e.action(r)&&!oe.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Ym}#strictactionwithinngzone`);return t(n,r)}}function RP(t){return cp()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function OP({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?AP(n,{action:r=>t&&!Km(r),state:()=>e}):n}function kP({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?MP(n,{action:r=>t&&!Km(r),state:()=>e}):n}function Km(t){return t.type.startsWith("@ngrx")}function FP({strictActionWithinNgZone:t}){return e=>t?NP(e,{action:n=>t&&!Km(n)}):e}function PP(t){return[{provide:ED,useValue:t},{provide:bD,useFactory:LP,deps:[ED]},{provide:da,deps:[bD],useFactory:RP},{provide:Tu,multi:!0,deps:[da],useFactory:kP},{provide:Tu,multi:!0,deps:[da],useFactory:OP},{provide:Tu,multi:!0,deps:[da],useFactory:FP}]}function VD(){return[{provide:Wm,multi:!0,deps:[da],useFactory:jP}]}function LP(t){return t}function jP(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Bm).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${Ym}#strictactiontypeuniqueness`)}function ma(t,e,n={}){return jt([...GP(t,e,n),HP])}function VP(t={},e={}){return[{provide:xD,useFactory:xP},{provide:fD,useValue:e.initialState},{provide:zm,useFactory:jD,deps:[fD]},{provide:Vm,useValue:t},{provide:mD,useExisting:t instanceof y?t:Vm},{provide:AD,deps:[Vm,[new Ih(mD)]],useFactory:DP},{provide:yD,useValue:e.metaReducers?e.metaReducers:[]},{provide:_D,deps:[Tu,yD],useFactory:TP},{provide:hD,useValue:e.reducerFactory?e.reducerFactory:qm},{provide:MD,deps:[hD,_D],useFactory:kD},eP,iP,oP,aP,cP,PP(e.runtimeChecks),VD()]}function UP(){m(Do),m(ha),m(pa),m(Fe),m(xD,{optional:!0}),m(Wm,{optional:!0})}var BP=[{provide:fa,useFactory:UP},{provide:Pt,multi:!0,useFactory(){return()=>m(fa)}}];function UD(t,e){return jt([...VP(t,e),BP])}function $P(){m(fa);let t=m(ND),e=m(RD),n=m(Au);m(Wm,{optional:!0});let r=t.map((i,o)=>{let a=e.shift()[o];return N(v({},i),{reducers:a,initialState:jD(i.initialState)})});n.addFeatures(r)}var HP=[{provide:xu,useFactory:$P},{provide:Pt,multi:!0,useFactory(){return()=>m(xu)}}];function GP(t,e,n={}){return[{provide:gD,multi:!0,useValue:t instanceof Object?{}:n},{provide:pD,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(n instanceof y)&&n.reducerFactory?n.reducerFactory:qm,metaReducers:!(n instanceof y)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof y)&&n.initialState?n.initialState:void 0}},{provide:ND,deps:[gD,pD],useFactory:IP},{provide:Um,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:vD,multi:!0,useExisting:e instanceof y?e:Um},{provide:RD,multi:!0,deps:[Um,[new Ih(vD)]],useFactory:SP},VD()]}function Nt(...t){let e=t.pop(),n=t.map(r=>r.type);return{reducer:e,types:n}}function So(t,...e){let n=new Map;for(let r of e)for(let i of r.types){let o=n.get(i);if(o){let s=(a,c)=>r.reducer(o(a,c),c);n.set(i,s)}else n.set(i,r.reducer)}return function(r=t,i){let o=n.get(i.type);return o?o(r,i):r}}var Zm="[Signup Component] signup",Qm="[Login Component] login",zP="[Auth API] login success";var WP="[Chat Component] get full name",Jm="[Chat Component] get current full name",qP="[Auth API] gotten current logged in user full name",Xm="[Chat Component] get user",YP="[Auth API] gotten user",eg="[Messaging Service] get all users in contact",KP="[Auth API] gotten users",tg="[HomeComponent] check if token is valid",ZP="[Auth API] result of token check",QP="[Auth API] error",Ru=ge(Zm,Ue()),ga=ge(Qm,Ue()),Ou=ge(zP,Ue()),Yn=ge(QP),To=ge("[Login Component] empty state"),jW=ge(WP,Ue()),BD=ge(Jm,Ue()),ku=ge(qP,Ue()),$D=ge(Xm,Ue()),HD=ge(eg,Ue()),Fu=ge(YP,Ue()),Pu=ge(KP,Ue()),GD=ge(tg,Ue()),Lu=ge(ZP,Ue());var va=Io("auth"),ju=hn(va,t=>t),Vu=hn(va,t=>t.currentLoggedInUser),zD=hn(va,t=>t.userInContact),WD=hn(va,t=>t.foundUsers),qD=hn(va,t=>t.validToken);var pn=(()=>{class t{http;constructor(n){this.http=n}signUp(n,r,i){return this.http.post("https://brainyclub-eu.backendless.app/api/users/register",{email:n.getEmail(),password:r,firstName:n.getFirstName(),lastName:n.getLastName(),sex:n.getSex(),provider:i},{headers:new ze({"Content-Type":"application/json"})})}login(n,r){return this.http.post("https://brainyclub-eu.backendless.app/api/users/login",{login:n,password:r},{headers:new ze({"Content-Type":"application/json"})})}verifyIfTokenValid(n){return this.http.get(`https://brainyclub-eu.backendless.app/api/users/isvalidusertoken/${n}`)}logout(){this.http.get("https://brainyclub-eu.backendless.app/api/users/logout",{headers:new ze({"user-token":localStorage.getItem("userToken")})})}findUsersByName(n,r){this.http.get(`https://brainyclub-eu.backendless.app/api/data/Users?where=firstName%20%3D%20'${n}'`,{headers:new ze({"Content-Type":"application/json","user-token":localStorage.getItem("userToken")})}).subscribe(i=>{r(i)})}findUserByEmail(n,r){this.http.get(`https://eu-api.backendless.com/EC90E79D-4443-4858-8D5E-02E90D0C63B1/58C3266A-8C33-4D5C-854B-66704F41CFB6/data/Users?where=email%3D'${n}'&property=%60provider%60&property=%60email%60&property=%60firstName%60&property=%60lastName%60`,{headers:new ze({"Content-Type":"application/json"})}).subscribe(i=>{r(i[0])})}findUserByObjectId(n){return this.http.get(`https://brainyclub-eu.backendless.app/api/data/Users/${n}`,{headers:new ze({"Content-Type":"application/json","user-token":localStorage.getItem("userToken")})})}findUsersByObjectId(n){let r="(";return n.forEach((i,o)=>{o!==n.length-1?r+="'"+i+"',":r+="'"+i+"')"}),this.http.get(`https://eu-api.backendless.com/EC90E79D-4443-4858-8D5E-02E90D0C63B1/58C3266A-8C33-4D5C-854B-66704F41CFB6/data/Users?where=objectId%20IN%20${r}`)}updateInfos(n,r,i,o,s,a){this.http.put(`https://brainyclub-eu.backendless.app/api/data/users/${n}`,{firstName:r,lastName:i,email:o,password:s},{headers:new ze({"Content-Type":"application/json","user-token":localStorage.getItem("userToken")})}).subscribe(c=>{a(c)})}static \u0275fac=function(r){return new(r||t)(b(Cp))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JP(t,e){t&1&&(w(0,"p",19),U(1,"Enter a valid email !"),I())}function XP(t,e){t&1&&(w(0,"p",19),U(1," Password must be at least 8 characters ! "),I())}var YD=(()=>{class t{authService;router;store;constructor(n,r,i){this.authService=n,this.router=r,this.store=i}changed=0;ngOnInit(){google.accounts.id.initialize({client_id:"205706621989-pken44sei0ti29vd95ukk3o2ja4e4gh1.apps.googleusercontent.com",callback:this.handleCredential.bind(this)}),this.store.select(ju).subscribe(n=>{if(n.state!=="failed"){if(n.state==="success"&&typeof n.userData!==void 0){let r=n.userData;this.saveDataLocally(r.email,r.userToken,r.objectId),this.store.dispatch(To())}}})}isPasswordVisible=!1;isEmailValid=!0;isPasswordValid=!0;loginGroup=new wr({email:new Xe("",[qe.required,qe.email]),password:new Xe("",[qe.required,qe.minLength(8)])});onSubmitLogin(){this.loginGroup.valid?(this.isEmailValid=this.loginGroup.valid,this.isPasswordValid=this.loginGroup.valid,this.store.dispatch(ga({email:this.loginGroup.value.email,password:this.loginGroup.value.password}))):(this.isEmailValid=this.loginGroup.controls.email.valid,this.isPasswordValid=this.loginGroup.controls.password.valid)}login(){google.accounts.id.prompt()}handleCredential(n){let r=Pm(n.credential);this.authService.findUserByEmail(r.email,i=>{typeof i<"u"?i.provider==="backendless"?alert("Try to login using email !"):i.provider==="google"&&this.store.dispatch(ga({email:r.email,password:r.sub})):this.store.dispatch(Ru({user:new Co(r.given_name,r.family_name,r.email,"","","google"),password:r.sub,provider:"google"}))})}makePasswordVisible(){this.isPasswordVisible=!this.isPasswordVisible}saveDataLocally(n,r,i){localStorage.setItem("email",n),localStorage.setItem("userToken",r),localStorage.setItem("objectId",i),localStorage.getItem("email")!==null&&localStorage.getItem("userToken")!==null&&localStorage.getItem("objectId")!==null&&this.router.navigate(["/home"])}change(){this.changed<2?this.changed+=1:this.changed=0}static \u0275fac=function(r){return new(r||t)(S(pn),S(un),S(Fe))};static \u0275cmp=Re({type:t,selectors:[["app-login"]],standalone:!0,features:[Oe],decls:44,vars:4,consts:[[1,"h-full","w-full","select-none","bg-white"],[1,"header","flex","justify-between","items-center","p-6"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#16a34a","height","72px","width","72px","version","1.1","id","Capa_1","viewBox","0 0 60 60",0,"xml","space","preserve"],["d","M30,1.5c-16.542,0-30,12.112-30,27c0,5.205,1.647,10.246,4.768,14.604c-0.591,6.537-2.175,11.39-4.475,13.689  c-0.304,0.304-0.38,0.769-0.188,1.153C0.276,58.289,0.625,58.5,1,58.5c0.046,0,0.093-0.003,0.14-0.01  c0.405-0.057,9.813-1.412,16.617-5.338C21.622,54.711,25.738,55.5,30,55.5c16.542,0,30-12.112,30-27S46.542,1.5,30,1.5z"],[1,"text-3xl","ml-2"],[1,"create-account","flex","items-center"],[1,"create-account-text","mr-2"],["routerLink","/signup","routerLinkActive","active",1,"border","border-gray-300","rounded-md","px-2","py-1"],[1,"login-div","w-96","h-1/2","flex","flex-col","justify-evenly","ml-auto","mr-auto","absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"h-9","border","rounded-md","flex","items-center","justify-center","py-2",3,"click"],["src","./assets/google-icon.png",1,"w-7","h-7"],[1,"flex","justify-between","items-center"],[1,"w-[45%]"],[1,"select-none"],[1,"h-3/6","flex","flex-col","justify-between",3,"formGroup"],[1,"flex","flex-col"],[1,"text-xl","font-bold"],["placeholder","Email","formControlName","email",1,"text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],[1,"text-red-600"],["for","dd",1,"text-xl","font-bold"],[1,"relative"],["placeholder","Password","formControlName","password","id","dd",1,"w-full","text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600",3,"type"],[1,"absolute","h-full","-right-0","-top-0","mr-2",3,"click"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#000000","version","1.1","id","Capa_1","width","25px","height","25px","viewBox","0 0 442.04 442.04",0,"xml","space","preserve"],["d","M221.02,341.304c-49.708,0-103.206-19.44-154.71-56.22C27.808,257.59,4.044,230.351,3.051,229.203    c-4.068-4.697-4.068-11.669,0-16.367c0.993-1.146,24.756-28.387,63.259-55.881c51.505-36.777,105.003-56.219,154.71-56.219    c49.708,0,103.207,19.441,154.71,56.219c38.502,27.494,62.266,54.734,63.259,55.881c4.068,4.697,4.068,11.669,0,16.367    c-0.993,1.146-24.756,28.387-63.259,55.881C324.227,321.863,270.729,341.304,221.02,341.304z M29.638,221.021    c9.61,9.799,27.747,27.03,51.694,44.071c32.83,23.361,83.714,51.212,139.688,51.212s106.859-27.851,139.688-51.212    c23.944-17.038,42.082-34.271,51.694-44.071c-9.609-9.799-27.747-27.03-51.694-44.071    c-32.829-23.362-83.714-51.212-139.688-51.212s-106.858,27.85-139.688,51.212C57.388,193.988,39.25,211.219,29.638,221.021z"],["d","M221.02,298.521c-42.734,0-77.5-34.767-77.5-77.5c0-42.733,34.766-77.5,77.5-77.5c18.794,0,36.924,6.814,51.048,19.188    c5.193,4.549,5.715,12.446,1.166,17.639c-4.549,5.193-12.447,5.714-17.639,1.166c-9.564-8.379-21.844-12.993-34.576-12.993    c-28.949,0-52.5,23.552-52.5,52.5s23.551,52.5,52.5,52.5c28.95,0,52.5-23.552,52.5-52.5c0-6.903,5.597-12.5,12.5-12.5    s12.5,5.597,12.5,12.5C298.521,263.754,263.754,298.521,221.02,298.521z"],["d","M221.02,246.021c-13.785,0-25-11.215-25-25s11.215-25,25-25c13.786,0,25,11.215,25,25S234.806,246.021,221.02,246.021z"],[1,"bg-green-600","text-white","h-9","text-xl","font-light","rounded-md",3,"click"]],template:function(r,i){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2),kn(),w(3,"svg",3),$(4,"path",4),I(),Kr(),w(5,"p",5),U(6,"Chat"),I()(),w(7,"div",6)(8,"p",7),U(9,"New to Chat?"),I(),w(10,"button",8),U(11," Create an account "),I()()(),w(12,"div",9)(13,"button",10),ee("click",function(){return i.login()}),$(14,"img",11),U(15,"\xA0Sign in using Google "),I(),w(16,"div",12),$(17,"mat-divider",13),w(18,"p",14),U(19,"Or"),I(),$(20,"mat-divider",13),I(),w(21,"form",15)(22,"div",16)(23,"label",17),U(24,"Email"),I(),$(25,"input",18),ct(26,JP,2,0,"p",19),I(),w(27,"div",16)(28,"label",20),U(29,"Password"),I(),w(30,"div",21),$(31,"input",22),w(32,"button",23),ee("click",function(){return i.makePasswordVisible()}),kn(),w(33,"svg",24)(34,"g")(35,"g"),$(36,"path",25),I(),w(37,"g"),$(38,"path",26),I(),w(39,"g"),$(40,"path",27),I()()()()(),ct(41,XP,2,0,"p",19),I(),Kr(),w(42,"button",28),ee("click",function(){return i.onSubmitLogin()}),U(43," Login "),I()()()()),r&2&&(Z(21),Ve("formGroup",i.loginGroup),Z(5),Je(i.isEmailValid?-1:26),Z(5),Ve("type",i.isPasswordVisible?"text":"password"),Z(10),Je(i.isPasswordValid?-1:41))},dependencies:[go,uu,wo,Eo,Mt,dn,bo,ai,ci,zt,lD,cD],styles:["@media only screen and (max-width: 500px){.header[_ngcontent-%COMP%]{flex-direction:column}.login-div[_ngcontent-%COMP%]{width:90%}.create-account[_ngcontent-%COMP%]{margin-top:2em}.create-account[_ngcontent-%COMP%]   .create-account-text[_ngcontent-%COMP%]{display:none}}"],data:{animation:[Su("appear",[ua(":enter",[la({opacity:0}),ca("500ms")])])]}})}return t})();function eL(t,e){t&1&&(w(0,"p",13),U(1,"Enter a valid email !"),I())}function tL(t,e){t&1&&(w(0,"p",13),U(1,"Password must be at least 8 characters !"),I())}var KD=(()=>{class t{router;store;constructor(n,r){this.router=n,this.store=r}ngOnInit(){this.store.select(ju).subscribe(n=>{this.router.navigate(["/home"])})}show=!0;isEmailValid=!0;isPasswordValid=!0;signUpForm=new wr({firstName:new Xe(""),lastName:new Xe(""),sex:new Xe("Sex"),email:new Xe("",[qe.required,qe.email]),password:new Xe("",[qe.required,qe.minLength(8)])});onSubmit(){this.signUpForm.valid?this.store.dispatch(Ru({user:new Co(this.signUpForm.value.firstName,this.signUpForm.value.lastName,this.signUpForm.value.email,this.signUpForm.value.sex,"",""),password:this.signUpForm.value.password,provider:"backendless"})):(this.isEmailValid=this.signUpForm.controls.email.valid,this.isPasswordValid=this.signUpForm.controls.password.valid)}static \u0275fac=function(r){return new(r||t)(S(un),S(Fe))};static \u0275cmp=Re({type:t,selectors:[["app-signup"]],standalone:!0,features:[Oe],decls:29,vars:4,consts:[[1,"h-full","w-full","select-none","bg-white"],[1,"signup-div","h-1/2","flex","flex-col","justify-evenly","items-center","absolute","left-1/2","top-1/2","-translate-x-1/2","-translate-y-1/2"],[1,"flex","justify-center","items-center","w-full"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#16a34a","height","72px","width","72px","version","1.1","id","Capa_1","viewBox","0 0 60 60",0,"xml","space","preserve"],["d","M30,1.5c-16.542,0-30,12.112-30,27c0,5.205,1.647,10.246,4.768,14.604c-0.591,6.537-2.175,11.39-4.475,13.689  c-0.304,0.304-0.38,0.769-0.188,1.153C0.276,58.289,0.625,58.5,1,58.5c0.046,0,0.093-0.003,0.14-0.01  c0.405-0.057,9.813-1.412,16.617-5.338C21.622,54.711,25.738,55.5,30,55.5c16.542,0,30-12.112,30-27S46.542,1.5,30,1.5z"],[1,"text-3xl","ml-2"],[1,"text-3xl"],[1,"flex","flex-col",3,"ngSubmit","formGroup"],[1,"flex","justify-between"],["placeholder","First Name","formControlName","firstName",1,"text-xl","font-light","w-full","h-9","px-2","mr-1","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],["placeholder","Last Name","formControlName","lastName",1,"text-xl","font-light","w-full","h-9","px-2","ml-1","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],["formControlName","sex",1,"text-xl","font-light","mt-4","px-2","outline-none","focus:border-blue-600","border-gray-300","border","rounded-md","h-9"],["placeholder","Email","type","email","formControlName","email",1,"text-xl","font-light","h-9","mt-4","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],[1,"text-red-600"],["placeholder","Password","type","password","formControlName","password",1,"text-xl","font-light","h-9","mt-4","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],[1,"bg-green-600","mt-8","text-white","h-9","text-xl","font-light","rounded-md"],[1,"flex","mt-1"],["routerLink","/login","routerLinkActive","active",1,"ml-1","text-blue-600","underline"]],template:function(r,i){r&1&&(w(0,"div",0)(1,"div",1)(2,"div",2),kn(),w(3,"svg",3),$(4,"path",4),I(),Kr(),w(5,"p",5),U(6,"Chat"),I()(),w(7,"p",6),U(8,"Create an account"),I(),w(9,"form",7),ee("ngSubmit",function(){return i.onSubmit()}),w(10,"div",8),$(11,"input",9)(12,"input",10),I(),w(13,"select",11)(14,"option"),U(15,"Male"),I(),w(16,"option"),U(17,"Female"),I()(),$(18,"input",12),ct(19,eL,2,0,"p",13),$(20,"input",14),ct(21,tL,2,0,"p",13),w(22,"button",15),U(23," Signup "),I(),w(24,"div",16)(25,"p"),U(26,"Alreay have an account?"),I(),w(27,"a",17),U(28,"Login"),I()()()()()),r&2&&(Ve("@ani",void 0),Z(9),Ve("formGroup",i.signUpForm),Z(10),Je(i.isEmailValid?-1:19),Z(2),Je(i.isPasswordValid?-1:21))},dependencies:[go,uu,wo,Eo,BC,HC,Mt,wu,dn,bo,ai,ci,zt],styles:["@media only screen and (max-width: 600px){.signup-div[_ngcontent-%COMP%]{width:90%;background-color:red}}"],data:{animation:[Su("ani",[ua(":enter",[la({opacity:0}),ca("500ms")]),ua(":leave",[la({opacity:1}),ca("5000ms")])])]}})}return t})();var ng="[Chat Component] send message",nL="[Messaging Service] receive message",rL="[Users Component] close chat window",iL="[Home Component] open chat window",rg="[Chat Component] listen for messages",ZD=ge(ng,Ue()),Uu=ge(nL,Ue()),QD=ge(rL),Bu=ge(iL,Ue()),JD=ge(rg,Ue());var ig={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var E=function(t,e){if(!t)throw hi(e)},hi=function(t){return new Error("Firebase Database ("+ig.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var eI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oL=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Hu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new og;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},og=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ag=function(t){let e=eI(t);return Hu.encodeByteArray(e,!0)},_a=function(t){return ag(t).replace(/\./g,"")},sg=function(t){try{return Hu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tI(t){return nI(void 0,t)}function nI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!sL(n)||(t[n]=nI(t[n],e[n]));return t}function sL(t){return t!=="__proto__"}function aL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cL=()=>aL().__FIREBASE_DEFAULTS__,lL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&sg(t[1]);return e&&JSON.parse(e)},rI=()=>{try{return cL()||lL()||uL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dL=t=>{var e,n;return(n=(e=rI())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iI=t=>{let e=dL(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cg=()=>{var t;return(t=rI())===null||t===void 0?void 0:t.config};var Cr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function oI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_a(JSON.stringify(n)),_a(JSON.stringify(s)),""].join(".")}function fL(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fL())}function sI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mn(){return ig.NODE_CLIENT===!0||ig.NODE_ADMIN===!0}function aI(){try{return typeof indexedDB=="object"}catch{return!1}}function cI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var hL="FirebaseError",fi=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hL,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}},ba=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?pL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fi(i,a,r)}};function pL(t,e){return t.replace(mL,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mL=/\{\$([^}]+)}/g;function xo(t){return JSON.parse(t)}function Te(t){return JSON.stringify(t)}var lI=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=xo(sg(o[0])||""),n=xo(sg(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var uI=function(t){let e=lI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},dI=function(t){let e=lI(t).claims;return typeof e=="object"&&e.admin===!0};function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ug(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ea(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Gu(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(XD(o)&&XD(s)){if(!Gu(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function XD(t){return t!==null&&typeof t=="object"}function fI(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var $u=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function zu(t,e){return`${t} failed: ${e} argument `}var hI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,E(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wa=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var c9=4*60*60*1e3;function mi(t){return t&&t._delegate?t._delegate:t}var Kn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gi="[DEFAULT]";var Wu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Cr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vL(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return be(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gL(t){return t===gi?void 0:t}function vL(t){return t.instantiationMode==="EAGER"}var Ca=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Wu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var yL=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),_L={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},bL=de.INFO,EL={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},wL=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=EL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mo=class{constructor(e){this.name=e,this._logLevel=bL,this._logHandler=wL,this._userLogHandler=null,yL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var CL=(t,e)=>e.some(n=>t instanceof n),pI,mI;function DL(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IL(){return mI||(mI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gI=new WeakMap,fg=new WeakMap,vI=new WeakMap,dg=new WeakMap,pg=new WeakMap;function SL(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(vn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&gI.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function TL(t){if(fg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});fg.set(t,e)}var hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yI(t){hg=t(hg)}function xL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(qu(this),e,...n);return vI.set(r,e.sort?e.sort():[e]),vn(r)}:IL().includes(t)?function(...e){return t.apply(qu(this),e),vn(gI.get(this))}:function(...e){return vn(t.apply(qu(this),e))}}function ML(t){return typeof t=="function"?xL(t):(t instanceof IDBTransaction&&TL(t),CL(t,DL())?new Proxy(t,hg):t)}function vn(t){if(t instanceof IDBRequest)return SL(t);if(dg.has(t))return dg.get(t);let e=ML(t);return e!==t&&(dg.set(t,e),pg.set(e,t)),e}var qu=t=>pg.get(t);function bI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=vn(s);return r&&s.addEventListener("upgradeneeded",c=>{r(vn(s.result),c.oldVersion,c.newVersion,vn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var AL=["get","getKey","getAll","getAllKeys","count"],NL=["put","add","delete","clear"],mg=new Map;function _I(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||AL.includes(n)))return;let o=function(s,...a){return be(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return mg.set(e,o),o}yI(t=>N(v({},t),{get:(e,n,r)=>_I(e,n)||t.get(e,n,r),has:(e,n)=>!!_I(e,n)||t.has(e,n)}));var vg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RL(t){let e=t.getComponent();return e?.type==="VERSION"}var yg="@firebase/app",EI="0.10.7";var vi=new Mo("@firebase/app"),OL="@firebase/app-compat",kL="@firebase/analytics-compat",FL="@firebase/analytics",PL="@firebase/app-check-compat",LL="@firebase/app-check",jL="@firebase/auth",VL="@firebase/auth-compat",UL="@firebase/database",BL="@firebase/database-compat",$L="@firebase/functions",HL="@firebase/functions-compat",GL="@firebase/installations",zL="@firebase/installations-compat",WL="@firebase/messaging",qL="@firebase/messaging-compat",YL="@firebase/performance",KL="@firebase/performance-compat",ZL="@firebase/remote-config",QL="@firebase/remote-config-compat",JL="@firebase/storage",XL="@firebase/storage-compat",ej="@firebase/firestore",tj="@firebase/vertexai-preview",nj="@firebase/firestore-compat",rj="firebase",ij="10.12.4";var _g="[DEFAULT]",oj={[yg]:"fire-core",[OL]:"fire-core-compat",[FL]:"fire-analytics",[kL]:"fire-analytics-compat",[LL]:"fire-app-check",[PL]:"fire-app-check-compat",[jL]:"fire-auth",[VL]:"fire-auth-compat",[UL]:"fire-rtdb",[BL]:"fire-rtdb-compat",[$L]:"fire-fn",[HL]:"fire-fn-compat",[GL]:"fire-iid",[zL]:"fire-iid-compat",[WL]:"fire-fcm",[qL]:"fire-fcm-compat",[YL]:"fire-perf",[KL]:"fire-perf-compat",[ZL]:"fire-rc",[QL]:"fire-rc-compat",[JL]:"fire-gcs",[XL]:"fire-gcs-compat",[ej]:"fire-fst",[nj]:"fire-fst-compat",[tj]:"fire-vertex","fire-js":"fire-js",[rj]:"fire-js-all"};var Yu=new Map,sj=new Map,bg=new Map;function wI(t,e){try{t.container.addComponent(e)}catch(n){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Da(t){let e=t.name;if(bg.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,t);for(let n of Yu.values())wI(n,t);for(let n of sj.values())wI(n,t);return!0}function SI(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var aj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new ba("app","Firebase",aj);var Eg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};var TI=ij;function Dg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_g,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dr.create("bad-app-name",{appName:String(i)});if(n||(n=cg()),!n)throw Dr.create("no-options");let o=Yu.get(i);if(o){if(Gu(n,o.options)&&Gu(r,o.config))return o;throw Dr.create("duplicate-app",{appName:i})}let s=new Ca(i);for(let c of bg.values())s.addComponent(c);let a=new Eg(n,r,s);return Yu.set(i,a),a}function xI(t=_g){let e=Yu.get(t);if(!e&&t===_g&&cg())return Dg();if(!e)throw Dr.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let i=(r=oj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(a.join(" "));return}Da(new Kn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cj="firebase-heartbeat-database",lj=1,Ia="firebase-heartbeat-store",gg=null;function MI(){return gg||(gg=bI(cj,lj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ia)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dr.create("idb-open",{originalErrorMessage:t.message})})),gg}function uj(t){return be(this,null,function*(){try{let n=(yield MI()).transaction(Ia),r=yield n.objectStore(Ia).get(AI(t));return yield n.done,r}catch(e){if(e instanceof fi)vi.warn(e.message);else{let n=Dr.create("idb-get",{originalErrorMessage:e?.message});vi.warn(n.message)}}})}function CI(t,e){return be(this,null,function*(){try{let r=(yield MI()).transaction(Ia,"readwrite");yield r.objectStore(Ia).put(e,AI(t)),yield r.done}catch(n){if(n instanceof fi)vi.warn(n.message);else{let r=Dr.create("idb-set",{originalErrorMessage:n?.message});vi.warn(r.message)}}})}function AI(t){return`${t.name}!${t.options.appId}`}var dj=1024,fj=30*24*60*60*1e3,wg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return be(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=fj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return be(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DI(),{heartbeatsToSend:r,unsentEntries:i}=hj(this._heartbeatsCache.heartbeats),o=_a(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function DI(){return new Date().toISOString().substring(0,10)}function hj(t,e=dj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),II(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),II(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Cg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return be(this,null,function*(){return aI()?cI().then(()=>!0).catch(()=>!1):!1})}read(){return be(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield uj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return be(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return be(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function II(t){return _a(JSON.stringify({version:2,heartbeats:t})).length}function pj(t){Da(new Kn("platform-logger",e=>new vg(e),"PRIVATE")),Da(new Kn("heartbeat",e=>new wg(e),"PRIVATE")),Ir(yg,EI,t),Ir(yg,EI,"esm2017"),Ir("fire-js","")}pj("");var NI="@firebase/database",RI="1.0.6";var Iv="";function mj(t){Iv=t}var Rg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Te(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Og=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var u0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Rg(e)}}catch{}return new Og},_i=u0("localStorage"),kg=u0("sessionStorage");var Ro=new Mo("@firebase/database"),gj=function(){let t=1;return function(){return t++}}(),d0=function(t){let e=hI(t),n=new $u;n.update(e);let r=n.digest();return Hu.encodeByteArray(r)},Ha=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ha.apply(null,r):typeof r=="object"?e+=Te(r):e+=r,e+=" "}return e},Ei=null,OI=!0,vj=function(t,e){E(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ro.logLevel=de.VERBOSE,Ei=Ro.log.bind(Ro),e&&kg.set("logging_enabled",!0)):typeof t=="function"?Ei=t:(Ei=null,kg.remove("logging_enabled"))},et=function(...t){if(OI===!0&&(OI=!1,Ei===null&&kg.get("logging_enabled")===!0&&vj(!0)),Ei){let e=Ha.apply(null,t);Ei(e)}},Ga=function(t){return function(...e){et(t,...e)}},Fg=function(...t){let e="FIREBASE INTERNAL ERROR: "+Ha(...t);Ro.error(e)},Zn=function(...t){let e=`FIREBASE FATAL ERROR: ${Ha(...t)}`;throw Ro.error(e),new Error(e)},ut=function(...t){let e="FIREBASE WARNING: "+Ha(...t);Ro.warn(e)},yj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},f0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_j=function(t){if(mn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ko="[MIN_NAME]",wi="[MAX_NAME]",Bo=function(t,e){if(t===e)return 0;if(t===ko||e===wi)return-1;if(e===ko||t===wi)return 1;{let n=kI(t),r=kI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},bj=function(t,e){return t===e?0:t<e?-1:1},Sa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Te(e))},Sv=function(t){if(typeof t!="object"||t===null)return Te(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Te(e[r]),n+=":",n+=Sv(t[e[r]]);return n+="}",n},h0=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function dt(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var p0=function(t){E(!f0(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Ej=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Cj(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var Dj=new RegExp("^-?(0*)\\d{1,10}$"),Ij=-2147483648,Sj=2147483647,kI=function(t){if(Dj.test(t)){let e=Number(t);if(e>=Ij&&e<=Sj)return e}return null},$o=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},Tj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Na=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Pg=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Lg=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(e)}},Ra=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Zu="5",m0="v",g0="s",v0="r",y0="f",_0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,b0="ls",E0="p",jg="ac",w0="websocket",C0="long_polling";var Qu=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function xj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function D0(t,e,n){E(typeof e=="string","typeof type must == string"),E(typeof n=="object","typeof params must == object");let r;if(e===w0)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===C0)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xj(t)&&(n.ns=t.namespace);let i=[];return dt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Vg=class{constructor(){this.counters_={}}incrementCounter(e,n=1){gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tI(this.counters_)}};var Ig={},Sg={};function Tv(t){let e=t.toString();return Ig[e]||(Ig[e]=new Vg),Ig[e]}function Mj(t,e){let n=t.toString();return Sg[n]||(Sg[n]=e()),Sg[n]}var Ug=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&$o(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var FI="start",Aj="close",Nj="pLPCommand",Rj="pRTLPCB",I0="id",S0="pw",T0="ser",Oj="cb",kj="seg",Fj="ts",Pj="d",Lj="dframe",x0=1870,M0=30,jj=x0-M0,Vj=25e3,Uj=3e4,Bg=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ga(e),this.stats_=Tv(n),this.urlFn=c=>(this.appCheckToken&&(c[jg]=this.appCheckToken),D0(n,C0,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Ug(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Uj)),_j(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $g((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===FI)this.id=a,this.password=c;else if(s===Aj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[FI]="t",r[T0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Oj]=this.scriptTagHolder.uniqueCallbackIdentifier),r[m0]=Zu,this.transportSessionId&&(r[g0]=this.transportSessionId),this.lastSessionId&&(r[b0]=this.lastSessionId),this.applicationId&&(r[E0]=this.applicationId),this.appCheckToken&&(r[jg]=this.appCheckToken),typeof location<"u"&&location.hostname&&_0.test(location.hostname)&&(r[v0]=y0);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return mn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ej()&&!wj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Te(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=ag(n),i=h0(r,jj);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(mn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Lj]="t",r[I0]=e,r[S0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Te(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},$g=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,mn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=gj(),window[Nj+this.uniqueCallbackIdentifier]=e,window[Rj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||et("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[I0]=this.myID,e[S0]=this.myPW,e[T0]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+M0+r.length<=x0;){let s=this.pendingSegs.shift();r=r+"&"+kj+i+"="+s.seg+"&"+Fj+i+"="+s.ts+"&"+Pj+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Vj)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){mn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Bj=16384,$j=45e3,Ju=null;typeof MozWebSocket<"u"?Ju=MozWebSocket:typeof WebSocket<"u"&&(Ju=WebSocket);var Ta=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ga(this.connId),this.stats_=Tv(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[m0]=Zu,!mn()&&typeof location<"u"&&location.hostname&&_0.test(location.hostname)&&(a[v0]=y0),r&&(a[g0]=r),i&&(a[b0]=i),o&&(a[jg]=o),s&&(a[E0]=s),D0(n,w0,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let i;if(mn()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Zu}/${Iv}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Ju(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Ju!==null&&!t.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=xo(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(E(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Te(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=h0(r,Bj);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($j))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),Hj=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Bg,Ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Ta&&Ta.isAvailable(),i=r&&!Ta.previouslyFailed();if(n.webSocketOnly&&(r||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ta];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),Gj=6e4,zj=5e3,Wj=10*1024,qj=100*1024,Tg="t",PI="d",Yj="s",LI="r",Kj="e",jI="o",VI="a",UI="n",BI="p",Zj="h",Hg=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ga("c:"+this.id+":"),this.transportManager_=new Hj(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Na(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Wj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tg in e){let n=e[Tg];n===VI?this.upgradeIfSecondaryHealthy_():n===LI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Sa("t",e),r=Sa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:BI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:VI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Sa("t",e),r=Sa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Sa(Tg,e);if(PI in e){let r=e[PI];if(n===Zj){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===UI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Yj?this.onConnectionShutdown_(r):n===LI?this.onReset_(r):n===Kj?Fg("Server Error: "+r):n===jI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Zu!==r&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Na(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Gj))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Na(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:BI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Xu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var ed=class{constructor(e){this.allowedEvents_=e,this.listeners_={},E(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){E(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var td=class t extends ed{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return E(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var $I=32,HI=768,se=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function Q(){return new se("")}function z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xr(t){return t.pieces_.length-t.pieceNum_}function fe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new se(t.pieces_,e)}function A0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Qj(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function N0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function R0(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new se(e,0)}function Pe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof se)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new se(n,0)}function q(t){return t.pieceNum_>=t.pieces_.length}function rt(t,e){let n=z(t),r=z(e);if(n===null)return e;if(n===r)return rt(fe(t),fe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function xv(t,e){if(xr(t)!==xr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(xr(t)>xr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Gg=class{constructor(e,n){this.errorPrefix_=n,this.parts_=N0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=wa(this.parts_[r]);O0(this)}};function Jj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wa(e),O0(t)}function Xj(t){let e=t.parts_.pop();t.byteLength_-=wa(e),t.parts_.length>0&&(t.byteLength_-=1)}function O0(t){if(t.byteLength_>HI)throw new Error(t.errorPrefix_+"has a key path longer than "+HI+" bytes ("+t.byteLength_+").");if(t.parts_.length>$I)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$I+") or object contains a cycle "+yi(t))}function yi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var zg=class t extends ed{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return E(e==="visible","Unknown event type: "+e),[this.visible_]}};var xa=1e3,eV=60*5*1e3,GI=30*1e3,tV=1.3,nV=3e4,rV="server_kill",zI=3,Mv=(()=>{class t extends Xu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Ga("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xa,this.maxReconnectDelay_=eV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!mn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&td.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Te(s)),E(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Cr,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),E(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&gn(n,"w")){let i=pi(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||dI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=uI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),E(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Te(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Fg("Unrecognized action received from server: "+Te(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){E(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nV&&(this.reconnectDelay_=xa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tV)}this.onConnectStatus_(!1)}establishConnection_(){return be(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){E(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Hg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ut(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rV)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ut(f),l())}}})}interrupt(n){et("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){et("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ug(this.interruptReasons_)&&(this.reconnectDelay_=xa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Sv(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new se(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){et("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zI&&(this.reconnectDelay_=GI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){et("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";mn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Iv.replace(/\./g,"-")]=1,lg()?n["framework.cordova"]=1:sI()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=td.getInstance().currentlyOnline();return ug(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),W=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Fo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new W(ko,e),i=new W(ko,n);return this.compare(r,i)!==0}minPost(){return W.MIN}};var Ku,nd=class extends Fo{static get __EMPTY_NODE(){return Ku}static set __EMPTY_NODE(e){Ku=e}compare(e,n){return Bo(e.name,n.name)}isDefinedOn(e){throw hi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return W.MIN}maxPost(){return new W(wi,Ku)}makePost(e,n){return E(typeof e=="string","KeyIndex indexValue must always be a string."),new W(e,Ku)}toString(){return".key"}},Oo=new nd;var No=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},qt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??Rt.EMPTY_NODE,this.right=s??Rt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Wg=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new qt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Rt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new No(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new No(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new No(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new No(this.root_,null,this.comparator_,!0,e)}};Rt.EMPTY_NODE=new Wg;function iV(t,e){return Bo(t.name,e.name)}function Av(t,e){return Bo(t,e)}var qg;function oV(t){qg=t}var k0=function(t){return typeof t=="number"?"number:"+p0(t):"string:"+t},F0=function(t){if(t.isLeafNode()){let e=t.val();E(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gn(e,".sv"),"Priority must be a string or number.")}else E(t===qg||t.isEmpty(),"priority of unexpected type.");E(t===qg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var WI,Po=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,E(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),F0(this.priorityNode_)}static set __childrenNodeConstructor(n){WI=n}static get __childrenNodeConstructor(){return WI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return q(n)?this:z(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(E(i!==".priority"||xr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+k0(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=p0(this.value_):n+=this.value_,this.lazyHash_=d0(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(E(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return E(o>=0,"Unknown leaf type: "+r),E(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),P0,L0;function sV(t){P0=t}function aV(t){L0=t}var Yg=class extends Fo{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Bo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return W.MIN}maxPost(){return new W(wi,new Po("[PRIORITY-POST]",L0))}makePost(e,n){let r=P0(e);return new W(n,new Po("[PRIORITY-POST]",r))}toString(){return".priority"}},_e=new Yg;var cV=Math.log(2),Kg=class{constructor(e){let n=o=>parseInt(Math.log(o)/cV,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},rd=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new qt(f,d.node,qt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),g=i(h+1,l);return d=t[h],f=n?n(d):d,new qt(f,d.node,qt.BLACK,p,g)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,g){let _=d-p,D=d;d-=p;let L=i(_+1,D),K=t[_],ne=n?n(K):K;h(new qt(ne,K.node,g,null,L))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let g=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));g?f(_,qt.BLACK):(f(_,qt.BLACK),f(_,qt.RED))}return u},s=new Kg(t.length),a=o(s);return new Rt(r||e,a)};var xg,Ao={},Lo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return E(Ao&&_e,"ChildrenNode.ts has not been loaded"),xg=xg||new t({".priority":Ao},{".priority":_e}),xg}get(e){let n=pi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return gn(this.indexSet_,e.toString())}addIndex(e,n){E(e!==Oo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(W.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=rd(r,e.getCompare()):a=Ao;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Ea(this.indexes_,(i,o)=>{let s=pi(this.indexSet_,o);if(E(s,"Missing index implementation for "+o),i===Ao)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(W.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),rd(a,s.getCompare())}else return Ao;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new W(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ea(this.indexes_,i=>{if(i===Ao)return i;{let o=n.get(e.name);return o?i.remove(new W(e.name,o)):i}});return new t(r,this.indexSet_)}};var Ma,j=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&F0(this.priorityNode_),this.children_.isEmpty()&&E(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ma||(Ma=new t(new Rt(Av),null,Lo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ma}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ma:r}}getChild(n){let r=z(n);return r===null?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(E(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new W(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ma:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=z(n);if(i===null)return r;{E(z(n)!==".priority"||xr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(_e,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+k0(this.getPriority().val())+":"),this.forEachChild(_e,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":d0(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new W(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new W(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new W(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,W.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===za?-1:0}withIndex(n){if(n===Oo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Oo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(_e),o=r.getIterator(_e),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Oo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Zg=class extends j{constructor(){super(new Rt(Av),j.EMPTY_NODE,Lo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return j.EMPTY_NODE}isEmpty(){return!1}},za=new Zg;Object.defineProperties(W,{MIN:{value:new W(ko,j.EMPTY_NODE)},MAX:{value:new W(wi,za)}});nd.__EMPTY_NODE=j.EMPTY_NODE;Po.__childrenNodeConstructor=j;oV(za);aV(za);var lV=!0;function Be(t,e=null){if(t===null)return j.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),E(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Po(n,Be(e))}if(!(t instanceof Array)&&lV){let n=[],r=!1;if(dt(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Be(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new W(s,c)))}}),n.length===0)return j.EMPTY_NODE;let o=rd(n,iV,s=>s.name,Av);if(r){let s=rd(n,_e.getCompare());return new j(o,Be(e),new Lo({".priority":s},{".priority":_e}))}else return new j(o,Be(e),Lo.Default)}else{let n=j.EMPTY_NODE;return dt(t,(r,i)=>{if(gn(t,r)&&r.substring(0,1)!=="."){let o=Be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Be(e))}}sV(Be);var Qg=class extends Fo{constructor(e){super(),this.indexPath_=e,E(!q(e)&&z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Bo(e.name,n.name):o}makePost(e,n){let r=Be(e),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new W(n,i)}maxPost(){let e=j.EMPTY_NODE.updateChild(this.indexPath_,za);return new W(wi,e)}toString(){return N0(this.indexPath_,0).join("/")}};var Jg=class extends Fo{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Bo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return W.MIN}maxPost(){return W.MAX}makePost(e,n){let r=Be(e);return new W(n,r)}toString(){return".value"}},uV=new Jg;function j0(t){return{type:"value",snapshotNode:t}}function jo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pa(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function La(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dV(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ja=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){E(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Pa(n,a)):E(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(jo(n,r)):s.trackChildChange(La(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(_e,(i,o)=>{n.hasChild(i)||r.trackChildChange(Pa(i,o))}),n.isLeafNode()||n.forEachChild(_e,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(La(i,o,s))}else r.trackChildChange(jo(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?j.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var id=class t{constructor(e){this.indexedFilter_=new ja(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new W(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);let o=this;return n.forEachChild(_e,(s,a)=>{o.matches(new W(s,a))||(i=i.updateImmediateChild(s,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Xg=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new id(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new W(n,r))||(r=j.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;E(a.numChildren()===this.limit_,"");let c=new W(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(La(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Pa(n,d));let g=a.updateImmediateChild(n,j.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(jo(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Pa(l.name,l.node)),o.trackChildChange(jo(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,j.EMPTY_NODE)):e}};var ev=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_e}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return E(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return E(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ko}hasEnd(){return this.endSet_}getIndexEndValue(){return E(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return E(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return E(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_e}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function fV(t){return t.loadsAllData()?new ja(t.getIndex()):t.hasLimit()?new Xg(t):new id(t)}function qI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===_e?n="$priority":t.index_===uV?n="$value":t.index_===Oo?n="$key":(E(t.index_ instanceof Qg,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Te(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Te(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Te(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Te(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Te(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function YI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==_e&&(e.i=t.index_.toString()),e}var tv=class t extends Xu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ga("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(E(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=qI(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),pi(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=qI(e._queryParams),r=e._path.toString(),i=new Cr;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+fI(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=xo(a.responseText)}catch{ut("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ut("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var nv=class{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function od(){return{value:null,children:new Map}}function V0(t,e,n){if(q(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=z(e);t.children.has(r)||t.children.set(r,od());let i=t.children.get(r);e=fe(e),V0(i,e,n)}}function rv(t,e,n){t.value!==null?n(e,t.value):hV(t,(r,i)=>{let o=new se(e.toString()+"/"+r);rv(i,o,n)})}function hV(t,e){t.children.forEach((n,r)=>{e(r,n)})}var iv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&dt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var KI=10*1e3,pV=30*1e3,mV=5*60*1e3,ov=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iv(e);let r=KI+(pV-KI)*Math.random();Na(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;dt(e,(i,o)=>{o>0&&gn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Na(this.reportStats_.bind(this),Math.floor(Math.random()*2*mV))}};var yn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(yn||{});function U0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rv(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var sv=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yn.ACK_USER_WRITE,this.source=U0()}operationForChild(e){if(q(this.path)){if(this.affectedTree.value!=null)return E(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new se(e));return new t(Q(),n,this.revert)}}else return E(z(this.path)===e,"operationForChild called for unrelated child."),new t(fe(this.path),this.affectedTree,this.revert)}};var sd=class t{constructor(e,n){this.source=e,this.path=n,this.type=yn.LISTEN_COMPLETE}operationForChild(e){return q(this.path)?new t(this.source,Q()):new t(this.source,fe(this.path))}};var Vo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yn.OVERWRITE}operationForChild(e){return q(this.path)?new t(this.source,Q(),this.snap.getImmediateChild(e)):new t(this.source,fe(this.path),this.snap)}};var ad=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yn.MERGE}operationForChild(e){if(q(this.path)){let n=this.children.subtree(new se(e));return n.isEmpty()?null:n.value?new Vo(this.source,Q(),n.value):new t(this.source,Q(),n)}else return E(z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var _n=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(q(e))return this.isFullyInitialized()&&!this.filtered_;let n=z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var av=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function gV(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dV(s.childName,s.snapshotNode))}),Aa(t,i,"child_removed",e,r,n),Aa(t,i,"child_added",e,r,n),Aa(t,i,"child_moved",o,r,n),Aa(t,i,"child_changed",e,r,n),Aa(t,i,"value",e,r,n),i}function Aa(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>yV(t,a,c)),s.forEach(a=>{let c=vV(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function vV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function yV(t,e,n){if(e.childName==null||n.childName==null)throw hi("Should only compare child_ events.");let r=new W(e.childName,e.snapshotNode),i=new W(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function wd(t,e){return{eventCache:t,serverCache:e}}function Oa(t,e,n,r){return wd(new _n(e,n,r),t.serverCache)}function B0(t,e,n,r){return wd(t.eventCache,new _n(e,n,r))}function cd(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ci(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Mg,_V=()=>(Mg||(Mg=new Rt(bj)),Mg),ft=class t{constructor(e,n=_V()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return dt(e,(r,i)=>{n=n.set(new se(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Q(),value:this.value};if(q(e))return null;{let r=z(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(fe(e),n);return o!=null?{path:Pe(new se(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(q(e))return this;{let n=z(e),r=this.children.get(n);return r!==null?r.subtree(fe(e)):new t(null)}}set(e,n){if(q(e))return new t(n,this.children);{let r=z(e),o=(this.children.get(r)||new t(null)).set(fe(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(q(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=z(e),r=this.children.get(n);if(r){let i=r.remove(fe(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(q(e))return this.value;{let n=z(e),r=this.children.get(n);return r?r.get(fe(e)):null}}setTree(e,n){if(q(e))return n;{let r=z(e),o=(this.children.get(r)||new t(null)).setTree(fe(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(Q(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Pe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Q(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(q(e))return null;{let o=z(e),s=this.children.get(o);return s?s.findOnPath_(fe(e),Pe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Q(),n)}foreachOnPath_(e,n,r){if(q(e))return this;{this.value&&r(n,this.value);let i=z(e),o=this.children.get(i);return o?o.foreachOnPath_(fe(e),Pe(n,i),r):new t(null)}}foreach(e){this.foreach_(Q(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Kt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ft(null))}};function ka(t,e,n){if(q(e))return new Kt(new ft(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=rt(i,e);return o=o.updateChild(s,n),new Kt(t.writeTree_.set(i,o))}else{let i=new ft(n),o=t.writeTree_.setTree(e,i);return new Kt(o)}}}function ZI(t,e,n){let r=t;return dt(n,(i,o)=>{r=ka(r,Pe(e,i),o)}),r}function QI(t,e){if(q(e))return Kt.empty();{let n=t.writeTree_.setTree(e,new ft(null));return new Kt(n)}}function cv(t,e){return Di(t,e)!=null}function Di(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rt(n.path,e)):null}function JI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(_e,(r,i)=>{e.push(new W(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new W(r,i.value))}),e}function Sr(t,e){if(q(e))return t;{let n=Di(t,e);return n!=null?new Kt(new ft(n)):new Kt(t.writeTree_.subtree(e))}}function lv(t){return t.writeTree_.isEmpty()}function Uo(t,e){return $0(Q(),t.writeTree_,e)}function $0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(E(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=$0(Pe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Pe(t,".priority"),r)),n}}function Cd(t,e){return W0(e,t)}function bV(t,e,n,r,i){E(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=ka(t.visibleWrites,e,n)),t.lastWriteId=r}function EV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);E(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&CV(a,r.path)?i=!1:Yt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return DV(t),!0;if(r.snap)t.visibleWrites=QI(t.visibleWrites,r.path);else{let a=r.children;dt(a,c=>{t.visibleWrites=QI(t.visibleWrites,Pe(r.path,c))})}return!0}else return!1}function CV(t,e){if(t.snap)return Yt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Yt(Pe(t.path,n),e))return!0;return!1}function DV(t){t.visibleWrites=H0(t.allWrites,IV,Q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IV(t){return t.visible}function H0(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Yt(n,s)?(a=rt(n,s),r=ka(r,a,o.snap)):Yt(s,n)&&(a=rt(s,n),r=ka(r,Q(),o.snap.getChild(a)));else if(o.children){if(Yt(n,s))a=rt(n,s),r=ZI(r,a,o.children);else if(Yt(s,n))if(a=rt(s,n),q(a))r=ZI(r,Q(),o.children);else{let c=pi(o.children,z(a));if(c){let l=c.getChild(fe(a));r=ka(r,Q(),l)}}}else throw hi("WriteRecord should have .snap or .children")}}return r}function G0(t,e,n,r,i){if(!r&&!i){let o=Di(t.visibleWrites,e);if(o!=null)return o;{let s=Sr(t.visibleWrites,e);if(lv(s))return n;if(n==null&&!cv(s,Q()))return null;{let a=n||j.EMPTY_NODE;return Uo(s,a)}}}else{let o=Sr(t.visibleWrites,e);if(!i&&lv(o))return n;if(!i&&n==null&&!cv(o,Q()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Yt(l.path,e)||Yt(e,l.path))},a=H0(t.allWrites,s,e),c=n||j.EMPTY_NODE;return Uo(a,c)}}}function SV(t,e,n){let r=j.EMPTY_NODE,i=Di(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(_e,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Sr(t.visibleWrites,e);return n.forEachChild(_e,(s,a)=>{let c=Uo(Sr(o,new se(s)),a);r=r.updateImmediateChild(s,c)}),JI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Sr(t.visibleWrites,e);return JI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function TV(t,e,n,r,i){E(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Pe(e,n);if(cv(t.visibleWrites,o))return null;{let s=Sr(t.visibleWrites,o);return lv(s)?i.getChild(n):Uo(s,i.getChild(n))}}function xV(t,e,n,r){let i=Pe(e,n),o=Di(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Sr(t.visibleWrites,i);return Uo(s,r.getNode().getImmediateChild(n))}else return null}function MV(t,e){return Di(t.visibleWrites,e)}function AV(t,e,n,r,i,o,s){let a,c=Sr(t.visibleWrites,e),l=Di(c,Q());if(l!=null)a=l;else if(n!=null)a=Uo(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function NV(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function ld(t,e,n,r){return G0(t.writeTree,t.treePath,e,n,r)}function Ov(t,e){return SV(t.writeTree,t.treePath,e)}function XI(t,e,n,r){return TV(t.writeTree,t.treePath,e,n,r)}function ud(t,e){return MV(t.writeTree,Pe(t.treePath,e))}function RV(t,e,n,r,i,o){return AV(t.writeTree,t.treePath,e,n,r,i,o)}function kv(t,e,n){return xV(t.writeTree,t.treePath,e,n)}function z0(t,e){return W0(Pe(t.treePath,e),t.writeTree)}function W0(t,e){return{treePath:t,writeTree:e}}var uv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;E(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),E(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,La(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Pa(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,jo(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,La(r,e.snapshotNode,i.oldSnap));else throw hi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var dv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},q0=new dv,Va=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new _n(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kv(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ci(this.viewCache_),o=RV(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function OV(t){return{filter:t}}function kV(t,e){E(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),E(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FV(t,e,n,r,i){let o=new uv,s,a;if(n.type===yn.OVERWRITE){let l=n;l.source.fromUser?s=fv(t,e,l.path,l.snap,r,i,o):(E(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!q(l.path),s=dd(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===yn.MERGE){let l=n;l.source.fromUser?s=LV(t,e,l.path,l.children,r,i,o):(E(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=hv(t,e,l.path,l.children,r,i,a,o))}else if(n.type===yn.ACK_USER_WRITE){let l=n;l.revert?s=UV(t,e,l.path,r,i,o):s=jV(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===yn.LISTEN_COMPLETE)s=VV(t,e,n.path,r,o);else throw hi("Unknown operation type: "+n.type);let c=o.getChanges();return PV(e,s,c),{viewCache:s,changes:c}}function PV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=cd(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(j0(cd(e)))}}function Y0(t,e,n,r,i,o){let s=e.eventCache;if(ud(r,n)!=null)return e;{let a,c;if(q(n))if(E(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Ci(e),u=l instanceof j?l:j.EMPTY_NODE,d=Ov(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=ld(r,Ci(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=z(n);if(l===".priority"){E(xr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=XI(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=fe(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=XI(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=kv(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Oa(e,a,s.isFullyInitialized()||q(n),t.filter.filtersNodes())}}function dd(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(q(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=z(n);if(!c.isCompleteForPath(n)&&xr(n)>1)return e;let p=fe(n),_=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,q0,null)}let d=B0(e,l,c.isFullyInitialized()||q(n),u.filtersNodes()),f=new Va(i,d,o);return Y0(t,d,n,i,f,a)}function fv(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new Va(i,e,o);if(q(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Oa(e,l,!0,t.filter.filtersNodes());else{let d=z(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Oa(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=fe(n),h=a.getNode().getImmediateChild(d),p;if(q(f))p=r;else{let g=u.getCompleteChild(d);g!=null?A0(f)===".priority"&&g.getChild(R0(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=j.EMPTY_NODE}if(h.equals(p))c=e;else{let g=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=Oa(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function e0(t,e){return t.eventCache.isCompleteForChild(e)}function LV(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Pe(n,c);e0(e,z(u))&&(a=fv(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Pe(n,c);e0(e,z(u))||(a=fv(t,a,u,l,i,o,s))}),a}function t0(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function hv(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;q(n)?l=r:l=new ft(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=t0(t,h,f);c=dd(t,c,new se(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),g=t0(t,p,f);c=dd(t,c,new se(d),g,i,o,s,a)}}),c}function jV(t,e,n,r,i,o,s){if(ud(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(q(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return dd(t,e,n,c.getNode().getChild(n),i,o,a,s);if(q(n)){let l=new ft(null);return c.getNode().forEachChild(Oo,(u,d)=>{l=l.set(new se(u),d)}),hv(t,e,n,l,i,o,a,s)}else return e}else{let l=new ft(null);return r.foreach((u,d)=>{let f=Pe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),hv(t,e,n,l,i,o,a,s)}}function VV(t,e,n,r,i){let o=e.serverCache,s=B0(e,o.getNode(),o.isFullyInitialized()||q(n),o.isFiltered());return Y0(t,s,n,r,q0,i)}function UV(t,e,n,r,i,o){let s;if(ud(r,n)!=null)return e;{let a=new Va(r,e,i),c=e.eventCache.getNode(),l;if(q(n)||z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ld(r,Ci(e));else{let d=e.serverCache.getNode();E(d instanceof j,"serverChildren would be complete if leaf node"),u=Ov(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=z(n),d=kv(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,fe(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,j.EMPTY_NODE,fe(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ld(r,Ci(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||ud(r,Q())!=null,Oa(e,l,s,t.filter.filtersNodes())}}var pv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ja(r.getIndex()),o=fV(r);this.processor_=OV(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(j.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new _n(c,s.isFullyInitialized(),i.filtersNodes()),d=new _n(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=wd(d,u),this.eventGenerator_=new av(this.query_)}get query(){return this.query_}};function BV(t){return t.viewCache_.serverCache.getNode()}function $V(t){return cd(t.viewCache_)}function HV(t,e){let n=Ci(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!q(e)&&!n.getImmediateChild(z(e)).isEmpty())?n.getChild(e):null}function n0(t){return t.eventRegistrations_.length===0}function GV(t,e){t.eventRegistrations_.push(e)}function r0(t,e,n){let r=[];if(n){E(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function i0(t,e,n,r){e.type===yn.MERGE&&e.source.queryId!==null&&(E(Ci(t.viewCache_),"We should always have a full cache before handling merges"),E(cd(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=FV(t.processor_,i,e,n,r);return kV(t.processor_,o.viewCache),E(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,K0(t,o.changes,o.viewCache.eventCache.getNode(),null)}function zV(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(_e,(o,s)=>{r.push(jo(o,s))}),n.isFullyInitialized()&&r.push(j0(n.getNode())),K0(t,r,n.getNode(),e)}function K0(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return gV(t.eventGenerator_,e,n,i)}var fd,hd=class{constructor(){this.views=new Map}};function WV(t){E(!fd,"__referenceConstructor has already been defined"),fd=t}function qV(){return E(fd,"Reference.ts has not been loaded"),fd}function YV(t){return t.views.size===0}function Fv(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return E(o!=null,"SyncTree gave us an op for an invalid query."),i0(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(i0(s,e,n,r));return o}}function Z0(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=ld(n,i?r:null),c=!1;a?c=!0:r instanceof j?(a=Ov(n,r),c=!1):(a=j.EMPTY_NODE,c=!1);let l=wd(new _n(a,c,!1),new _n(r,i,!1));return new pv(e,l)}return s}function KV(t,e,n,r,i,o){let s=Z0(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),GV(s,n),zV(s,n)}function ZV(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=Mr(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(r0(l,n,r)),n0(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(r0(c,n,r)),n0(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Mr(t)&&o.push(new(qV())(e._repo,e._path)),{removed:o,events:s}}function Q0(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Tr(t,e){let n=null;for(let r of t.views.values())n=n||HV(r,e);return n}function J0(t,e){if(e._queryParams.loadsAllData())return Dd(t);{let r=e._queryIdentifier;return t.views.get(r)}}function X0(t,e){return J0(t,e)!=null}function Mr(t){return Dd(t)!=null}function Dd(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var pd;function QV(t){E(!pd,"__referenceConstructor has already been defined"),pd=t}function JV(){return E(pd,"Reference.ts has not been loaded"),pd}var XV=1,md=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=NV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function eS(t,e,n,r,i){return bV(t.pendingWriteTree_,e,n,r,i),i?qa(t,new Vo(U0(),e,n)):[]}function bi(t,e,n=!1){let r=EV(t.pendingWriteTree_,e);if(wV(t.pendingWriteTree_,e)){let o=new ft(null);return r.snap!=null?o=o.set(Q(),!0):dt(r.children,s=>{o=o.set(new se(s),!0)}),qa(t,new sv(r.path,o,n))}else return[]}function Wa(t,e,n){return qa(t,new Vo(Nv(),e,n))}function e2(t,e,n){let r=ft.fromObject(n);return qa(t,new ad(Nv(),e,r))}function t2(t,e){return qa(t,new sd(Nv(),e))}function n2(t,e,n){let r=Lv(t,n);if(r){let i=jv(r),o=i.path,s=i.queryId,a=rt(o,e),c=new sd(Rv(s),a);return Vv(t,o,c)}else return[]}function gd(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||X0(s,e))){let c=ZV(s,e,n,r);YV(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>Mr(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=o2(f);for(let p=0;p<h.length;++p){let g=h[p],_=g.query,D=iS(t,g);t.listenProvider_.startListening(Fa(_),Ua(t,_),D.hashFn,D.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Fa(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(Id(f));t.listenProvider_.stopListening(Fa(f),h)}))}s2(t,l)}return a}function tS(t,e,n,r){let i=Lv(t,r);if(i!=null){let o=jv(i),s=o.path,a=o.queryId,c=rt(s,e),l=new Vo(Rv(a),c,n);return Vv(t,s,l)}else return[]}function r2(t,e,n,r){let i=Lv(t,r);if(i){let o=jv(i),s=o.path,a=o.queryId,c=rt(s,e),l=ft.fromObject(n),u=new ad(Rv(a),c,l);return Vv(t,s,u)}else return[]}function mv(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=rt(f,i);o=o||Tr(h,p),s=s||Mr(h)});let a=t.syncPointTree_.get(i);a?(s=s||Mr(a),o=o||Tr(a,Q())):(a=new hd,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=j.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=Tr(p,Q());g&&(o=o.updateImmediateChild(h,g))}));let l=X0(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=Id(e);E(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=a2();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Cd(t.pendingWriteTree_,i),d=KV(a,e,n,u,o,c);if(!l&&!s&&!r){let f=J0(a,e);d=d.concat(c2(t,e,f))}return d}function Pv(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=rt(s,e),l=Tr(a,c);if(l)return l});return G0(i,e,o,n,!0)}function i2(t,e){let n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=rt(l,n);r=r||Tr(u,d)});let i=t.syncPointTree_.get(n);i?r=r||Tr(i,Q()):(i=new hd,t.syncPointTree_=t.syncPointTree_.set(n,i));let o=r!=null,s=o?new _n(r,!0,!1):null,a=Cd(t.pendingWriteTree_,e._path),c=Z0(i,e,a,o?s.getNode():j.EMPTY_NODE,o);return $V(c)}function qa(t,e){return nS(e,t.syncPointTree_,null,Cd(t.pendingWriteTree_,Q()))}function nS(t,e,n,r){if(q(t.path))return rS(t,e,n,r);{let i=e.get(Q());n==null&&i!=null&&(n=Tr(i,Q()));let o=[],s=z(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=z0(r,s);o=o.concat(nS(a,c,l,u))}return i&&(o=o.concat(Fv(i,t,r,n))),o}}function rS(t,e,n,r){let i=e.get(Q());n==null&&i!=null&&(n=Tr(i,Q()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=z0(r,s),u=t.operationForChild(s);u&&(o=o.concat(rS(u,a,c,l)))}),i&&(o=o.concat(Fv(i,t,r,n))),o}function iS(t,e){let n=e.query,r=Ua(t,n);return{hashFn:()=>(BV(e)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?n2(t,n._path,r):t2(t,n._path);{let o=Cj(i,n);return gd(t,n,null,o)}}}}function Ua(t,e){let n=Id(e);return t.queryToTagMap.get(n)}function Id(t){return t._path.toString()+"$"+t._queryIdentifier}function Lv(t,e){return t.tagToQueryMap.get(e)}function jv(t){let e=t.indexOf("$");return E(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new se(t.substr(0,e))}}function Vv(t,e,n){let r=t.syncPointTree_.get(e);E(r,"Missing sync point for query tag that we're tracking");let i=Cd(t.pendingWriteTree_,e);return Fv(r,n,i,null)}function o2(t){return t.fold((e,n,r)=>{if(n&&Mr(n))return[Dd(n)];{let i=[];return n&&(i=Q0(n)),dt(r,(o,s)=>{i=i.concat(s)}),i}})}function Fa(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(JV())(t._repo,t._path):t}function s2(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=Id(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function a2(){return XV++}function c2(t,e,n){let r=e._path,i=Ua(t,e),o=iS(t,n),s=t.listenProvider_.startListening(Fa(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)E(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!q(l)&&u&&Mr(u))return[Dd(u).query];{let f=[];return u&&(f=f.concat(Q0(u).map(h=>h.query))),dt(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Fa(u),Ua(t,u))}}return s}var gv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},vv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Pe(this.path_,e);return new t(this.syncTree_,n)}node(){return Pv(this.syncTree_,this.path_)}},l2=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},o0=function(t,e,n){if(!t||typeof t!="object")return t;if(E(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return u2(t[".sv"],e,n);if(typeof t[".sv"]=="object")return d2(t[".sv"],e);E(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},u2=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:E(!1,"Unexpected server value: "+t)}},d2=function(t,e,n){t.hasOwnProperty("increment")||E(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&E(!1,"Unexpected increment value: "+r);let i=e.node();if(E(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},f2=function(t,e,n,r){return Uv(e,new vv(n,t),r)},oS=function(t,e,n){return Uv(t,new gv(e),n)};function Uv(t,e,n){let r=t.getPriority().val(),i=o0(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=o0(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Po(a,Be(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Po(i))),s.forEachChild(_e,(a,c)=>{let l=Uv(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var Ba=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Bv(t,e){let n=e instanceof se?e:new se(e),r=t,i=z(n);for(;i!==null;){let o=pi(r.node.children,i)||{children:{},childCount:0};r=new Ba(i,r,o),n=fe(n),i=z(n)}return r}function Ho(t){return t.node.value}function sS(t,e){t.node.value=e,yv(t)}function aS(t){return t.node.childCount>0}function h2(t){return Ho(t)===void 0&&!aS(t)}function Sd(t,e){dt(t.node.children,(n,r)=>{e(new Ba(n,t,r))})}function cS(t,e,n,r){n&&!r&&e(t),Sd(t,i=>{cS(i,e,!0,r)}),n&&r&&e(t)}function p2(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ya(t){return new se(t.parent===null?t.name:Ya(t.parent)+"/"+t.name)}function yv(t){t.parent!==null&&m2(t.parent,t.name,t)}function m2(t,e,n){let r=h2(n),i=gn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yv(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yv(t))}var g2=/[\[\].#$\/\u0000-\u001F\u007F]/,v2=/[\[\].#$\u0000-\u001F\u007F]/,Ag=10*1024*1024,lS=function(t){return typeof t=="string"&&t.length!==0&&!g2.test(t)},uS=function(t){return typeof t=="string"&&t.length!==0&&!v2.test(t)},y2=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uS(t)};var _2=function(t,e,n,r){r&&e===void 0||$v(zu(t,"value"),e,n)},$v=function(t,e,n){let r=n instanceof se?new Gg(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+yi(r));if(typeof e=="function")throw new Error(t+"contains a function "+yi(r)+" with contents = "+e.toString());if(f0(e))throw new Error(t+"contains "+e.toString()+" "+yi(r));if(typeof e=="string"&&e.length>Ag/3&&wa(e)>Ag)throw new Error(t+"contains a string greater than "+Ag+" utf8 bytes "+yi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(dt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!lS(s)))throw new Error(t+" contains an invalid key ("+s+") "+yi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Jj(r,s),$v(t,a,r),Xj(r)}),i&&o)throw new Error(t+' contains ".value" child '+yi(r)+" in addition to actual children.")}};var dS=function(t,e,n,r){if(!(r&&n===void 0)&&!uS(n))throw new Error(zu(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},b2=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dS(t,e,n,r)},E2=function(t,e){if(z(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},w2=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!y2(n))throw new Error(zu(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _v=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Hv(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!xv(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function fS(t,e,n){Hv(t,n),hS(t,r=>xv(r,e))}function bn(t,e,n){Hv(t,n),hS(t,r=>Yt(r,e)||Yt(e,r))}function hS(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(C2(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function C2(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Ei&&et("event: "+n.toString()),$o(r)}}}var D2="repo_interrupt",I2=25,bv=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _v,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=od(),this.transactionQueueTree_=new Ba,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function S2(t,e,n){if(t.stats_=Tv(t.repoInfo_),t.forceRestClient_||Tj())t.server_=new tv(t.repoInfo_,(r,i,o,s)=>{s0(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>a0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Te(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Mv(t.repoInfo_,e,(r,i,o,s)=>{s0(t,r,i,o,s)},r=>{a0(t,r)},r=>{x2(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Mj(t.repoInfo_,()=>new ov(t.stats_,t.server_)),t.infoData_=new nv,t.infoSyncTree_=new md({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Wa(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),zv(t,"connected",!1),t.serverSyncTree_=new md({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);bn(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function T2(t){let n=t.infoData_.getNode(new se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Gv(t){return l2({timestamp:T2(t)})}function s0(t,e,n,r,i){t.dataUpdateCount++;let o=new se(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Ea(n,l=>Be(l));s=r2(t.serverSyncTree_,o,c,i)}else{let c=Be(n);s=tS(t.serverSyncTree_,o,c,i)}else if(r){let c=Ea(n,l=>Be(l));s=e2(t.serverSyncTree_,o,c)}else{let c=Be(n);s=Wa(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=xd(t,o)),bn(t.eventQueue_,a,s)}function a0(t,e){zv(t,"connected",e),e===!1&&N2(t)}function x2(t,e){dt(e,(n,r)=>{zv(t,n,r)})}function zv(t,e,n){let r=new se("/.info/"+e),i=Be(n);t.infoData_.updateSnapshot(r,i);let o=Wa(t.infoSyncTree_,r,i);bn(t.eventQueue_,r,o)}function pS(t){return t.nextWriteId_++}function M2(t,e,n){let r=i2(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{let o=Be(i).withIndex(e._queryParams.getIndex());mv(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=Wa(t.serverSyncTree_,e._path,o);else{let a=Ua(t.serverSyncTree_,e);s=tS(t.serverSyncTree_,e._path,o,a)}return bn(t.eventQueue_,e._path,s),gd(t.serverSyncTree_,e,n,null,!0),o},i=>(Td(t,"get for query "+Te(e)+" failed: "+i),Promise.reject(new Error(i))))}function A2(t,e,n,r,i){Td(t,"set",{path:e.toString(),value:n,priority:r});let o=Gv(t),s=Be(n,r),a=Pv(t.serverSyncTree_,e),c=oS(s,a,o),l=pS(t),u=eS(t.serverSyncTree_,e,c,l,!0);Hv(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||ut("set at "+e+" failed: "+f);let g=bi(t.serverSyncTree_,l,!p);bn(t.eventQueue_,e,g),k2(t,i,f,h)});let d=_S(t,e);xd(t,d),bn(t.eventQueue_,d,[])}function N2(t){Td(t,"onDisconnectEvents");let e=Gv(t),n=od();rv(t.onDisconnect_,Q(),(i,o)=>{let s=f2(i,o,t.serverSyncTree_,e);V0(n,i,s)});let r=[];rv(n,Q(),(i,o)=>{r=r.concat(Wa(t.serverSyncTree_,i,o));let s=_S(t,i);xd(t,s)}),t.onDisconnect_=od(),bn(t.eventQueue_,Q(),r)}function R2(t,e,n){let r;z(e._path)===".info"?r=mv(t.infoSyncTree_,e,n):r=mv(t.serverSyncTree_,e,n),fS(t.eventQueue_,e._path,r)}function c0(t,e,n){let r;z(e._path)===".info"?r=gd(t.infoSyncTree_,e,n):r=gd(t.serverSyncTree_,e,n),fS(t.eventQueue_,e._path,r)}function O2(t){t.persistentConnection_&&t.persistentConnection_.interrupt(D2)}function Td(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),et(n,...e)}function k2(t,e,n,r){e&&$o(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,e(s)}})}function mS(t,e,n){return Pv(t.serverSyncTree_,e,n)||j.EMPTY_NODE}function Wv(t,e=t.transactionQueueTree_){if(e||Md(t,e),Ho(e)){let n=vS(t,e);E(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&F2(t,Ya(e),n)}else aS(e)&&Sd(e,n=>{Wv(t,n)})}function F2(t,e,n){let r=n.map(l=>l.currentWriteId),i=mS(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];E(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=rt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{Td(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(bi(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Md(t,Bv(t.transactionQueueTree_,e)),Wv(t,t.transactionQueueTree_),bn(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)$o(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ut("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}xd(t,e)}},s)}function xd(t,e){let n=gS(t,e),r=Ya(n),i=vS(t,n);return P2(t,i,r),r}function P2(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=rt(n,c.path),u=!1,d;if(E(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(bi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=I2)u=!0,d="maxretry",i=i.concat(bi(t.serverSyncTree_,c.currentWriteId,!0));else{let f=mS(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){$v("transaction failed: Data returned ",h,c.path);let p=Be(h);typeof h=="object"&&h!=null&&gn(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,D=Gv(t),L=oS(p,f,D);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=L,c.currentWriteId=pS(t),s.splice(s.indexOf(_),1),i=i.concat(eS(t.serverSyncTree_,c.path,L,c.currentWriteId,c.applyLocally)),i=i.concat(bi(t.serverSyncTree_,_,!0))}else u=!0,d="nodata",i=i.concat(bi(t.serverSyncTree_,c.currentWriteId,!0))}bn(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Md(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)$o(r[a]);Wv(t,t.transactionQueueTree_)}function gS(t,e){let n,r=t.transactionQueueTree_;for(n=z(e);n!==null&&Ho(r)===void 0;)r=Bv(r,n),e=fe(e),n=z(e);return r}function vS(t,e){let n=[];return yS(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yS(t,e,n){let r=Ho(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sd(e,i=>{yS(t,i,n)})}function Md(t,e){let n=Ho(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sS(e,n.length>0?n:void 0)}Sd(e,r=>{Md(t,r)})}function _S(t,e){let n=Ya(gS(t,e)),r=Bv(t.transactionQueueTree_,e);return p2(r,i=>{Ng(t,i)}),Ng(t,r),cS(r,i=>{Ng(t,i)}),n}function Ng(t,e){let n=Ho(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(E(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(E(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(bi(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?sS(e,void 0):n.length=o+1,bn(t.eventQueue_,Ya(e),i);for(let s=0;s<r.length;s++)$o(r[s])}}function L2(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function j2(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ut(`Invalid query segment '${n}' in query '${t}'`)}return e}var l0=function(t,e){let n=V2(t),r=n.namespace;n.domain==="firebase.com"&&Zn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yj();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new se(n.pathString)}},V2=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=L2(t.substring(u,d)));let f=j2(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var vd=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Te(this.snapshot.exportVal())}},yd=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var _d=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return E(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Ev=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:A0(this._path)}get ref(){return new En(this._repo,this._path)}get _queryIdentifier(){let e=YI(this._queryParams),n=Sv(e);return n==="{}"?"default":n}get _queryObject(){return YI(this._queryParams)}isEqual(e){if(e=mi(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=xv(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Qj(this._path)}};var En=class t extends Ev{constructor(e,n){super(e,n,new ev,!1)}get parent(){let e=R0(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},$a=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new se(e),r=bd(this.ref,e);return new t(this._node.getChild(n),r,_e)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,bd(this.ref,r),_e)))}hasChild(e){let n=new se(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Ka(t,e){return t=mi(t),t._checkNotDeleted("ref"),e!==void 0?bd(t._root,e):t._root}function bd(t,e){return t=mi(t),z(t._path)===null?b2("child","path",e,!1):dS("child","path",e,!1),new En(t._repo,Pe(t._path,e))}function qv(t,e){t=mi(t),E2("set",t._path),_2("set",e,t._path,!1);let n=new Cr;return A2(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bS(t){t=mi(t);let e=new _d(()=>{}),n=new Ed(e);return M2(t._repo,t,n).then(r=>new $a(r,new En(t._repo,t._path),t._queryParams.getIndex()))}var Ed=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new vd("value",this,new $a(e.snapshotNode,new En(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yd(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},wv=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new yd(this,e,n):null}createEvent(e,n){E(e.childName!=null,"Child events should have a childName.");let r=bd(new En(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new vd(e.type,this,new $a(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function U2(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{c0(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new _d(n,o||void 0),a=e==="value"?new Ed(s):new wv(e,s);return R2(t._repo,t,a),()=>c0(t._repo,t,a)}function ES(t,e,n,r){return U2(t,"value",e,n,r)}WV(En);QV(En);var B2="FIREBASE_DATABASE_EMULATOR_HOST",Cv={},$2=!1;function H2(t,e,n,r){t.repoInfo_=new Qu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function G2(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=l0(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[B2]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=l0(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ra(Ra.OWNER):new Lg(t.name,t.options,e);w2("Invalid Firebase Database URL",s),q(s.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=W2(a,t,u,new Pg(t.name,n));return new Dv(d,t)}function z2(t,e){let n=Cv[e];(!n||n[t.key]!==t)&&Zn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),O2(t),delete n[t.key]}function W2(t,e,n,r){let i=Cv[e.name];i||(i={},Cv[e.name]=i);let o=i[t.toURLString()];return o&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new bv(t,$2,n,r),i[t.toURLString()]=o,o}var Dv=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(S2(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new En(this._repo,Q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(z2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Zn("Cannot call "+e+" on a deleted database.")}};function wS(t=xI(),e){let n=SI(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=iI("database");r&&q2(n,...r)}return n}function q2(t,e,n,r={}){t=mi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Zn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ra(Ra.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:oI(r.mockUserToken,t.app.options.projectId);o=new Ra(s)}H2(i,e,n,o)}function Y2(t){mj(TI),Da(new Kn("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return G2(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ir(NI,RI,t),Ir(NI,RI,"esm2017")}Mv.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mv.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Y2();var Ad=(()=>{class t{store;db=wS();constructor(n){this.store=n}sendMessage(n){console.log(n);let r=Ka(this.db,"chats/"+n.senderId+"/"+n.receiverId+"/"+n.timestamp),i=Ka(this.db,"chats/"+n.receiverId+"/"+n.senderId+"/"+n.timestamp);return ie(qv(r,{messageText:n.messageText,senderId:n.senderId,receiverId:n.receiverId,timestamp:n.timestamp})),ie(qv(i,{messageText:n.messageText,senderId:n.senderId,receiverId:n.receiverId,timestamp:n.timestamp}))}listenForMessages(n){let r=Ka(this.db,"chats/"+localStorage.getItem("objectId")+"/"+n),i=[];ES(r,o=>{i=[],o.forEach(s=>{i.push(s.val())}),this.store.dispatch(Uu({messages:i}))})}getUsers(){let n=Ka(this.db,"chats/"+localStorage.getItem("objectId"));bS(n).then(r=>{let i=[];r.forEach(o=>{i.push(o.key)}),this.store.dispatch(HD({objectsId:i}))})}static \u0275fac=function(r){return new(r||t)(b(Fe))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K2=(t,e)=>e.email;function Z2(t,e){if(t&1){let n=_s();w(0,"li",5),ee("click",function(){let i=eo(n),o=i.$implicit,s=i.$index,a=lt();return to(a.openChatWindow(o.objectId,s))}),w(1,"div",6)(2,"div",7),$(3,"img",8),I(),w(4,"div",9)(5,"div",10)(6,"p"),U(7),I()()()()()}if(t&2){let n=e.$implicit;Z(7),Qr("",n.firstName," ",n.lastName,"")}}function Q2(t,e){}var DS=(()=>{class t{authService;messagingService;store;constructor(n,r,i){this.authService=n,this.messagingService=r,this.store=i}searchInput="";users=[];ngOnInit(){this.store.select(WD).subscribe(n=>{n!==void 0&&(this.users=n,setTimeout(()=>{this.openChatWindow(this.users[0].objectId,0)},5))}),this.messagingService.getUsers()}findUsers(){this.searchInput.length!==0?this.authService.findUsersByName(this.searchInput,n=>{this.users=n}):setTimeout(()=>{this.messagingService.getUsers()},50)}openChatWindow(n,r){this.store.dispatch(To()),this.store.dispatch(Bu({objectId:n})),document.querySelectorAll(".users-list").forEach((o,s)=>{let a=o.querySelector(".name-class");s!==r?(o.classList.remove("bg-green-600"),a?.classList.remove("text-white"),a?.classList.add("text-gray-700")):(o.classList.add("bg-green-600"),o.classList.add("text-gray-600"),a?.classList.add("text-white"),a?.classList.remove("text-gray-700"))})}static \u0275fac=function(r){return new(r||t)(S(pn),S(Ad),S(Fe))};static \u0275cmp=Re({type:t,selectors:[["app-users"]],standalone:!0,features:[Oe],decls:7,vars:2,consts:[[1,"h-full","px-5","pt-3","bg-[#EEF2F1]"],[1,"w-full"],["placeholder","Search for a user",1,"basis-[95%]","w-full","px-2","text-xl","font-light","border","outline-none","rounded-md","border-gray-300","focus:border-blue-600",3,"ngModelChange","ngModel"],[1,"basis-[94%]"],[1,"users-list","flex","flex-col-reverse","p-5","mt-5","rounded-md","cursor-pointer"],[1,"users-list","flex","flex-col-reverse","p-5","mt-5","rounded-md","cursor-pointer",3,"click"],[1,"flex"],[1,"h-11","w-11","rounded-full"],["src","./assets/user.jpg",1,"rounded-full"],[1,"name-class","w-full","flex","flex-col","justify-center","pl-3","text-gray-700"],[1,"w-full","flex","items-center","text-xl"]],template:function(r,i){r&1&&(w(0,"div",0)(1,"div",1)(2,"input",2),ws("ngModelChange",function(s){return Cl(i.searchInput,s)||(i.searchInput=s),s}),ee("ngModelChange",function(){return i.findUsers()}),I()(),w(3,"ul",3),El(4,Z2,8,2,"li",4,K2,!1,Q2,0,0),I()()),r&2&&(Z(2),Es("ngModel",i.searchInput),Z(2),wl(i.users))},dependencies:[zt,Cu,Mt,dn,na]})}return t})();var Nd=class{messageText;senderId;receiverId;timestamp;constructor(e,n,r,i){this.messageText=e,this.senderId=n,this.receiverId=r,this.timestamp=i}};var Z9=Io("sendMessage"),J2=Io("messages"),X2=Io("chat"),IS=hn(J2,t=>t),Rd=hn(X2,t=>t);var eU=(t,e)=>e.timestamp;function tU(t,e){t&1&&(w(0,"p",1),U(1,"No messages here"),I())}function nU(t,e){t&1&&$(0,"img",12)}function rU(t,e){if(t&1&&(w(0,"p"),U(1),I()),t&2){let n=lt().$implicit,r=lt();Z(),Qr(" ",n.senderId===(r.senderUser==null?null:r.senderUser.objectId)?r.senderUser==null?null:r.senderUser.firstName:r.receiverUser==null?null:r.receiverUser.firstName," ",n.senderId===(r.senderUser==null?null:r.senderUser.objectId)?r.senderUser==null?null:r.senderUser.lastName:r.receiverUser==null?null:r.receiverUser.lastName," ")}}function iU(t,e){if(t&1&&(w(0,"ul",3)(1,"li",11),ct(2,nU,1,0,"img",12),I(),w(3,"li",13)(4,"div",14),ct(5,rU,2,2,"p"),I(),w(6,"div",15)(7,"p",16),U(8),I(),w(9,"p",17),U(10),VE(11,"date"),I()()()()),t&2){let n=e.$implicit,r=e.$index,i=e.$index,o=lt();Ve("ngClass",n.senderId===o.getCurrentObjectId()?"justify-end flex-row-reverse":"justify-start flex-row"),Z(2),Je(i===0||o.messages[r].senderId!==o.messages[r-1].senderId?2:-1),Z(2),Ve("ngClass",n.senderId===o.getCurrentObjectId()?"justify-end pr-2":"justify-start pl-2"),Z(),Je(i===0||o.messages[r].senderId!==o.messages[r-1].senderId?5:-1),Z(),Ve("ngClass",n.senderId===o.getCurrentObjectId()?"pr-2 flex-row-reverse":"flex-row pl-2"),Z(2),bs(" ",n.messageText," "),Z(2),bs(" ",UE(11,7,n.timestamp,"hh:mm aa")," ")}}function oU(t,e){}var SS=(()=>{class t{store;messages=[];senderUser;receiverUser;text="";constructor(n){this.store=n}ngOnInit(){this.store.select(IS).subscribe(n=>{this.messages=n}),this.store.select(Vu).subscribe(n=>{this.senderUser=n}),this.store.select(zD).subscribe(n=>{this.receiverUser=n}),this.store.select(Rd).subscribe(n=>{n.openChat&&(this.store.dispatch(JD({objectId:n.objectId})),this.store.dispatch($D({objectId:n.objectId})))})}sendMessage(){if(this.text!==""){let n=new Nd(this.text,localStorage.getItem("objectId"),this.receiverUser.objectId,Date.now().toString());this.text="",console.log(n),this.store.dispatch(ZD({message:n}))}}getCurrentObjectId(){return localStorage.getItem("objectId")}static \u0275fac=function(r){return new(r||t)(S(Fe))};static \u0275cmp=Re({type:t,selectors:[["app-chat"]],standalone:!0,features:[Oe],decls:13,vars:3,consts:[[1,"h-full","w-full","flex","flex-col","pt-3","px-3","bg-[#F6EFEE]"],[1,"w-full","text-center","bg-gray-500","text-white"],[1,"basis-[94%]","flex","flex-col","mb-3","py-3","bg-white","rounded-md","overflow-y-auto"],[1,"flex","px-5",3,"ngClass"],[1,"basis-[6%]","flex","mb-3"],["placeholder","Type a message",1,"basis-[95%]","w-full","h-full","px-2","text-xl","border-gray-300","outline-none","border","rounded-md","focus:border-blue-600","font-lightborder",3,"ngModelChange","keydown.enter","ngModel"],[1,"basis-[5%]","p-2"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#16a34a","height","32px","width","32px","version","1.1","id","Capa_1","viewBox","0 0 495.003 495.003",0,"xml","space","preserve",1,"cursor-pointer",3,"click"],["id","XMLID_51_"],["id","XMLID_53_","d","M164.711,456.687c0,2.966,1.647,5.686,4.266,7.072c2.617,1.385,5.799,1.207,8.245-0.468l55.09-37.616   l-67.6-32.22V456.687z"],["id","XMLID_52_","d","M492.431,32.443c-1.513-1.395-3.466-2.125-5.44-2.125c-1.19,0-2.377,0.264-3.5,0.816L7.905,264.422   c-4.861,2.389-7.937,7.353-7.904,12.783c0.033,5.423,3.161,10.353,8.057,12.689l125.342,59.724l250.62-205.99L164.455,364.414   l156.145,74.4c1.918,0.919,4.012,1.376,6.084,1.376c1.768,0,3.519-0.322,5.186-0.977c3.637-1.438,6.527-4.318,7.97-7.956   L494.436,41.257C495.66,38.188,494.862,34.679,492.431,32.443z"],[1,"w-11","rounded-full"],["src","./assets/user.jpg",1,"rounded-full"],[1,"w-full","flex","flex-col"],[1,"w-full","flex","text-xl",3,"ngClass"],[1,"flex","items-center","select-text",3,"ngClass"],[1,"text-lg","font-light"],[1,"ml-2","font-light","text-xs","px-2"]],template:function(r,i){r&1&&(w(0,"div",0),ct(1,tU,2,0,"p",1),w(2,"div",2),El(3,iU,12,10,"ul",3,eU,!1,oU,0,0),I(),w(6,"div",4)(7,"input",5),ws("ngModelChange",function(s){return Cl(i.text,s)||(i.text=s),s}),ee("keydown.enter",function(){return i.sendMessage()}),I(),w(8,"div",6),kn(),w(9,"svg",7),ee("click",function(){return i.sendMessage()}),w(10,"g",8),$(11,"path",9)(12,"path",10),I()()()()()),r&2&&(Z(),Je(i.messages.length===0?1:-1),Z(2),wl(i.messages),Z(4),Es("ngModel",i.text))},dependencies:[zt,Vl,cw,Cu,Mt,dn,na]})}return t})();var TS=(()=>{class t{authService;currentUser;hiddenSettings=Rb();constructor(n){this.authService=n}ngOnInit(){this.authService.findUserByEmail(localStorage.getItem("email"),n=>{this.currentUser=n,this.infoGroup.controls.firstName.setValue(this.currentUser.firstName),this.infoGroup.controls.lastName.setValue(this.currentUser.lastName),this.infoGroup.controls.email.setValue(this.currentUser.email),this.currentUser.provider==="google"&&(this.infoGroup.controls.email.disable(),this.infoGroup.controls.password.disable())})}infoGroup=new wr({firstName:new Xe("",[qe.required]),lastName:new Xe("",[qe.required]),email:new Xe("",[qe.required,qe.email]),password:new Xe("")});updateInfos(){this.infoGroup.valid&&this.currentUser.provider!=="google"?this.authService.updateInfos(localStorage.getItem("objectId"),this.infoGroup.value.firstName,this.infoGroup.value.lastName,this.infoGroup.value.email,this.infoGroup.value.password.length>=8?this.infoGroup.value.password:void 0,n=>{localStorage.setItem("email",n.email)}):this.infoGroup.valid&&this.authService.updateInfos(localStorage.getItem("objectId"),this.infoGroup.value.firstName,this.infoGroup.value.lastName,void 0,void 0,n=>{})}hideSettings(){this.hiddenSettings.emit(!0)}static \u0275fac=function(r){return new(r||t)(S(pn))};static \u0275cmp=Re({type:t,selectors:[["app-settings"]],outputs:{hiddenSettings:"hiddenSettings"},standalone:!0,features:[Oe],decls:27,vars:1,consts:[[1,"h-full","w-full","border-t"],[1,"w-full","p-8"],[1,"flex","items-center","cursor-pointer",3,"click"],[1,"h-8","w-8"],["src","./assets/back.png"],[1,"ml-2","font-bold"],[1,"w-full","h-3/6","flex","justify-center"],[1,"settings-form","w-1/3","flex","flex-col","justify-between",3,"formGroup"],[1,"text-xl","font-bold"],["placeholder","First name","formControlName","firstName",1,"w-full","text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],["placeholder","Last name","formControlName","lastName",1,"w-full","text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],["type","email","placeholder","email","formControlName","email",1,"w-full","text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],["type","password","formControlName","password",1,"w-full","text-xl","font-light","h-9","px-2","border","border-gray-300","outline-none","rounded-md","focus:border-blue-600"],[1,"bg-green-600","text-white","h-9","text-xl","font-light","rounded-md",3,"click"]],template:function(r,i){r&1&&(w(0,"div",0)(1,"header",1)(2,"div",2),ee("click",function(){return i.hideSettings()}),w(3,"div",3),$(4,"img",4),I(),w(5,"p",5),U(6,"Back"),I()()(),w(7,"div",6)(8,"form",7)(9,"div")(10,"label",8),U(11,"First name"),I(),$(12,"input",9),I(),w(13,"div")(14,"label",8),U(15,"Last name"),I(),$(16,"input",10),I(),w(17,"div")(18,"label",8),U(19,"Email"),I(),$(20,"input",11),I(),w(21,"div")(22,"label",8),U(23,"Password"),I(),$(24,"input",12),I(),w(25,"button",13),ee("click",function(){return i.updateInfos()}),U(26," Save "),I()()()()),r&2&&(Z(8),Ve("formGroup",i.infoGroup))},dependencies:[wo,Eo,Mt,dn,bo,ai,ci],styles:["@media only screen and (max-width: 600px){.settings-form[_ngcontent-%COMP%]{width:90%}}"]})}return t})();var sU=t=>[t];function aU(t,e){if(t&1){let n=_s();w(0,"ul",13)(1,"li",17),ee("click",function(){eo(n);let i=lt();return to(i.openSettings())}),w(2,"div",18),$(3,"img",19),I(),w(4,"p",11),U(5,"Settings"),I()(),w(6,"li",17),ee("click",function(){eo(n);let i=lt();return to(i.logout())}),w(7,"div",18),$(8,"img",20),I(),w(9,"p",11),U(10,"Logout"),I()()()}}function cU(t,e){if(t&1&&$(0,"app-users",14),t&2){let n=lt();Ve("ngClass",LE(1,sU,n.openedChat?"basis-1/3":"basis-full"))}}function lU(t,e){if(t&1&&$(0,"app-chat",15),t&2){let n=lt();Ve("ngClass",n.openedChat?"basis-2/3":"basis-0")}}function uU(t,e){if(t&1){let n=_s();w(0,"app-settings",21),ee("hiddenSettings",function(){eo(n);let i=lt();return to(i.closeSettings())}),I()}if(t&2){let n=lt();Ve("ngClass",n.openedSettings?"basis-full":"basis-0")}}var xS=(()=>{class t{router;authService;store;openedChat=!1;openedSettings=!1;openedPanel=!1;openedUsersPanelInMobile=!1;changed=!1;constructor(n,r,i){this.router=n,this.authService=r,this.store=i,localStorage.getItem("email")===null||localStorage.getItem("userToken")===null||localStorage.getItem("objectId")===null?this.router.navigate(["/login"]):(this.store.dispatch(GD({token:localStorage.getItem("userToken")})),this.store.select(qD).subscribe(o=>{o!==void 0&&!o&&this.router.navigate(["/login"])})),this.getFullName()}currentUser;ngOnInit(){this.store.select(Rd).subscribe(n=>{this.openedChat=n.openChat}),this.store.select(Vu).subscribe(n=>{this.currentUser=n})}getFullName(){this.store.dispatch(BD({objectId:localStorage.getItem("objectId")}))}openPanel(){this.openedPanel=!this.openedPanel}openSettings(){this.openedPanel=!1,this.openedChat=!1,this.openedSettings=!0}closeSettings(){this.openedSettings=!1}logout(){localStorage.clear(),this.authService.logout(),localStorage.length===0&&this.router.navigate(["/login"])}showMenu(){this.openedUsersPanelInMobile=!this.openedUsersPanelInMobile}change(){this.changed=!this.changed}static \u0275fac=function(r){return new(r||t)(S(un),S(pn),S(Fe))};static \u0275cmp=Re({type:t,selectors:[["app-home"]],standalone:!0,features:[Oe],decls:19,vars:6,consts:[[1,"home","h-screen","w-full","flex","flex-col","select-none"],[1,"h-[10%]","flex","items-center","justify-between","px-7","mb:px-3","bg-white"],[1,"h-full","flex","items-center"],[1,"h-full","w-6","justify-center","hidden","mb:flex","mb:items-center",3,"click"],["src","./assets/menu.png"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","fill","#16a34a","height","48px","width","48px","version","1.1","id","Capa_1","viewBox","0 0 60 60",0,"xml","space","preserve",1,"ml-4"],["d","M30,1.5c-16.542,0-30,12.112-30,27c0,5.205,1.647,10.246,4.768,14.604c-0.591,6.537-2.175,11.39-4.475,13.689  c-0.304,0.304-0.38,0.769-0.188,1.153C0.276,58.289,0.625,58.5,1,58.5c0.046,0,0.093-0.003,0.14-0.01  c0.405-0.057,9.813-1.412,16.617-5.338C21.622,54.711,25.738,55.5,30,55.5c16.542,0,30-12.112,30-27S46.542,1.5,30,1.5z"],[1,"text-3xl","ml-2"],[1,"w-44","flex","justify-end","items-center","relative",3,"click"],[1,"h-9","w-9"],["src","./assets/user.jpg"],[1,"cursor-pointer"],[1,"h-[90%]","flex","flex-1","relative"],[1,"w-24","flex","flex-col","bg-white","border-b","border-r","border-l","absolute","right-0","mx-7","mb:mx-3"],[1,"mb:absolute","mb:h-full",3,"ngClass"],[1,"mb:basis-full",3,"ngClass"],[3,"ngClass"],[1,"flex","my-3","items-center",3,"click"],[1,"h-9","w-9","p-1","pl-2","content-center"],["src","./assets/settings.png"],["src","./assets/logout.png"],[3,"hiddenSettings","ngClass"]],template:function(r,i){r&1&&(w(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3),ee("click",function(){return i.showMenu()}),$(4,"img",4),I(),kn(),w(5,"svg",5),$(6,"path",6),I(),Kr(),w(7,"p",7),U(8,"Chat"),I()(),w(9,"div",8),ee("click",function(){return i.openPanel()}),w(10,"div",9),$(11,"img",10),I(),w(12,"p",11),U(13),I()()(),w(14,"div",12),ct(15,aU,11,0,"ul",13)(16,cU,1,3,"app-users",14)(17,lU,1,1,"app-chat",15)(18,uU,1,1,"app-settings",16),I()()),r&2&&(Z(13),Qr(" ",i.currentUser==null?null:i.currentUser.firstName," ",i.currentUser==null?null:i.currentUser.lastName," "),Z(2),Je(i.openedPanel?15:-1),Z(),Je(i.openedSettings?-1:16),Z(),Je(i.openedChat?17:-1),Z(),Je(i.openedSettings?18:-1))},dependencies:[zt,Vl,DS,SS,TS]})}return t})();var MS=[{title:"Home",path:"home",component:xS},{title:"Login",path:"login",component:YD,data:{animation:"Login"}},{title:"Signup",path:"signup",component:KD,data:{animation:"Signup"}},{path:"",redirectTo:"/home",pathMatch:"full"}];var dU={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Od="__@ngrx/effects_create__";function wn(t,e={}){let n=e.functional?t:t(),r=v(v({},dU),e);return Object.defineProperty(n,Od,{value:r}),n}function fU(t){return Object.getOwnPropertyNames(t).filter(r=>t[r]&&t[r].hasOwnProperty(Od)?t[r][Od].hasOwnProperty("dispatch"):!1).map(r=>{let i=t[r][Od];return v({propertyName:r},i)})}function hU(t){return fU(t)}function AS(t){return Object.getPrototypeOf(t)}function pU(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function NS(t){return typeof t=="function"}function mU(t){return t.filter(NS)}function gU(t,e,n){let r=AS(t),o=!!r&&r.constructor.name!=="Object"?r.constructor.name:null,s=hU(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:l})=>{let u=typeof t[a]=="function"?t[a]():t[a],d=l?n(u,e):u;return c===!1?d.pipe(rf()):d.pipe(lf()).pipe(T(h=>({effect:t[a],notification:h,propertyName:a,sourceName:o,sourceInstance:t})))});return Dc(...s)}var vU=10;function RS(t,e,n=vU){return t.pipe(Le(r=>(e&&e.handleError(r),n<=1?t:RS(t,e,n-1))))}var kd=(()=>{let e=class e extends P{constructor(r){super(),r&&(this.source=r)}lift(r){let i=new e;return i.source=this,i.operator=r,i}};e.\u0275fac=function(i){return new(i||e)(b(pa))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cn(...t){return Ae(e=>t.some(n=>typeof n=="string"?n===e.type:n.type===e.type))}var Rq=new y("@ngrx/effects Internal Root Guard"),Oq=new y("@ngrx/effects User Provided Effects"),kq=new y("@ngrx/effects Internal Root Effects"),Fq=new y("@ngrx/effects Internal Root Effects Instances"),Pq=new y("@ngrx/effects Internal Feature Effects"),Lq=new y("@ngrx/effects Internal Feature Effects Instance Groups"),yU=new y("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>RS}),_U="@ngrx/effects/init",bU=ge(_U);function EU(t,e){if(t.notification.kind==="N"){let n=t.notification.value;!wU(n)&&e.handleError(new Error(`Effect ${CU(t)} dispatched an invalid action: ${DU(n)}`))}}function wU(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function CU({propertyName:t,sourceInstance:e,sourceName:n}){let r=typeof e[t]=="function";return!!n?`"${n}.${String(t)}${r?"()":""}"`:`"${String(t)}()"`}function DU(t){try{return JSON.stringify(t)}catch{return t}}var IU="ngrxOnIdentifyEffects";function SU(t){return Yv(t,IU)}var TU="ngrxOnRunEffects";function xU(t){return Yv(t,TU)}var MU="ngrxOnInitEffects";function AU(t){return Yv(t,MU)}function Yv(t,e){return t&&e in t&&typeof t[e]=="function"}var OS=(()=>{let e=class e extends le{constructor(r,i){super(),this.errorHandler=r,this.effectsErrorHandler=i}addEffects(r){this.next(r)}toActions(){return this.pipe(Sc(r=>pU(r)?AS(r):r),ye(r=>r.pipe(Sc(NU))),ye(r=>{let i=r.pipe(Et(s=>RU(this.errorHandler,this.effectsErrorHandler)(s)),T(s=>(EU(s,this.errorHandler),s.notification)),Ae(s=>s.kind==="N"&&s.value!=null),sf()),o=r.pipe(ht(1),Ae(AU),T(s=>s.ngrxOnInitEffects()));return Dc(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(b(Dt),b(yU))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NU(t){return SU(t)?t.ngrxOnIdentifyEffects():""}function RU(t,e){return n=>{let r=gU(n,t,e);return xU(n)?n.ngrxOnRunEffects(r):r}}var OU=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(r,i){this.effectSources=r,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(b(OS),b(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kS(...t){let e=t.flat(),n=mU(e);return jt([n,{provide:Pt,multi:!0,useValue:()=>{m(fa),m(xu,{optional:!0});let r=m(OU),i=m(OS),o=!r.isStarted;o&&r.start();for(let s of e){let a=NS(s)?m(s):s;i.addEffects(a)}o&&m(Fe).dispatch(bU())}}])}var kU={state:"none",userData:void 0,validToken:void 0,currentLoggedInUser:void 0,userInContact:void 0,foundUsers:[]},PS=So(kU,Nt(Ou,(t,e)=>N(v({},t),{state:"success",userData:{email:e.email,userToken:e["user-token"],objectId:e.objectId}})),Nt(Yn,t=>N(v({},t),{state:"failed"})),Nt(To,t=>N(v({},t),{state:"none",userData:void 0,userInContact:void 0})),Nt(ku,(t,e)=>N(v({},t),{currentLoggedInUser:e.currentUserLoggedIn})),Nt(Fu,(t,e)=>N(v({},t),{userInContact:e.user})),Nt(Pu,(t,e)=>N(v({},t),{foundUsers:e.users})),Nt(Lu,(t,e)=>N(v({},t),{validToken:e.valid})));var LS=(()=>{class t{action$;authService;login$;signup$;tokenValid$;getCurrentLoggedInUser$;getUserByObjectId$;getAllUsers$;constructor(n,r){this.action$=n,this.authService=r,this.login$=wn(()=>this.action$.pipe(Cn(Qm),Et(i=>this.authService.login(i.email,i.password).pipe(T(o=>Ou({email:o.email,objectId:o.objectId,"user-token":o["user-token"]})),Le(()=>M(Yn())))))),this.signup$=wn(()=>this.action$.pipe(Cn(Zm),Et(i=>this.authService.signUp(i.user,i.password,i.provider).pipe(T(o=>ga({email:i.user.email,password:i.password})),Le(()=>M(Yn())))))),this.tokenValid$=wn(()=>this.action$.pipe(Cn(tg),Et(i=>this.authService.verifyIfTokenValid(i.token).pipe(T(o=>Lu({valid:o})),Le(()=>M(Yn())))))),this.getCurrentLoggedInUser$=wn(()=>this.action$.pipe(Cn(Jm),Et(i=>this.authService.findUserByObjectId(i.objectId).pipe(T(o=>ku({currentUserLoggedIn:o})),Le(()=>M(Yn())))))),this.getUserByObjectId$=wn(()=>this.action$.pipe(Cn(Xm),Et(i=>this.authService.findUserByObjectId(i.objectId).pipe(T(o=>Fu({user:o})),Le(()=>M(Yn())))))),this.getAllUsers$=wn(()=>this.action$.pipe(Cn(eg),Et(i=>this.authService.findUsersByObjectId(i.objectsId).pipe(T(o=>Pu({users:o})),Le(()=>M(Yn()))))))}static \u0275fac=function(r){return new(r||t)(b(kd),b(pn))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})();var FU=void 0,PU=[],LU={openChat:!1,objectId:""},jS=So(FU),VS=So(PU,Nt(Uu,(t,e)=>e.messages)),US=So(LU,Nt(QD,t=>N(v({},t),{openChat:!1,objectId:""})),Nt(Bu,(t,e)=>N(v({},t),{openChat:!0,objectId:e.objectId})));var BS=(()=>{class t{actions$;messagingService;sendMessage$;listenForMessages$;constructor(n,r){this.actions$=n,this.messagingService=r,this.sendMessage$=wn(()=>this.actions$.pipe(Cn(ng),T(i=>(this.messagingService.sendMessage(i.message),{type:""})))),this.listenForMessages$=wn(()=>this.actions$.pipe(Cn(rg),T(i=>(this.messagingService.listenForMessages(i.objectId),{type:""}))))}static \u0275fac=function(r){return new(r||t)(b(kd),b(Ad))};static \u0275prov=C({token:t,factory:t.\u0275fac})}return t})();var $S={providers:[WE({eventCoalescing:!0}),uC(MS),{provide:Gn,useClass:gp},bw(),UD(),ma("auth",PS),ma("sendMessage",jS),ma("messages",VS),ma("chat",US),kS(LS,BS)]};var HS=(()=>{class t{title="chat";constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Re({type:t,selectors:[["app-root"]],standalone:!0,features:[Oe],decls:1,vars:0,template:function(r,i){r&1&&$(0,"router-outlet")},dependencies:[lm]})}return t})();var jU="firebase",VU="10.12.4";Ir(jU,VU,"app");var UU={apiKey:"AIzaSyBaRYK1qyGrBi17GTypMzXGc5-vhC3HfBc",authDomain:"chat-e5d4f.firebaseapp.com",projectId:"chat-e5d4f",storageBucket:"chat-e5d4f.appspot.com",messagingSenderId:"841961552150",appId:"1:841961552150:web:d2639c5f872acf76e73837",databaseURL:"https://chat-e5d4f-default-rtdb.europe-west1.firebasedatabase.app"};Dg(UU);xw(HS,$S).catch(t=>console.error(t));
