<div @appear class="home h-screen w-full flex flex-col select-none">
  <header
    class="h-[10%] flex items-center justify-between px-7 mb:px-3 bg-white"
  >
    <div class="h-full flex items-center">
      <div
        class="h-full w-6 justify-center hidden mb:flex mb:items-center"
        (click)="showMenu()"
      >
        <img src="./assets/menu.png" />
      </div>

      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        fill="#16a34a"
        height="48px"
        width="48px"
        version="1.1"
        id="Capa_1"
        viewBox="0 0 60 60"
        xml:space="preserve"
        class="ml-4"
      >
        <path
          d="M30,1.5c-16.542,0-30,12.112-30,27c0,5.205,1.647,10.246,4.768,14.604c-0.591,6.537-2.175,11.39-4.475,13.689  c-0.304,0.304-0.38,0.769-0.188,1.153C0.276,58.289,0.625,58.5,1,58.5c0.046,0,0.093-0.003,0.14-0.01  c0.405-0.057,9.813-1.412,16.617-5.338C21.622,54.711,25.738,55.5,30,55.5c16.542,0,30-12.112,30-27S46.542,1.5,30,1.5z"
        />
      </svg>
      <p class="text-3xl ml-2">Chat</p>
    </div>
    <div
      class="w-44 flex justify-end items-center relative"
      (click)="openPanel()"
    >
      <div class="h-9 w-9">
        <img src="./assets/user.jpg" />
      </div>
      <p class="cursor-pointer">
        {{ currentUser?.firstName }} {{ currentUser?.lastName }}
      </p>
    </div>
  </header>

  <div class="h-[90%] flex flex-1 relative">
    <ul
      *ngIf="openedPanel"
      @appear
      class="w-24 flex flex-col bg-white border-b border-r border-l absolute right-0 mx-7 mb:mx-3"
    >
      <li class="flex my-3 items-center" (click)="openSettings()">
        <div class="h-9 w-9 p-1 pl-2 content-center">
          <img src="./assets/settings.png" />
        </div>
        <p class="cursor-pointer">Settings</p>
      </li>
      <li class="flex my-3 items-center" (click)="logout()">
        <div class="h-9 w-9 p-1 pl-2 content-center">
          <img src="./assets/logout.png" />
        </div>
        <p class="cursor-pointer">Logout</p>
      </li>
    </ul>
    <app-users
      *ngIf="!openedSettings"
      @appear
      [@openUsersPanel]="openedUsersPanelInMobile ? 'opened' : 'closed'"
      class="mb:absolute mb:h-full"
      [ngClass]="[openedChat ? 'basis-1/3' : 'basis-full']"
    ></app-users>

    <app-chat
      *ngIf="openedChat"
      @appear
      class="mb:basis-full"
      [ngClass]="openedChat ? 'basis-2/3' : 'basis-0'"
    ></app-chat>

    <app-settings
      *ngIf="openedSettings"
      @appear
      [ngClass]="openedSettings ? 'basis-full' : 'basis-0'"
      (hiddenSettings)="closeSettings()"
    ></app-settings>
  </div>
</div>
